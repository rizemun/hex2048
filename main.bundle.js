(()=>{"use strict";var e={348:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(15),a=t.n(o),r=t(645),i=t.n(r)()(a());i.push([e.id,'body {\n  margin: 0;\n  padding: 0;\n  background-color: #80cbc4;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\nh1 {\n  position: absolute;\n  top: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-family: Roboto, sans-serif;\n}\n.hexagon {\n  position: relative;\n}\n.hexagon::before,\n.hexagon::after {\n  content: \'\';\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  width: 50%;\n  height: 0;\n  z-index: -1;\n  padding-bottom: 50%;\n  background-color: inherit;\n}\n.hexagon::before {\n  right: 100%;\n  transform: translate(50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon::after {\n  left: 100%;\n  transform: translate(-50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon_outer {\n  background: #00675b;\n}\n.hexagon_outer:hover {\n  background-color: #64d8cb;\n}\n.hexagon_inner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: translate(-50%, -50%) scale(0.95);\n  background-color: #009688;\n  z-index: 2;\n  pointer-events: none;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 26px;\n}\n.hexagon[data-value="2"] .hexagon_inner {\n  background-color: #43a047;\n}\n.hexagon[data-value="4"] .hexagon_inner {\n  background-color: #4caf50;\n}\n.hexagon[data-value="8"] .hexagon_inner {\n  background-color: #66bb6a;\n}\n.hexagon[data-value="16"] .hexagon_inner {\n  background-color: #7cb342;\n}\n.hexagon[data-value="32"] .hexagon_inner {\n  background-color: #8bc34a;\n}\n.hexagon[data-value="64"] .hexagon_inner {\n  background-color: #9ccc65;\n}\n.hexagon[data-value="128"] .hexagon_inner {\n  background-color: #c0ca33;\n}\n.hexagon[data-value="256"] .hexagon_inner {\n  background-color: #cddc39;\n}\n.hexagon[data-value="512"] .hexagon_inner {\n  background-color: #d4e157;\n}\n.hexagon[data-value="1024"] .hexagon_inner {\n  background-color: #fdd835;\n}\n.hexagon[data-value="2048"] .hexagon_inner {\n  background-color: #ffeb3b;\n}\n.hexagon[data-value="4096"] .hexagon_inner {\n  background-color: #ffee58;\n}\n.hexagon[data-value="8192"] .hexagon_inner {\n  background-color: #ffb300;\n}\n.hexagon[data-value="16384"] .hexagon_inner {\n  background-color: #ffc107;\n}\n.hexagon[data-value="32768"] .hexagon_inner {\n  background-color: #ffca28;\n}\n.hexagon[data-value="56536"] .hexagon_inner {\n  background-color: #fb8c00;\n}\n.hexagon[data-value="131072"] .hexagon_inner {\n  background-color: #ff5722;\n}\n.hexagon[data-value="262144"] .hexagon_inner {\n  background-color: #f4511e;\n}\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.field__column {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n#url-server,\n#status,\n#countSelector {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 16px;\n  padding: 0.5em 1em;\n}\n#url-server {\n  top: 10%;\n}\n#countSelector {\n  top: calc(10% + 50px);\n  padding: 0;\n}\n#countSelector input {\n  display: block;\n}\n#status {\n  top: 90%;\n}\n',"",{version:3,sources:["webpack://./src/styles.less"],names:[],mappings:"AAEA;EACE,SAAA;EACA,UAAA;EACA,yBAAA;EACA,aAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AADF;AAIA;EACE,kBAAA;EACA,SAAA;EACA,SAAA;EACA,2BAAA;EACA,+BAAA;AAFF;AAMA;EACE,kBAAA;AAJF;AAME;;EAEE,WAAA;EACA,kBAAA;EACA,WAAA;EACA,QAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,mBAAA;EACA,yBAAA;AAJJ;AAOE;EACE,WAAA;EACA,+DAAA;AALJ;AAQE;EACE,UAAA;EACA,gEAAA;AANJ;AASE;EACE,mBAAA;AAPJ;AASI;EACE,yBAAA;AAPN;AAWE;EACE,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,4CAAA;EACA,yBAAA;EACA,UAAA;EACA,oBAAA;EACA,wCAAA;EACA,eAAA;AATJ;AAYE;EACE,yBAAA;AAVJ;AAaE;EACE,yBAAA;AAXJ;AAcE;EACE,yBAAA;AAZJ;AAeE;EACE,yBAAA;AAbJ;AAgBE;EACE,yBAAA;AAdJ;AAiBE;EACE,yBAAA;AAfJ;AAkBE;EACE,yBAAA;AAhBJ;AAmBE;EACE,yBAAA;AAjBJ;AAoBE;EACE,yBAAA;AAlBJ;AAqBE;EACE,yBAAA;AAnBJ;AAsBE;EACE,yBAAA;AApBJ;AAuBE;EACE,yBAAA;AArBJ;AAwBE;EACE,yBAAA;AAtBJ;AAyBE;EACE,yBAAA;AAvBJ;AA0BE;EACE,yBAAA;AAxBJ;AA2BE;EACE,yBAAA;AAzBJ;AA4BE;EACE,yBAAA;AA1BJ;AA6BE;EACE,yBAAA;AA3BJ;AA+BA;EACE,kBAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AA7BF;AA+BE;EACE,YAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;AA7BJ;AAiCA;;;EAGE,kBAAA;EACA,QAAA;EACA,SAAA;EACA,wCAAA;EACA,eAAA;EACA,kBAAA;AA/BF;AAkCA;EACE,QAAA;AAhCF;AAmCA;EACE,qBAAA;EACA,UAAA;AAjCF;AA+BA;EAKI,cAAA;AAjCJ;AAqCA;EACE,QAAA;AAnCF",sourcesContent:['@bgColor: #80cbc4;\n\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: @bgColor;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\nh1 {\n  position: absolute;\n  top: 40px;\n  left: 50%;\n  transform: translateX(-50%);\n  font-family: Roboto, sans-serif;\n\n}\n\n.hexagon {\n  position: relative;\n\n  &::before,\n  &::after {\n    content: \'\';\n    position: absolute;\n    right: 100%;\n    top: 50%;\n    width: 50%;\n    height: 0;\n    z-index: -1;\n    padding-bottom: 50%;\n    background-color: inherit;\n  }\n\n  &::before {\n    right: 100%;\n    transform: translate(50%, -50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &::after {\n    left: 100%;\n    transform: translate(-50%, -50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &_outer {\n    background: #00675b;\n\n    &:hover {\n      background-color: #64d8cb;\n    }\n  }\n\n  &_inner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transform: translate(-50%, -50%) scale(.95);\n    background-color: #009688;\n    z-index: 2;\n    pointer-events: none;\n    font-family: \'Roboto\', Arial, sans-serif;\n    font-size: 26px;\n  }\n\n  &[data-value="2"] &_inner {\n    background-color: #43a047;\n  }\n\n  &[data-value="4"] &_inner {\n    background-color: #4caf50;\n  }\n\n  &[data-value="8"] &_inner {\n    background-color: #66bb6a;\n  }\n\n  &[data-value="16"] &_inner {\n    background-color: #7cb342;\n  }\n\n  &[data-value="32"] &_inner {\n    background-color: #8bc34a;\n  }\n\n  &[data-value="64"] &_inner {\n    background-color: #9ccc65;\n  }\n\n  &[data-value="128"] &_inner {\n    background-color: #c0ca33;\n  }\n\n  &[data-value="256"] &_inner {\n    background-color: #cddc39;\n  }\n\n  &[data-value="512"] &_inner {\n    background-color: #d4e157;\n  }\n\n  &[data-value="1024"] &_inner {\n    background-color: #fdd835;\n  }\n\n  &[data-value="2048"] &_inner {\n    background-color: #ffeb3b;\n  }\n\n  &[data-value="4096"] &_inner {\n    background-color: #ffee58;\n  }\n\n  &[data-value="8192"] &_inner {\n    background-color: #ffb300;\n  }\n\n  &[data-value="16384"] &_inner {\n    background-color: #ffc107;\n  }\n\n  &[data-value="32768"] &_inner {\n    background-color: #ffca28;\n  }\n\n  &[data-value="56536"] &_inner {\n    background-color: #fb8c00;\n  }\n\n  &[data-value="131072"] &_inner {\n    background-color: #ff5722;\n  }\n\n  &[data-value="262144"] &_inner {\n    background-color: #f4511e;\n  }\n}\n\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &__column {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n}\n\n#url-server,\n#status,\n#countSelector {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 16px;\n  padding: .5em 1em;\n}\n\n#url-server {\n  top: 10%;\n}\n\n#countSelector {\n  top: calc(10% + 50px);\n  padding: 0;\n\n  input {\n    display: block;\n  }\n}\n\n#status {\n  top: 90%;\n}\n'],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);o&&a[l[0]]||(t&&(l[2]?l[2]="".concat(t," and ").concat(l[2]):l[2]=t),n.push(l))}},n}},15:e=>{function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}e.exports=function(e){var t,o,a=(o=4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=t){var o,a,r=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(r.push(o.value),!n||r.length!==n);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw a}}return r}}(t,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=a[1],i=a[3];if(!i)return r;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),A="/*# ".concat(l," */"),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[r].concat(c).concat([A]).join("\n")}return[r].join("\n")}},379:(e,n,t)=>{var o,a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),r=[];function i(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},o=[],a=0;a<e.length;a++){var s=e[a],l=n.base?s[0]+n.base:s[0],A=t[l]||0,c="".concat(l," ").concat(A);t[l]=A+1;var u=i(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:c,updater:g(d,n),references:1}),o.push(c)}return o}function l(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var A,c=(A=[],function(e,n){return A[e]=n,A.filter(Boolean).join("\n")});function u(e,n,t,o){var a=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=c(n,a);else{var r=document.createTextNode(a),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(r,i[n]):e.appendChild(r)}}function d(e,n,t){var o=t.css,a=t.media,r=t.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,f=0;function g(e,n){var t,o,a;if(n.singleton){var r=f++;t=h||(h=l(n)),o=u.bind(null,t,r,!1),a=u.bind(null,t,r,!0)}else t=l(n),o=d.bind(null,t,n),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else a()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var a=i(t[o]);r[a].references--}for(var l=s(e,n),A=0;A<t.length;A++){var c=i(t[A]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}t=l}}}}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={id:o,exports:{}};return e[o](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(379),n=t.n(e),o=t(348);n()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;class a{constructor({radius:e,coordinates:n}){this.radius=e,this.coordinates=n,this._neighbours={},this._value=0,this.oldValue=0,this.numbersToUse=[]}get neighbours(){return this._neighbours}set neighbours(e){this._neighbours=e}get value(){return this._value}set value(e){this._value=e,this.drawText(e||"")}drawCoordinates(){this.$innerEl.innerText=`[${this.coordinates.x}:${this.coordinates.y}:${this.coordinates.z}]`}drawText(e){this.$innerEl.innerText=e}render(){return this.$el=document.createElement("div"),this.$el.classList.add("hexagon"),this.$el.classList.add("hexagon_outer"),this.$el.hexagon=this,this.$el.innerHTML='<div class="hexagon hexagon_inner"></div>',this.$el.dataset.x=this.coordinates.x,this.$el.dataset.y=this.coordinates.y,this.$el.dataset.z=this.coordinates.z,this.$el.dataset.value=0,this.$innerEl=this.$el.children[0],this.$el}}const r="north",i="north-east",s="north-west",l="south",A="south-east",c="south-west";function u(e,n){return!!e[n]}class d{constructor(e,n){this.url=e,this.fieldSize=n}_onResponce(e){const n=new CustomEvent("serverResponse",{detail:e});document.dispatchEvent(n)}getData(e="[]"){fetch(`${this.url}/${this.fieldSize}`,{method:"post",body:e}).then((e=>e.json())).then(this._onResponce.bind(this))}setUrl(e){this.url=e}setFieldSize(e){this.fieldSize=e}}const h=document.getElementById("field");let f=document.getElementById("url-server")?.value??"",g={};const b=new class{constructor(){this.events={},document.addEventListener("keydown",this.onKeyDownTaskManager.bind(this))}onKeyDownTaskManager(e){this.events[e.code]&&this.events[e.code]()}onKeyDown(e,n){this.events[e]=n}offKeyDown(e){this.events[e]=""}};let v=0;const p=document.getElementById("count-range"),E=document.querySelectorAll("[data-count-button]"),m=document.querySelector("[data-status]");if(window.location.hash)switch(window.location.hash){case"#test2":v=2;break;case"#test3":v=3;break;case"#test4":v=4}else v=2;p.value=v,g=new class{constructor(e,n,t){this.$el=e,this.reinit(n,t)}reinit(e,n){this.size=e,this.tableSize=2*e-1,this.radius=n,this.table={},this.allHexagons=[],this._bindEvents(),this._addStyles(),this.render()}_bindEvents(){this._onServerResponse=this._onServerResponse.bind(this),document.removeEventListener("serverResponse",this._onServerResponse),document.addEventListener("serverResponse",this._onServerResponse)}_onServerResponse(e){if(console.log("%cev:","font-style:italic; color:#ce93d8",e),e.detail.forEach((e=>{const{x:n,y:t,z:o}=(a=e,{x:String(a.x),y:String(a.y),z:String(a.z)});var a;this.table[n][t][o].value=e.value,this.table[n][t][o].$el.dataset.value=e.value})),this.isGameOver()){const e=new CustomEvent("game:end",{});document.dispatchEvent(e)}}_cellExist({x:e,y:n,z:t}){return u(this.table,e)&&u(this.table[e],n)&&u(this.table[e][n],t)}_addCell({x:e,y:n,z:t}){u(this.table,e)||(this.table[e]={}),u(this.table[e],n)||(this.table[e][n]={}),u(this.table[e][n],t)||(this.table[e][n][t]="")}_saveCell(e,n){let{x:t,y:o,z:a}=n;this._cellExist(n)||this._addCell(n),this.table[t][o][a]=e}_getCell({x:e,y:n,z:t}){return this.table[e][n][t]}_findNeighbours(e){const{x:n,y:t,z:o}=function(e){return{x:Number(e.x),y:Number(e.y),z:Number(e.z)}}(e);return[{x:n+1,y:t-1,z:o,direction:A},{x:n-1,y:t+1,z:o,direction:s},{x:n,y:t+1,z:o-1,direction:r},{x:n,y:t-1,z:o+1,direction:l},{x:n+1,y:t,z:o-1,direction:i},{x:n-1,y:t,z:o+1,direction:c}].filter(this._cellExist.bind(this)).reduce(((e,n)=>(e[n.direction]=this._getCell(n),e)),{})}_updateNeighbours(e){this._getCell(e).neighbours=this._findNeighbours(e)}_calcHexSizes(){return this.innerRadius=Math.sqrt(3)/2*this.radius,{tallerSize:this.radius,widerSize:2*this.innerRadius}}_createColumnTemplate(e,n){const t=e=>n>0?e-this.size+1:e-n-this.size+1,o=this.radius,r=document.createElement("div");r.classList.add("field__column");for(let s=0;s<e;s++){const e={x:n,y:(i=s,-n-t(i)),z:t(s)},l=new a({radius:o,coordinates:e});r.append(l.render()),this._saveCell(l,e),this.allHexagons.push(l)}var i;return r}_addStyles(){const e=document.getElementById("field-styles"),n=this._calcHexSizes(),t=`.field__column {margin-left: ${this.radius/2}px;}.hexagon_outer {width: ${n.tallerSize}px;height: ${n.widerSize}px;}`;if(e)e.innerText=t;else{const e=document.createElement("style");e.id="field-styles",e.innerText=t,document.head.append(e)}}render(){this.$el.innerHTML="";for(let e=0;e<this.tableSize;e++){const n=this.tableSize-Math.abs(this.size-1-e);this.$el.append(this._createColumnTemplate(n,e-this.size+1))}}updateAllNeighbours(){for(let e in this.table){const n=this.table[e];for(let t in n){const o=n[t];for(let n in o)this._updateNeighbours({x:e,y:t,z:n})}}}_getMovementSource(e){const n=this.size-1,t={"north-west":{x:n,y:-n},north:{z:n,y:-n},"north-east":{x:-n,z:n},"south-west":{x:n,z:-n},south:{y:n,z:-n},"south-east":{x:-n,y:n}}[e];return this.allHexagons.filter((e=>{const n=e.coordinates,{x:o,y:a,z:r}=t;return!(!o||n.x!==o)||!(!a||n.y!==a)||r&&n.z===r}))}_getMovementDestination(e){const n=this.size-1,t={"north-west":{x:-n,y:n},north:{z:-n,y:n},"north-east":{x:n,z:-n},"south-west":{x:-n,z:n},south:{y:-n,z:n},"south-east":{x:n,y:-n}}[e];return this.allHexagons.filter((e=>{const n=e.coordinates,{x:o,y:a,z:r}=t;return!(!o||n.x!==o)||!(!a||n.y!==a)||r&&n.z===r}))}_getOpposizeDirection(e){return{"north-west":A,north:l,"north-east":c,"south-west":i,south:r,"south-east":s}[e]}makeStep(e){if(this.isMoving)return;this.isMoving=!0;const n=this._getMovementSource(e);let t=!1;return this.allHexagons.forEach((e=>{e.oldValue=e.value})),n.forEach((n=>{let t=n,o=t.neighbours[e];for(;t;){o=t.neighbours[e];const n=t.value,a=t.numbersToUse;if(n||a.length)o?(o.numbersToUse.push(...a),n&&o.numbersToUse.push(n),t.numbersToUse=[],t.value=0,t.$el.dataset.value=0):n&&t.numbersToUse.push(n),t=o;else if(t=o,!t)break}})),this._getMovementDestination(e).forEach((n=>{if(!n.numbersToUse.length)return;const t=n.numbersToUse.reverse().reduce(((e,n)=>(e[e.length-1]&&!e[e.length-1].summed&&e[e.length-1].number===n?(e[e.length-1].number=2*n,e[e.length-1].summed=!0):e.push({number:n,summed:!1}),e)),[]).map((e=>e.number));n.numbersToUse=[],n.calcuatedRow=t;const o=this._getOpposizeDirection(e);n.calcuatedRow.forEach(((e,t)=>{let a=n;for(let e=0;e<t;e++)a=a.neighbours[o];a&&(a.value=e,a.$el.dataset.value=e)})),n.calcuatedRow=[]})),this.allHexagons.forEach((e=>{e.oldValue!==e.value&&(t=!0)})),this.isMoving=!1,t}isGameOver(){let e=!0;return[s,r,i].forEach((n=>{const t=this._getMovementSource(n);let o="";t.forEach((t=>{let a=0,r=t,i=!1;do{a===r.value&&(e=!1),0===r.value&&(e=!1),a=r.value,r.neighbours[n]||(i=!0),o=r,r=r.neighbours[n]}while(!i)}))})),e}get dataToSend(){return JSON.stringify(this.allHexagons.filter((e=>e.value)).map((e=>({x:e.coordinates.x,y:e.coordinates.y,z:e.coordinates.z,value:e.value}))))}}(h,v,C(v));const y=new class extends d{constructor(e,n){super(e,n),this.emptyField=this._getCellCoords()}setFieldSize(e){super.setFieldSize(e),this.emptyField=this._getCellCoords()}_getCellCoords(){console.log("%cthis.fieldSize:","font-style:italic; color:#ce93d8",this.fieldSize);const e=[];for(let n=1-this.fieldSize;n<this.fieldSize;n++)for(let t=1-this.fieldSize;t<this.fieldSize;t++)for(let o=1-this.fieldSize;o<this.fieldSize;o++)e.find((e=>e.x===n&&e.y===t&&e.z===o))||n+t+o!==0||e.push({x:n,y:t,z:o});return e}getData(e="[]"){function n(e){return Math.floor(Math.random()*r.length)}function t(e,n){const t=e[n];return t.value=Math.random()>.9?4:2,t}const o=JSON.parse(e),a=[];console.log("%cthis.emptyField:","font-style:italic; color:#ce93d8",this.emptyField);const r=this.emptyField.filter((({x:e,y:n,z:t})=>!o.find((({x:o,y:a,z:r})=>e===o&&n===a&&t===r))));let i=n(r.length);a.push(t(r,i)),"[]"===e&&(r.splice(i,1),i=n(r.length),a.push(t(r,i)),r.splice(i,1),i=n(r.length),a.push(t(r,i))),this._onResponce(a)}}(f,v);function x(e){g.reinit(e,C(e)),g.updateAllNeighbours(),y.setFieldSize(e),y.getData(),m.dataset.status="playing",m.innerText="playing"}function C(e){const n=window.innerHeight,t=2*e-1;return Math.min(100,n/t/2)}b.onKeyDown("KeyQ",(()=>{g.makeStep("north-west")&&y.getData(g.dataToSend)})),b.onKeyDown("KeyW",(()=>{g.makeStep("north")&&y.getData(g.dataToSend)})),b.onKeyDown("KeyE",(()=>{g.makeStep("north-east")&&y.getData(g.dataToSend)})),b.onKeyDown("KeyA",(()=>{g.makeStep("south-west")&&y.getData(g.dataToSend)})),b.onKeyDown("KeyS",(()=>{g.makeStep("south")&&y.getData(g.dataToSend)})),b.onKeyDown("KeyD",(()=>{g.makeStep("south-east")&&y.getData(g.dataToSend)})),setTimeout((()=>{y.getData()}),200),g.updateAllNeighbours(),document.addEventListener("game:end",(()=>{document.querySelector("[data-status]").dataset.status="game-over",document.querySelector("[data-status]").innerText="game-over"})),document.getElementById("url-server")?.addEventListener("change",(e=>{y.setUrl(e.target.value)})),p.addEventListener("input",(e=>{x(e.target.value)})),E.forEach((e=>{e.addEventListener("click",(e=>{const n=e.target.dataset.countButton;x(n),p.value=n}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2hleDIwNDgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaGV4MjA0OC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaGV4MjA0OC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vaGV4MjA0OC8uL3NyYy9zdHlsZXMubGVzcz9kYzg1Iiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9IZXhhZ29uLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9GaWVsZC5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL2NvbXBvbmVudHMvU2VydmVyLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaGV4MjA0OC8uL3NyYy9jb21wb25lbnRzL0tleWJvYXJkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzgwY2JjNDtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5oMSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDQwcHg7XFxuICBsZWZ0OiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICBmb250LWZhbWlseTogUm9ib3RvLCBzYW5zLXNlcmlmO1xcbn1cXG4uaGV4YWdvbiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5oZXhhZ29uOjpiZWZvcmUsXFxuLmhleGFnb246OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIHdpZHRoOiA1MCU7XFxuICBoZWlnaHQ6IDA7XFxuICB6LWluZGV4OiAtMTtcXG4gIHBhZGRpbmctYm90dG9tOiA1MCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbn1cXG4uaGV4YWdvbjo6YmVmb3JlIHtcXG4gIHJpZ2h0OiAxMDAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoNTAlLCAtNTAlKSBzY2FsZSgxLjQyLCAyLjQ1KSByb3RhdGUoNDVkZWcpO1xcbn1cXG4uaGV4YWdvbjo6YWZ0ZXIge1xcbiAgbGVmdDogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEuNDIsIDIuNDUpIHJvdGF0ZSg0NWRlZyk7XFxufVxcbi5oZXhhZ29uX291dGVyIHtcXG4gIGJhY2tncm91bmQ6ICMwMDY3NWI7XFxufVxcbi5oZXhhZ29uX291dGVyOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NGQ4Y2I7XFxufVxcbi5oZXhhZ29uX2lubmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRvcDogNTAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC45NSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5Njg4O1xcbiAgei1pbmRleDogMjtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMjZweDtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0M2EwNDc7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjRcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwO1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCI4XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY2YmI2YTtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMTZcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2NiMzQyO1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIzMlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM4YmMzNGE7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjY0XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzljY2M2NTtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMTI4XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2MwY2EzMztcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMjU2XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NkZGMzOTtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiNTEyXFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZTE1NztcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMTAyNFxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZGQ4MzU7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjIwNDhcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlYjNiO1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCI0MDk2XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWU1ODtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiODE5MlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmIzMDA7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjE2Mzg0XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYzEwNztcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMzI3NjhcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjYTI4O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCI1NjUzNlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYjhjMDA7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjEzMTA3MlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjU3MjI7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjI2MjE0NFxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNDUxMWU7XFxufVxcbi5maWVsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uZmllbGRfX2NvbHVtbiB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuI3VybC1zZXJ2ZXIsXFxuI3N0YXR1cyxcXG4jY291bnRTZWxlY3RvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDEwJTtcXG4gIGxlZnQ6IDEwJTtcXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBwYWRkaW5nOiAwLjVlbSAxZW07XFxufVxcbiN1cmwtc2VydmVyIHtcXG4gIHRvcDogMTAlO1xcbn1cXG4jY291bnRTZWxlY3RvciB7XFxuICB0b3A6IGNhbGMoMTAlICsgNTBweCk7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG4jY291bnRTZWxlY3RvciBpbnB1dCB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuI3N0YXR1cyB7XFxuICB0b3A6IDkwJTtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy5sZXNzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUVBO0VBQ0UsU0FBQTtFQUNBLFVBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQURGO0FBSUE7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsMkJBQUE7RUFDQSwrQkFBQTtBQUZGO0FBTUE7RUFDRSxrQkFBQTtBQUpGO0FBTUU7O0VBRUUsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0FBSko7QUFPRTtFQUNFLFdBQUE7RUFDQSwrREFBQTtBQUxKO0FBUUU7RUFDRSxVQUFBO0VBQ0EsZ0VBQUE7QUFOSjtBQVNFO0VBQ0UsbUJBQUE7QUFQSjtBQVNJO0VBQ0UseUJBQUE7QUFQTjtBQVdFO0VBQ0Usa0JBQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSw0Q0FBQTtFQUNBLHlCQUFBO0VBQ0EsVUFBQTtFQUNBLG9CQUFBO0VBQ0Esd0NBQUE7RUFDQSxlQUFBO0FBVEo7QUFZRTtFQUNFLHlCQUFBO0FBVko7QUFhRTtFQUNFLHlCQUFBO0FBWEo7QUFjRTtFQUNFLHlCQUFBO0FBWko7QUFlRTtFQUNFLHlCQUFBO0FBYko7QUFnQkU7RUFDRSx5QkFBQTtBQWRKO0FBaUJFO0VBQ0UseUJBQUE7QUFmSjtBQWtCRTtFQUNFLHlCQUFBO0FBaEJKO0FBbUJFO0VBQ0UseUJBQUE7QUFqQko7QUFvQkU7RUFDRSx5QkFBQTtBQWxCSjtBQXFCRTtFQUNFLHlCQUFBO0FBbkJKO0FBc0JFO0VBQ0UseUJBQUE7QUFwQko7QUF1QkU7RUFDRSx5QkFBQTtBQXJCSjtBQXdCRTtFQUNFLHlCQUFBO0FBdEJKO0FBeUJFO0VBQ0UseUJBQUE7QUF2Qko7QUEwQkU7RUFDRSx5QkFBQTtBQXhCSjtBQTJCRTtFQUNFLHlCQUFBO0FBekJKO0FBNEJFO0VBQ0UseUJBQUE7QUExQko7QUE2QkU7RUFDRSx5QkFBQTtBQTNCSjtBQStCQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUE3QkY7QUErQkU7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQTdCSjtBQWlDQTs7O0VBR0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLHdDQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBL0JGO0FBa0NBO0VBQ0UsUUFBQTtBQWhDRjtBQW1DQTtFQUNFLHFCQUFBO0VBQ0EsVUFBQTtBQWpDRjtBQStCQTtFQUtJLGNBQUE7QUFqQ0o7QUFxQ0E7RUFDRSxRQUFBO0FBbkNGXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBiZ0NvbG9yOiAjODBjYmM0O1xcblxcbmJvZHkge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IEBiZ0NvbG9yO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbmgxIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogNDBweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XFxuXFxufVxcblxcbi5oZXhhZ29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXG4gICY6OmJlZm9yZSxcXG4gICY6OmFmdGVyIHtcXG4gICAgY29udGVudDogJyc7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDEwMCU7XFxuICAgIHRvcDogNTAlO1xcbiAgICB3aWR0aDogNTAlO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIHotaW5kZXg6IC0xO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNTAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbiAgfVxcblxcbiAgJjo6YmVmb3JlIHtcXG4gICAgcmlnaHQ6IDEwMCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDUwJSwgLTUwJSkgc2NhbGUoMS40MiwgMi40NSkgcm90YXRlKDQ1ZGVnKTtcXG4gIH1cXG5cXG4gICY6OmFmdGVyIHtcXG4gICAgbGVmdDogMTAwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMS40MiwgMi40NSkgcm90YXRlKDQ1ZGVnKTtcXG4gIH1cXG5cXG4gICZfb3V0ZXIge1xcbiAgICBiYWNrZ3JvdW5kOiAjMDA2NzViO1xcblxcbiAgICAmOmhvdmVyIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjRkOGNiO1xcbiAgICB9XFxuICB9XFxuXFxuICAmX2lubmVyIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIHRvcDogNTAlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoLjk1KTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwOTY4ODtcXG4gICAgei1pbmRleDogMjtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICAgIGZvbnQtc2l6ZTogMjZweDtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMlxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDNhMDQ3O1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCI0XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjhcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzY2YmI2YTtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMTZcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzdjYjM0MjtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMzJcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzhiYzM0YTtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiNjRcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzljY2M2NTtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMTI4XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjMGNhMzM7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjI1NlxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2RkYzM5O1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCI1MTJcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZTE1NztcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMTAyNFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmRkODM1O1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCIyMDQ4XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmViM2I7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjQwOTZcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWU1ODtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiODE5MlxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZiMzAwO1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCIxNjM4NFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjMTA3O1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCIzMjc2OFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjYTI4O1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCI1NjUzNlxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmI4YzAwO1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCIxMzEwNzJcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTcyMjtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMjYyMTQ0XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmNDUxMWU7XFxuICB9XFxufVxcblxcbi5maWVsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcblxcbiAgJl9fY29sdW1uIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG59XFxuXFxuI3VybC1zZXJ2ZXIsXFxuI3N0YXR1cyxcXG4jY291bnRTZWxlY3RvciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDEwJTtcXG4gIGxlZnQ6IDEwJTtcXG4gIGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBmb250LXNpemU6IDE2cHg7XFxuICBwYWRkaW5nOiAuNWVtIDFlbTtcXG59XFxuXFxuI3VybC1zZXJ2ZXIge1xcbiAgdG9wOiAxMCU7XFxufVxcblxcbiNjb3VudFNlbGVjdG9yIHtcXG4gIHRvcDogY2FsYygxMCUgKyA1MHB4KTtcXG4gIHBhZGRpbmc6IDA7XFxuXFxuICBpbnB1dCB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgfVxcbn1cXG5cXG4jc3RhdHVzIHtcXG4gIHRvcDogOTAlO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyICYmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl0pOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmxlc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJleHBvcnQgY2xhc3MgSGV4YWdvbiB7XG4gIGNvbnN0cnVjdG9yKHtyYWRpdXMsIGNvb3JkaW5hdGVzfSkge1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjb29yZGluYXRlcztcbiAgICB0aGlzLl9uZWlnaGJvdXJzID0ge307XG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIHRoaXMub2xkVmFsdWUgPSAwO1xuICAgIHRoaXMubnVtYmVyc1RvVXNlID0gW107XG4gIH1cblxuICBnZXQgbmVpZ2hib3VycygpIHtcbiAgICByZXR1cm4gdGhpcy5fbmVpZ2hib3VycztcbiAgfVxuXG4gIHNldCBuZWlnaGJvdXJzKG5ld05laWdoYm91cnMpIHtcbiAgICB0aGlzLl9uZWlnaGJvdXJzID0gbmV3TmVpZ2hib3VycztcbiAgfVxuXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWw7XG4gICAgdGhpcy5kcmF3VGV4dChuZXdWYWwgPyBuZXdWYWwgOiAnJyk7XG4gIH1cblxuICBkcmF3Q29vcmRpbmF0ZXMoKSB7XG4gICAgdGhpcy4kaW5uZXJFbC5pbm5lclRleHQgPSBgWyR7dGhpcy5jb29yZGluYXRlcy54fToke3RoaXMuY29vcmRpbmF0ZXMueX06JHt0aGlzLmNvb3JkaW5hdGVzLnp9XWBcbiAgfVxuXG4gIGRyYXdUZXh0KHRleHQpIHtcbiAgICB0aGlzLiRpbm5lckVsLmlubmVyVGV4dCA9IHRleHQ7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy4kZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2hleGFnb24nKVxuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2hleGFnb25fb3V0ZXInKVxuICAgIHRoaXMuJGVsLmhleGFnb24gPSB0aGlzO1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiaGV4YWdvbiBoZXhhZ29uX2lubmVyXCI+PC9kaXY+YFxuICAgIHRoaXMuJGVsLmRhdGFzZXQueCA9IHRoaXMuY29vcmRpbmF0ZXMueDtcbiAgICB0aGlzLiRlbC5kYXRhc2V0LnkgPSB0aGlzLmNvb3JkaW5hdGVzLnk7XG4gICAgdGhpcy4kZWwuZGF0YXNldC56ID0gdGhpcy5jb29yZGluYXRlcy56O1xuICAgIHRoaXMuJGVsLmRhdGFzZXQudmFsdWUgPSAwO1xuICAgIHRoaXMuJGlubmVyRWwgPSB0aGlzLiRlbC5jaGlsZHJlblswXTtcbiAgICByZXR1cm4gdGhpcy4kZWxcbiAgfVxufVxuIiwiaW1wb3J0IHtIZXhhZ29ufSBmcm9tIFwiQC9IZXhhZ29uXCJcblxuY29uc3QgRElSRUNUSU9OUyA9IHtcbiAgbm9ydGg6ICdub3J0aCcsXG4gIG5vcnRoRWFzdDogJ25vcnRoLWVhc3QnLFxuICBub3J0aFdlc3Q6ICdub3J0aC13ZXN0JyxcbiAgc291dGg6ICdzb3V0aCcsXG4gIHNvdXRoRWFzdDogJ3NvdXRoLWVhc3QnLFxuICBzb3V0aFdlc3Q6ICdzb3V0aC13ZXN0J1xufVxuXG5leHBvcnQgY2xhc3MgRmllbGQge1xuICBjb25zdHJ1Y3RvcigkZWwsIHNpemUsIHJhZGl1cykge1xuICAgIHRoaXMuJGVsID0gJGVsO1xuICAgIHRoaXMucmVpbml0KHNpemUsIHJhZGl1cyk7XG4gIH1cblxuICByZWluaXQoc2l6ZSwgcmFkaXVzKSB7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLnRhYmxlU2l6ZSA9IHNpemUgKiAyIC0gMTtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB0aGlzLnRhYmxlID0ge31cbiAgICB0aGlzLmFsbEhleGFnb25zID0gW107XG4gICAgdGhpcy5fYmluZEV2ZW50cygpO1xuICAgIHRoaXMuX2FkZFN0eWxlcygpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBfYmluZEV2ZW50cygpIHtcbiAgICB0aGlzLl9vblNlcnZlclJlc3BvbnNlID0gdGhpcy5fb25TZXJ2ZXJSZXNwb25zZS5iaW5kKHRoaXMpXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VydmVyUmVzcG9uc2UnLCB0aGlzLl9vblNlcnZlclJlc3BvbnNlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZXJ2ZXJSZXNwb25zZScsIHRoaXMuX29uU2VydmVyUmVzcG9uc2UpXG4gIH1cblxuICBfb25TZXJ2ZXJSZXNwb25zZShldikge1xuICAgIGNvbnNvbGUubG9nKCclY2V2OicsICdmb250LXN0eWxlOml0YWxpYzsgY29sb3I6I2NlOTNkOCcsIGV2KTtcbiAgICBjb25zdCByZXNwb25zZSA9IGV2LmRldGFpbDtcblxuICAgIHJlc3BvbnNlLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjb25zdCB7eCwgeSwgen0gPSBjb252ZXJ0Q29vcmRpbmF0ZXNUb1N0cmluZ3MoY2VsbCk7XG4gICAgICB0aGlzLnRhYmxlW3hdW3ldW3pdLnZhbHVlID0gY2VsbC52YWx1ZVxuICAgICAgdGhpcy50YWJsZVt4XVt5XVt6XS4kZWwuZGF0YXNldC52YWx1ZSA9IGNlbGwudmFsdWVcbiAgICB9KTtcblxuICAgIGlmKHRoaXMuaXNHYW1lT3ZlcigpKSB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImdhbWU6ZW5kXCIse30pO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgX2NlbGxFeGlzdCh7eCwgeSwgen0pIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdEluT2JqZWN0KHRoaXMudGFibGUsIHgpXG4gICAgICAmJiBmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XSwgeSlcbiAgICAgICYmIGZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlW3hdW3ldLCB6KVxuICB9XG5cbiAgX2FkZENlbGwoe3gsIHksIHp9KSB7XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZSwgeCkpIHtcbiAgICAgIHRoaXMudGFibGVbeF0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XSwgeSkpIHtcbiAgICAgIHRoaXMudGFibGVbeF1beV0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XVt5XSwgeikpIHtcbiAgICAgIHRoaXMudGFibGVbeF1beV1bel0gPSAnJztcbiAgICB9XG4gIH1cblxuICBfc2F2ZUNlbGwoZGF0YSwgY29vcmRpbmF0ZXMpIHtcbiAgICBsZXQge3gsIHksIHp9ID0gY29vcmRpbmF0ZXM7XG5cbiAgICBpZiAoIXRoaXMuX2NlbGxFeGlzdChjb29yZGluYXRlcykpIHtcbiAgICAgIHRoaXMuX2FkZENlbGwoY29vcmRpbmF0ZXMpXG4gICAgfVxuICAgIHRoaXMudGFibGVbeF1beV1bel0gPSBkYXRhO1xuICB9XG5cbiAgX2dldENlbGwoe3gsIHksIHp9KSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGVbeF1beV1bel1cbiAgfVxuXG4gIF9maW5kTmVpZ2hib3Vycyhjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHt4LCB5LCB6fSA9IGNvbnZlcnRDb29yZGluYXRlc1RvTnVtYmVycyhjb29yZGluYXRlcylcbiAgICBjb25zdCBuZWlnYm91cnNDb29yaW5hdGVzID0gW1xuICAgICAge3g6IHggKyAxLCB5OiB5IC0gMSwgeiwgZGlyZWN0aW9uOiBESVJFQ1RJT05TLnNvdXRoRWFzdH0sXG4gICAgICB7eDogeCAtIDEsIHk6IHkgKyAxLCB6LCBkaXJlY3Rpb246IERJUkVDVElPTlMubm9ydGhXZXN0fSxcbiAgICAgIHt4LCB5OiB5ICsgMSwgejogeiAtIDEsIGRpcmVjdGlvbjogRElSRUNUSU9OUy5ub3J0aH0sXG4gICAgICB7eCwgeTogeSAtIDEsIHo6IHogKyAxLCBkaXJlY3Rpb246IERJUkVDVElPTlMuc291dGh9LFxuICAgICAge3g6IHggKyAxLCB5LCB6OiB6IC0gMSwgZGlyZWN0aW9uOiBESVJFQ1RJT05TLm5vcnRoRWFzdH0sXG4gICAgICB7eDogeCAtIDEsIHksIHo6IHogKyAxLCBkaXJlY3Rpb246IERJUkVDVElPTlMuc291dGhXZXN0fVxuICAgIF07XG5cbiAgICByZXR1cm4gbmVpZ2JvdXJzQ29vcmluYXRlc1xuICAgICAgLmZpbHRlcih0aGlzLl9jZWxsRXhpc3QuYmluZCh0aGlzKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgY29vcmRzKSA9PiB7XG4gICAgICAgIGFjY1tjb29yZHMuZGlyZWN0aW9uXSA9IHRoaXMuX2dldENlbGwoY29vcmRzKTtcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG4gIH1cblxuICBfdXBkYXRlTmVpZ2hib3Vycyhjb29yZGluYXRlcykge1xuICAgIHRoaXMuX2dldENlbGwoY29vcmRpbmF0ZXMpLm5laWdoYm91cnMgPSB0aGlzLl9maW5kTmVpZ2hib3Vycyhjb29yZGluYXRlcylcbiAgfVxuXG4gIF9jYWxjSGV4U2l6ZXMoKSB7XG4gICAgdGhpcy5pbm5lclJhZGl1cyA9IE1hdGguc3FydCgzKSAvIDIgKiB0aGlzLnJhZGl1cztcbiAgICByZXR1cm4ge1xuICAgICAgdGFsbGVyU2l6ZTogdGhpcy5yYWRpdXMsXG4gICAgICB3aWRlclNpemU6IDIgKiB0aGlzLmlubmVyUmFkaXVzLFxuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDb2x1bW5UZW1wbGF0ZShjb3VudCwgY29sdW1uSW5kZXgpIHtcbiAgICBjb25zdCBnZXRaQ29vcmRpbmF0ZSA9IChpbmRleEluQ29sdW1uKSA9PiB7XG4gICAgICByZXR1cm4gY29sdW1uSW5kZXggPiAwXG4gICAgICAgID8gaW5kZXhJbkNvbHVtbiAtIHRoaXMuc2l6ZSArIDFcbiAgICAgICAgOiBpbmRleEluQ29sdW1uIC0gY29sdW1uSW5kZXggLSB0aGlzLnNpemUgKyAxXG4gICAgfVxuICAgIGNvbnN0IGdldFlDb29yZGluYXRlID0gKGluZGV4SW5Db2x1bW4pID0+IHtcbiAgICAgIHJldHVybiAtY29sdW1uSW5kZXggLSBnZXRaQ29vcmRpbmF0ZShpbmRleEluQ29sdW1uKVxuICAgIH1cblxuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0ICRjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICRjb2x1bW4uY2xhc3NMaXN0LmFkZCgnZmllbGRfX2NvbHVtbicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB7eDogY29sdW1uSW5kZXgsIHk6IGdldFlDb29yZGluYXRlKGkpLCB6OiBnZXRaQ29vcmRpbmF0ZShpKX07XG4gICAgICBjb25zdCBoZXhDZWxsID0gbmV3IEhleGFnb24oe3JhZGl1cywgY29vcmRpbmF0ZXN9KVxuXG4gICAgICAkY29sdW1uLmFwcGVuZChoZXhDZWxsLnJlbmRlcigpKTtcbiAgICAgIHRoaXMuX3NhdmVDZWxsKGhleENlbGwsIGNvb3JkaW5hdGVzKVxuICAgICAgdGhpcy5hbGxIZXhhZ29ucy5wdXNoKGhleENlbGwpO1xuICAgIH1cblxuICAgIHJldHVybiAkY29sdW1uXG4gIH1cblxuICBfYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IGV4aXN0U3R5bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQtc3R5bGVzJyk7XG4gICAgY29uc3QgaGV4U2l6ZXMgPSB0aGlzLl9jYWxjSGV4U2l6ZXMoKTtcbiAgICBjb25zdCBzdHlsZSA9IGAuZmllbGRfX2NvbHVtbiB7bWFyZ2luLWxlZnQ6ICR7dGhpcy5yYWRpdXMgLyAyfXB4O30uaGV4YWdvbl9vdXRlciB7d2lkdGg6ICR7aGV4U2l6ZXMudGFsbGVyU2l6ZX1weDtoZWlnaHQ6ICR7aGV4U2l6ZXMud2lkZXJTaXplfXB4O31gXG5cbiAgICBpZiAoZXhpc3RTdHlsZSkge1xuICAgICAgZXhpc3RTdHlsZS5pbm5lclRleHQgPSBzdHlsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgICBuZXdTdHlsZS5pZCA9ICdmaWVsZC1zdHlsZXMnO1xuICAgICAgbmV3U3R5bGUuaW5uZXJUZXh0ID0gc3R5bGU7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChuZXdTdHlsZSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZVNpemU7IGkrKykge1xuICAgICAgY29uc3QgY2FsY3VsYXRlZENvdW50ID0gdGhpcy50YWJsZVNpemUgLSBNYXRoLmFicyh0aGlzLnNpemUgLSAxIC0gaSk7XG4gICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy5fY3JlYXRlQ29sdW1uVGVtcGxhdGUoY2FsY3VsYXRlZENvdW50LCBpIC0gdGhpcy5zaXplICsgMSkpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUFsbE5laWdoYm91cnMoKSB7XG4gICAgZm9yIChsZXQgeCBpbiB0aGlzLnRhYmxlKSB7XG4gICAgICBjb25zdCBsaXN0WCA9IHRoaXMudGFibGVbeF07XG4gICAgICBmb3IgKGxldCB5IGluIGxpc3RYKSB7XG4gICAgICAgIGNvbnN0IGxpc3RZID0gbGlzdFhbeV07XG4gICAgICAgIGZvciAobGV0IHogaW4gbGlzdFkpIHtcbiAgICAgICAgICB0aGlzLl91cGRhdGVOZWlnaGJvdXJzKHt4LCB5LCB6fSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBjb3JuZXIgPSB0aGlzLnNpemUgLSAxO1xuICAgIGNvbnN0IHNvdXJjZXMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IHtcbiAgICAgICAgeDogY29ybmVyLFxuICAgICAgICB5OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ25vcnRoJzoge1xuICAgICAgICB6OiBjb3JuZXIsXG4gICAgICAgIHk6IC1jb3JuZXJcbiAgICAgIH0sXG4gICAgICAnbm9ydGgtZWFzdCc6IHtcbiAgICAgICAgeDogLWNvcm5lcixcbiAgICAgICAgejogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLXdlc3QnOiB7XG4gICAgICAgIHg6IGNvcm5lcixcbiAgICAgICAgejogLWNvcm5lclxuICAgICAgfSxcbiAgICAgICdzb3V0aCc6IHtcbiAgICAgICAgeTogY29ybmVyLFxuICAgICAgICB6OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLWVhc3QnOiB7XG4gICAgICAgIHg6IC1jb3JuZXIsXG4gICAgICAgIHk6IGNvcm5lclxuICAgICAgfSxcbiAgICB9XG4gICAgY29uc3QgY29ybmVyRGF0YSA9IHNvdXJjZXNbZGlyZWN0aW9uXVxuXG4gICAgcmV0dXJuIHRoaXMuYWxsSGV4YWdvbnMuZmlsdGVyKGNlbGwgPT4ge1xuICAgICAgY29uc3QgY29vcmRzID0gY2VsbC5jb29yZGluYXRlcztcbiAgICAgIGNvbnN0IHt4LCB5LCB6fSA9IGNvcm5lckRhdGE7XG5cbiAgICAgIGlmICh4ICYmIGNvb3Jkcy54ID09PSB4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHkgJiYgY29vcmRzLnkgPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4geiAmJiBjb29yZHMueiA9PT0gejtcbiAgICB9KVxuICB9XG5cbiAgX2dldE1vdmVtZW50RGVzdGluYXRpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgY29ybmVyID0gdGhpcy5zaXplIC0gMTtcbiAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IHtcbiAgICAgICAgeDogLWNvcm5lcixcbiAgICAgICAgeTogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ25vcnRoJzoge1xuICAgICAgICB6OiAtY29ybmVyLFxuICAgICAgICB5OiBjb3JuZXJcbiAgICAgIH0sXG4gICAgICAnbm9ydGgtZWFzdCc6IHtcbiAgICAgICAgeDogY29ybmVyLFxuICAgICAgICB6OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLXdlc3QnOiB7XG4gICAgICAgIHg6IC1jb3JuZXIsXG4gICAgICAgIHo6IGNvcm5lclxuICAgICAgfSxcbiAgICAgICdzb3V0aCc6IHtcbiAgICAgICAgeTogLWNvcm5lcixcbiAgICAgICAgejogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLWVhc3QnOiB7XG4gICAgICAgIHg6IGNvcm5lcixcbiAgICAgICAgeTogLWNvcm5lclxuICAgICAgfSxcbiAgICB9XG4gICAgY29uc3QgY29ybmVyRGF0YSA9IGRlc3RpbmF0aW9uc1tkaXJlY3Rpb25dXG5cbiAgICByZXR1cm4gdGhpcy5hbGxIZXhhZ29ucy5maWx0ZXIoY2VsbCA9PiB7XG4gICAgICBjb25zdCBjb29yZHMgPSBjZWxsLmNvb3JkaW5hdGVzO1xuICAgICAgY29uc3Qge3gsIHksIHp9ID0gY29ybmVyRGF0YTtcblxuICAgICAgaWYgKHggJiYgY29vcmRzLnggPT09IHgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoeSAmJiBjb29yZHMueSA9PT0geSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB6ICYmIGNvb3Jkcy56ID09PSB6O1xuICAgIH0pXG4gIH1cblxuICBfZ2V0T3Bwb3NpemVEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgb3Bwb3Npeml0ZURpcmVjdGlvbnMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IERJUkVDVElPTlMuc291dGhFYXN0LFxuICAgICAgJ25vcnRoJzogRElSRUNUSU9OUy5zb3V0aCxcbiAgICAgICdub3J0aC1lYXN0JzogRElSRUNUSU9OUy5zb3V0aFdlc3QsXG4gICAgICAnc291dGgtd2VzdCc6IERJUkVDVElPTlMubm9ydGhFYXN0LFxuICAgICAgJ3NvdXRoJzogRElSRUNUSU9OUy5ub3J0aCxcbiAgICAgICdzb3V0aC1lYXN0JzogRElSRUNUSU9OUy5ub3J0aFdlc3QsXG4gICAgfVxuXG4gICAgcmV0dXJuIG9wcG9zaXppdGVEaXJlY3Rpb25zW2RpcmVjdGlvbl1cbiAgfVxuXG4gIG1ha2VTdGVwKGRpcmVjdGlvbikge1xuICAgIGlmKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pXG4gICAgbGV0IGlzTW92ZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5hbGxIZXhhZ29ucy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY2VsbC5vbGRWYWx1ZSA9IGNlbGwudmFsdWU7XG4gICAgfSlcblxuICAgIHNvdXJjZXMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGxldCBjdXJyZW50Q2VsbCA9IGNlbGw7XG4gICAgICBsZXQgbmV4dENlbGwgPSBjdXJyZW50Q2VsbC5uZWlnaGJvdXJzW2RpcmVjdGlvbl07XG5cbiAgICAgIHdoaWxlIChjdXJyZW50Q2VsbCkge1xuICAgICAgICBuZXh0Q2VsbCA9IGN1cnJlbnRDZWxsLm5laWdoYm91cnNbZGlyZWN0aW9uXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJyZW50Q2VsbC52YWx1ZTtcbiAgICAgICAgY29uc3QgbnVtYmVyc1RvVXNlID0gY3VycmVudENlbGwubnVtYmVyc1RvVXNlO1xuXG4gICAgICAgIGlmICghdmFsdWUgJiYgIW51bWJlcnNUb1VzZS5sZW5ndGgpIHtcbiAgICAgICAgICBjdXJyZW50Q2VsbCA9IG5leHRDZWxsXG4gICAgICAgICAgaWYgKCFjdXJyZW50Q2VsbCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0Q2VsbCkge1xuICAgICAgICAgIG5leHRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKC4uLm51bWJlcnNUb1VzZSlcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIG5leHRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudENlbGwubnVtYmVyc1RvVXNlID0gW107XG4gICAgICAgICAgY3VycmVudENlbGwudmFsdWUgPSAwO1xuICAgICAgICAgIGN1cnJlbnRDZWxsLiRlbC5kYXRhc2V0LnZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudENlbGwgPSBuZXh0Q2VsbDtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgZGVzdGluYXRpb25zID0gdGhpcy5fZ2V0TW92ZW1lbnREZXN0aW5hdGlvbihkaXJlY3Rpb24pXG4gICAgZGVzdGluYXRpb25zLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBpZiAoIWNlbGwubnVtYmVyc1RvVXNlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFyckZvckxvZ2ljID0gY2VsbC5udW1iZXJzVG9Vc2UucmV2ZXJzZSgpO1xuICAgICAgY29uc3QgY2FsY3VsYXRlZCA9IGFyckZvckxvZ2ljLnJlZHVjZSgoYWNjLCBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjY1thY2MubGVuZ3RoIC0gMV0gJiYgIWFjY1thY2MubGVuZ3RoIC0gMV0uc3VtbWVkICYmIGFjY1thY2MubGVuZ3RoIC0gMV0ubnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgICBhY2NbYWNjLmxlbmd0aCAtIDFdLm51bWJlciA9IG51bWJlciAqIDI7XG4gICAgICAgICAgYWNjW2FjYy5sZW5ndGggLSAxXS5zdW1tZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICAgIG51bWJlcixcbiAgICAgICAgICAgIHN1bW1lZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCBbXSlcbiAgICAgICAgLm1hcChlbGVtID0+IGVsZW0ubnVtYmVyKVxuXG4gICAgICBjZWxsLm51bWJlcnNUb1VzZSA9IFtdO1xuICAgICAgY2VsbC5jYWxjdWF0ZWRSb3cgPSBjYWxjdWxhdGVkO1xuXG4gICAgICBjb25zdCBvcHBEaXJlY3Rpb24gPSB0aGlzLl9nZXRPcHBvc2l6ZURpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgY2VsbC5jYWxjdWF0ZWRSb3cuZm9yRWFjaCgobnVtYmVyLCBpKSA9PiB7XG4gICAgICAgIGxldCBjZWxsVG9VcGRhdGUgPSBjZWxsO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgaisrKSB7XG4gICAgICAgICAgY2VsbFRvVXBkYXRlID0gY2VsbFRvVXBkYXRlLm5laWdoYm91cnNbb3BwRGlyZWN0aW9uXVxuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvOiBwb3NzaWJsZSBidWchIHNvbWV0aW1lcyBjZWxsVG9VcGRhdGUgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmKCFjZWxsVG9VcGRhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNlbGxUb1VwZGF0ZS52YWx1ZSA9IG51bWJlcjtcbiAgICAgICAgY2VsbFRvVXBkYXRlLiRlbC5kYXRhc2V0LnZhbHVlID0gbnVtYmVyO1xuICAgICAgfSlcbiAgICAgIGNlbGwuY2FsY3VhdGVkUm93ID0gW107XG4gICAgfSlcblxuICAgIHRoaXMuYWxsSGV4YWdvbnMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGlmKGNlbGwub2xkVmFsdWUgIT09IGNlbGwudmFsdWUpIHtcbiAgICAgICAgaXNNb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gaXNNb3ZlZFxuICB9XG5cbiAgaXNHYW1lT3ZlcigpIHtcbiAgICBjb25zdCBkaXJlY3Rpb25zVG9DaGVjayA9IFtcbiAgICAgIERJUkVDVElPTlMubm9ydGhXZXN0LFxuICAgICAgRElSRUNUSU9OUy5ub3J0aCxcbiAgICAgIERJUkVDVElPTlMubm9ydGhFYXN0XG4gICAgXVxuXG4gICAgbGV0IGlzT3ZlciA9IHRydWVcblxuICAgIGRpcmVjdGlvbnNUb0NoZWNrLmZvckVhY2goZGlyZWN0aW9uID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pO1xuICAgICAgbGV0IG9sZENlbGwgPSAnJztcbiAgICAgIHNvdXJjZXMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50Q2VsbCA9IGNlbGw7XG4gICAgICAgIGxldCBuZWVkVG9TdG9wR29pbmdOZWlnaGJvdXJzID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZihjdXJyZW50VmFsdWUgPT09IGN1cnJlbnRDZWxsLnZhbHVlKSB7XG4gICAgICAgICAgICBpc092ZXIgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoY3VycmVudENlbGwudmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIGlzT3ZlciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50VmFsdWUgPSBjdXJyZW50Q2VsbC52YWx1ZTtcblxuICAgICAgICAgIGlmKCFjdXJyZW50Q2VsbC5uZWlnaGJvdXJzW2RpcmVjdGlvbl0pIHtcbiAgICAgICAgICAgIG5lZWRUb1N0b3BHb2luZ05laWdoYm91cnMgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9sZENlbGwgPSBjdXJyZW50Q2VsbDtcbiAgICAgICAgICBjdXJyZW50Q2VsbCA9IGN1cnJlbnRDZWxsLm5laWdoYm91cnNbZGlyZWN0aW9uXVxuICAgICAgICB9IHdoaWxlICghbmVlZFRvU3RvcEdvaW5nTmVpZ2hib3VycylcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBpc092ZXJcbiAgfVxuXG4gIGdldCBkYXRhVG9TZW5kKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEhleGFnb25zXG4gICAgICAuZmlsdGVyKGNlbGwgPT4gY2VsbC52YWx1ZSlcbiAgICAgIC5tYXAoY2VsbCA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogY2VsbC5jb29yZGluYXRlcy54LFxuICAgICAgICAgIHk6IGNlbGwuY29vcmRpbmF0ZXMueSxcbiAgICAgICAgICB6OiBjZWxsLmNvb3JkaW5hdGVzLnosXG4gICAgICAgICAgdmFsdWU6IGNlbGwudmFsdWVcbiAgICAgICAgfVxuXG4gICAgICB9KVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0SW5PYmplY3Qob2JqLCBmaWVsZCkge1xuICByZXR1cm4gISFvYmpbZmllbGRdO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q29vcmRpbmF0ZXNUb051bWJlcnMoY29vcmRpbmF0ZXMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBOdW1iZXIoY29vcmRpbmF0ZXMueCksXG4gICAgeTogTnVtYmVyKGNvb3JkaW5hdGVzLnkpLFxuICAgIHo6IE51bWJlcihjb29yZGluYXRlcy56KVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRDb29yZGluYXRlc1RvU3RyaW5ncyhjb29yZGluYXRlcykge1xuICByZXR1cm4ge1xuICAgIHg6IFN0cmluZyhjb29yZGluYXRlcy54KSxcbiAgICB5OiBTdHJpbmcoY29vcmRpbmF0ZXMueSksXG4gICAgejogU3RyaW5nKGNvb3JkaW5hdGVzLnopXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgZmllbGRTaXplKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmZpZWxkU2l6ZSA9IGZpZWxkU2l6ZTtcbiAgICB9XG5cbiAgICBfb25SZXNwb25jZShyZXNwb25zZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnc2VydmVyUmVzcG9uc2UnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHJlc3BvbnNlXG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICBnZXREYXRhKGJvZHkgPSAnW10nKSB7XG4gICAgICAgIGZldGNoKGAke3RoaXMudXJsfS8ke3RoaXMuZmllbGRTaXplfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgYm9keVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAudGhlbih0aGlzLl9vblJlc3BvbmNlLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHNldFVybChuZXdVcmwpIHtcbiAgICAgICAgdGhpcy51cmwgPSBuZXdVcmw7XG4gICAgfVxuXG4gICAgc2V0RmllbGRTaXplKG5ld0ZpZWxkU2l6ZSkge1xuICAgICAgICB0aGlzLmZpZWxkU2l6ZSA9IG5ld0ZpZWxkU2l6ZTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFNlcnZlckxlc3MgZXh0ZW5kcyBTZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgZmllbGRTaXplKSB7XG4gICAgICAgIHN1cGVyKHVybCwgZmllbGRTaXplKTtcbiAgICAgICAgdGhpcy5lbXB0eUZpZWxkID0gdGhpcy5fZ2V0Q2VsbENvb3JkcygpO1xuICAgIH1cblxuICAgIHNldEZpZWxkU2l6ZShuZXdGaWVsZFNpemUpIHtcbiAgICAgICAgc3VwZXIuc2V0RmllbGRTaXplKG5ld0ZpZWxkU2l6ZSk7XG4gICAgICAgIHRoaXMuZW1wdHlGaWVsZCA9IHRoaXMuX2dldENlbGxDb29yZHMoKTtcbiAgICB9XG5cbiAgICBfZ2V0Q2VsbENvb3JkcygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJyVjdGhpcy5maWVsZFNpemU6JywgJ2ZvbnQtc3R5bGU6aXRhbGljOyBjb2xvcjojY2U5M2Q4JywgdGhpcy5maWVsZFNpemUpO1xuXG4gICAgICAgIGNvbnN0IGZpZWxkID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAtdGhpcy5maWVsZFNpemUgKyAxOyBpIDwgdGhpcy5maWVsZFNpemU7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IC10aGlzLmZpZWxkU2l6ZSArIDE7IGogPCB0aGlzLmZpZWxkU2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IC10aGlzLmZpZWxkU2l6ZSArIDE7IGsgPCB0aGlzLmZpZWxkU2l6ZTsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmllbGQuZmluZChjb29yZHMgPT4gY29vcmRzLnggPT09IGkgJiYgY29vcmRzLnkgPT09IGogJiYgY29vcmRzLnogPT09IGspICYmIGkgKyBqICsgayA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQucHVzaCh7eDogaSwgeTogaiwgejoga30pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWVsZDtcbiAgICB9XG5cbiAgICBnZXREYXRhKGJvZHkgPSAnW10nKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldFJhbmRvbUluZGV4KG1heCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGZpZWxkLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q2VsbERhdGEoZmllbGQsIGluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBmaWVsZFtpbmRleF07XG4gICAgICAgICAgICByZXMudmFsdWUgPSBNYXRoLnJhbmRvbSgpID4gLjkgPyA0IDogMjtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcnIgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICBjb25zdCByZXMgPSBbXTtcbiAgICAgICAgY29uc29sZS5sb2coJyVjdGhpcy5lbXB0eUZpZWxkOicsICdmb250LXN0eWxlOml0YWxpYzsgY29sb3I6I2NlOTNkOCcsIHRoaXMuZW1wdHlGaWVsZCk7XG5cbiAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmVtcHR5RmllbGRcbiAgICAgICAgICAgIC5maWx0ZXIoKHt4OiBmaWVsZFgsIHk6IGZpZWxkWSwgejogZmllbGRafSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAhYXJyLmZpbmQoKHt4OiBjZWxsWCwgeTogY2VsbFksIHo6IGNlbGxafSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmllbGRYID09PSBjZWxsWCAmJiBmaWVsZFkgPT09IGNlbGxZICYmIGZpZWxkWiA9PT0gY2VsbFo7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IGluZGV4ID0gZ2V0UmFuZG9tSW5kZXgoZmllbGQubGVuZ3RoKTtcbiAgICAgICAgcmVzLnB1c2goZ2V0Q2VsbERhdGEoZmllbGQsIGluZGV4KSlcblxuICAgICAgICBpZihib2R5ID09PSdbXScpIHtcbiAgICAgICAgICAgIGZpZWxkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBpbmRleCA9IGdldFJhbmRvbUluZGV4KGZpZWxkLmxlbmd0aCk7XG4gICAgICAgICAgICByZXMucHVzaChnZXRDZWxsRGF0YShmaWVsZCwgaW5kZXgpKTtcblxuICAgICAgICAgICAgZmllbGQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGluZGV4ID0gZ2V0UmFuZG9tSW5kZXgoZmllbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGdldENlbGxEYXRhKGZpZWxkLCBpbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25SZXNwb25jZShyZXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCAnLi9zdHlsZXMubGVzcydcbmltcG9ydCB7RmllbGR9IGZyb20gJ0AvRmllbGQnXG5pbXBvcnQge0tleWJvYXJkfSBmcm9tICAnQC9LZXlib2FyZCc7XG5pbXBvcnQge1NlcnZlckxlc3N9IGZyb20gXCJAL1NlcnZlclwiO1xuXG5jb25zdCBmaWVsZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQnKVxubGV0IHNlcnZlclVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cmwtc2VydmVyJyk/LnZhbHVlID8/ICcnO1xubGV0IGZpZWxkID0ge307XG5jb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpO1xubGV0IGNlbGxDb3VudCA9IDA7XG5jb25zdCAkcmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnQtcmFuZ2UnKVxuY29uc3QgJGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb3VudC1idXR0b25dJylcbmNvbnN0ICRzdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zdGF0dXNdJylcblxuaWYod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgc3dpdGNoKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgY2FzZSAnI3Rlc3QyJzoge1xuICAgICAgY2VsbENvdW50ID0gMjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICcjdGVzdDMnOiB7XG4gICAgICBjZWxsQ291bnQgPSAzO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJyN0ZXN0NCc6IHtcbiAgICAgIGNlbGxDb3VudCA9IDQ7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn0gZWxzZSB7XG4gIGNlbGxDb3VudCA9IDI7XG59XG5cbiRyYW5nZS52YWx1ZSA9IGNlbGxDb3VudDtcbmZpZWxkID0gbmV3IEZpZWxkKGZpZWxkRWxlbWVudCwgY2VsbENvdW50LCBjYWxjQ2VsbFNpemUoY2VsbENvdW50KSlcblxuY29uc3Qgc2VydmVyID0gbmV3IFNlcnZlckxlc3Moc2VydmVyVXJsLCBjZWxsQ291bnQpO1xuXG5cbmtleWJvYXJkLm9uS2V5RG93bignS2V5UScsICgpID0+IHtmaWVsZC5tYWtlU3RlcCgnbm9ydGgtd2VzdCcpICYmIHNlcnZlci5nZXREYXRhKGZpZWxkLmRhdGFUb1NlbmQpO30pXG5rZXlib2FyZC5vbktleURvd24oJ0tleVcnLCAoKSA9PiB7ZmllbGQubWFrZVN0ZXAoJ25vcnRoJykmJiBzZXJ2ZXIuZ2V0RGF0YShmaWVsZC5kYXRhVG9TZW5kKX0pXG5rZXlib2FyZC5vbktleURvd24oJ0tleUUnLCAoKSA9PiB7ZmllbGQubWFrZVN0ZXAoJ25vcnRoLWVhc3QnKSAmJiBzZXJ2ZXIuZ2V0RGF0YShmaWVsZC5kYXRhVG9TZW5kKX0pXG5rZXlib2FyZC5vbktleURvd24oJ0tleUEnLCAoKSA9PiB7ZmllbGQubWFrZVN0ZXAoJ3NvdXRoLXdlc3QnKSAmJiBzZXJ2ZXIuZ2V0RGF0YShmaWVsZC5kYXRhVG9TZW5kKX0pXG5rZXlib2FyZC5vbktleURvd24oJ0tleVMnLCAoKSA9PiB7ZmllbGQubWFrZVN0ZXAoJ3NvdXRoJykgJiYgc2VydmVyLmdldERhdGEoZmllbGQuZGF0YVRvU2VuZCl9KVxua2V5Ym9hcmQub25LZXlEb3duKCdLZXlEJywgKCkgPT4ge2ZpZWxkLm1ha2VTdGVwKCdzb3V0aC1lYXN0JykgJiYgc2VydmVyLmdldERhdGEoZmllbGQuZGF0YVRvU2VuZCl9KVxuXG4vL2ZvciB0ZXN0cyBjb3JyZWN0IGxhdW5jaFxuc2V0VGltZW91dCgoKSA9PiB7c2VydmVyLmdldERhdGEoKX0sIDIwMCk7XG5maWVsZC51cGRhdGVBbGxOZWlnaGJvdXJzKCk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2dhbWU6ZW5kJywgKCkgPT4ge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zdGF0dXNdJykuZGF0YXNldFsnc3RhdHVzJ10gPSAnZ2FtZS1vdmVyJztcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc3RhdHVzXScpLmlubmVyVGV4dCA9ICdnYW1lLW92ZXInO1xufSlcblxuZG9jdW1lbnRcbiAgLmdldEVsZW1lbnRCeUlkKCd1cmwtc2VydmVyJylcbiAgPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXYpID0+IHtcbiAgICBzZXJ2ZXIuc2V0VXJsKGV2LnRhcmdldC52YWx1ZSk7XG4gIH0pXG5cblxuZnVuY3Rpb24gZ2xvYmFsUmVpbml0KGNvdW50KSB7XG4gIGZpZWxkLnJlaW5pdChjb3VudCwgY2FsY0NlbGxTaXplKGNvdW50KSlcbiAgZmllbGQudXBkYXRlQWxsTmVpZ2hib3VycygpO1xuICBzZXJ2ZXIuc2V0RmllbGRTaXplKGNvdW50KTtcbiAgc2VydmVyLmdldERhdGEoKTtcbiAgJHN0YXR1cy5kYXRhc2V0WydzdGF0dXMnXSA9ICdwbGF5aW5nJztcbiAgJHN0YXR1cy5pbm5lclRleHQgPSAncGxheWluZyc7XG59XG5cbmZ1bmN0aW9uIGNhbGNDZWxsU2l6ZShjb3VudCkge1xuICBjb25zdCBtYXhGaWVsZEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgY29uc3QgbWF4Q2VsbGhlaWdodCA9IDEwMDtcbiAgY29uc3QgcmVhbENvdW50ID0gY291bnQgKiAyIC0gMVxuXG4gIHJldHVybiBNYXRoLm1pbihtYXhDZWxsaGVpZ2h0LCBtYXhGaWVsZEhlaWdodC9yZWFsQ291bnQvMilcbn1cblxuJHJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGV2KSA9PiB7XG4gIGxldCBjb3VudCA9IGV2LnRhcmdldC52YWx1ZTtcbiAgZ2xvYmFsUmVpbml0KGNvdW50KVxufSlcblxuJGJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICBjb25zdCBjb3VudCA9IGV2LnRhcmdldC5kYXRhc2V0LmNvdW50QnV0dG9uO1xuICAgIGdsb2JhbFJlaW5pdChjb3VudCk7XG4gICAgJHJhbmdlLnZhbHVlID0gY291bnQ7XG4gIH0pXG59KVxuIiwiZXhwb3J0IGNsYXNzIEtleWJvYXJkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd25UYXNrTWFuYWdlci5iaW5kKHRoaXMpKVxuICB9XG5cbiAgb25LZXlEb3duVGFza01hbmFnZXIoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50LmNvZGVdKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50c1tldmVudC5jb2RlXSgpXG4gIH1cblxuICBvbktleURvd24oY29kZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmV2ZW50c1tjb2RlXSA9IGNhbGxiYWNrXG4gIH1cblxuICBvZmZLZXlEb3duKGNvZGUpIHtcbiAgICB0aGlzLmV2ZW50c1tjb2RlXSA9ICcnO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwibGVuZ3RoIiwiX2kiLCJfYXJyYXlMaWtlVG9BcnJheSIsImFyciIsImxlbiIsImFycjIiLCJBcnJheSIsIl9pdGVtIiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwiY2FsbCIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIm1lbW8iLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsImJpbmQiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwiYWxsIiwiYXRvYiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIm5jIiwiSGV4YWdvbiIsInJhZGl1cyIsImNvb3JkaW5hdGVzIiwiX25laWdoYm91cnMiLCJfdmFsdWUiLCJvbGRWYWx1ZSIsIm51bWJlcnNUb1VzZSIsIm5laWdoYm91cnMiLCJuZXdOZWlnaGJvdXJzIiwibmV3VmFsIiwiZHJhd1RleHQiLCJkcmF3Q29vcmRpbmF0ZXMiLCIkaW5uZXJFbCIsImlubmVyVGV4dCIsIngiLCJ5IiwieiIsInRleHQiLCJyZW5kZXIiLCIkZWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJoZXhhZ29uIiwiaW5uZXJIVE1MIiwiZGF0YXNldCIsImNoaWxkcmVuIiwiRElSRUNUSU9OUyIsImZpZWxkRXhpc3RJbk9iamVjdCIsImZpZWxkIiwiU2VydmVyIiwidXJsIiwiZmllbGRTaXplIiwiX29uUmVzcG9uY2UiLCJyZXNwb25zZSIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJkaXNwYXRjaEV2ZW50IiwiZ2V0RGF0YSIsImJvZHkiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJqc29uIiwic2V0VXJsIiwibmV3VXJsIiwic2V0RmllbGRTaXplIiwibmV3RmllbGRTaXplIiwiZmllbGRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXJ2ZXJVcmwiLCJrZXlib2FyZCIsImV2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbktleURvd25UYXNrTWFuYWdlciIsImNvZGUiLCJvbktleURvd24iLCJjYWxsYmFjayIsIm9mZktleURvd24iLCJjZWxsQ291bnQiLCIkcmFuZ2UiLCIkYnV0dG9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCIkc3RhdHVzIiwibG9jYXRpb24iLCJoYXNoIiwic2l6ZSIsInJlaW5pdCIsInRhYmxlU2l6ZSIsInRhYmxlIiwiYWxsSGV4YWdvbnMiLCJfYmluZEV2ZW50cyIsIl9hZGRTdHlsZXMiLCJfb25TZXJ2ZXJSZXNwb25zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldiIsImNvbnNvbGUiLCJsb2ciLCJjZWxsIiwiU3RyaW5nIiwiaXNHYW1lT3ZlciIsIl9jZWxsRXhpc3QiLCJfYWRkQ2VsbCIsIl9zYXZlQ2VsbCIsIl9nZXRDZWxsIiwiX2ZpbmROZWlnaGJvdXJzIiwiTnVtYmVyIiwiY29udmVydENvb3JkaW5hdGVzVG9OdW1iZXJzIiwiZGlyZWN0aW9uIiwicmVkdWNlIiwiYWNjIiwiY29vcmRzIiwiX3VwZGF0ZU5laWdoYm91cnMiLCJfY2FsY0hleFNpemVzIiwiaW5uZXJSYWRpdXMiLCJNYXRoIiwic3FydCIsInRhbGxlclNpemUiLCJ3aWRlclNpemUiLCJfY3JlYXRlQ29sdW1uVGVtcGxhdGUiLCJjb2x1bW5JbmRleCIsImdldFpDb29yZGluYXRlIiwiaW5kZXhJbkNvbHVtbiIsIiRjb2x1bW4iLCJoZXhDZWxsIiwiYXBwZW5kIiwiZXhpc3RTdHlsZSIsImhleFNpemVzIiwibmV3U3R5bGUiLCJjYWxjdWxhdGVkQ291bnQiLCJhYnMiLCJ1cGRhdGVBbGxOZWlnaGJvdXJzIiwibGlzdFgiLCJsaXN0WSIsIl9nZXRNb3ZlbWVudFNvdXJjZSIsImNvcm5lciIsImNvcm5lckRhdGEiLCJfZ2V0TW92ZW1lbnREZXN0aW5hdGlvbiIsIl9nZXRPcHBvc2l6ZURpcmVjdGlvbiIsIm1ha2VTdGVwIiwiaXNNb3ZpbmciLCJpc01vdmVkIiwiY3VycmVudENlbGwiLCJuZXh0Q2VsbCIsImNhbGN1bGF0ZWQiLCJyZXZlcnNlIiwibnVtYmVyIiwic3VtbWVkIiwiZWxlbSIsImNhbGN1YXRlZFJvdyIsIm9wcERpcmVjdGlvbiIsImNlbGxUb1VwZGF0ZSIsImoiLCJpc092ZXIiLCJvbGRDZWxsIiwiY3VycmVudFZhbHVlIiwibmVlZFRvU3RvcEdvaW5nTmVpZ2hib3VycyIsImRhdGFUb1NlbmQiLCJjYWxjQ2VsbFNpemUiLCJzZXJ2ZXIiLCJzdXBlciIsImVtcHR5RmllbGQiLCJfZ2V0Q2VsbENvb3JkcyIsImsiLCJmaW5kIiwiZ2V0UmFuZG9tSW5kZXgiLCJtYXgiLCJmbG9vciIsInJhbmRvbSIsImdldENlbGxEYXRhIiwicGFyc2UiLCJmaWVsZFgiLCJmaWVsZFkiLCJmaWVsZFoiLCJjZWxsWCIsImNlbGxZIiwiY2VsbFoiLCJnbG9iYWxSZWluaXQiLCJtYXhGaWVsZEhlaWdodCIsImlubmVySGVpZ2h0IiwicmVhbENvdW50IiwibWluIiwic2V0VGltZW91dCIsImJ1dHRvbiIsImNvdW50QnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==