(()=>{"use strict";var e={348:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(15),a=t.n(o),r=t(645),i=t.n(r)()(a());i.push([e.id,'body {\n  margin: 0;\n  padding: 0;\n  background-color: #80cbc4;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.hexagon {\n  position: relative;\n}\n.hexagon::before,\n.hexagon::after {\n  content: \'\';\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  width: 50%;\n  height: 0;\n  z-index: -1;\n  padding-bottom: 50%;\n  background-color: inherit;\n}\n.hexagon::before {\n  right: 100%;\n  transform: translate(50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon::after {\n  left: 100%;\n  transform: translate(-50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon_outer {\n  background: #00675b;\n}\n.hexagon_outer:hover {\n  background-color: #64d8cb;\n}\n.hexagon_inner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: translate(-50%, -50%) scale(0.95);\n  background-color: #009688;\n  z-index: 2;\n  pointer-events: none;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 26px;\n}\n.hexagon[data-value="2"] .hexagon_inner {\n  background-color: #43a047;\n}\n.hexagon[data-value="4"] .hexagon_inner {\n  background-color: #4caf50;\n}\n.hexagon[data-value="8"] .hexagon_inner {\n  background-color: #66bb6a;\n}\n.hexagon[data-value="16"] .hexagon_inner {\n  background-color: #7cb342;\n}\n.hexagon[data-value="32"] .hexagon_inner {\n  background-color: #8bc34a;\n}\n.hexagon[data-value="64"] .hexagon_inner {\n  background-color: #9ccc65;\n}\n.hexagon[data-value="128"] .hexagon_inner {\n  background-color: #c0ca33;\n}\n.hexagon[data-value="256"] .hexagon_inner {\n  background-color: #cddc39;\n}\n.hexagon[data-value="512"] .hexagon_inner {\n  background-color: #d4e157;\n}\n.hexagon[data-value="1024"] .hexagon_inner {\n  background-color: #fdd835;\n}\n.hexagon[data-value="2048"] .hexagon_inner {\n  background-color: #ffeb3b;\n}\n.hexagon[data-value="4096"] .hexagon_inner {\n  background-color: #ffee58;\n}\n.hexagon[data-value="8192"] .hexagon_inner {\n  background-color: #ffb300;\n}\n.hexagon[data-value="16384"] .hexagon_inner {\n  background-color: #ffc107;\n}\n.hexagon[data-value="32768"] .hexagon_inner {\n  background-color: #ffca28;\n}\n.hexagon[data-value="56536"] .hexagon_inner {\n  background-color: #fb8c00;\n}\n.hexagon[data-value="131072"] .hexagon_inner {\n  background-color: #ff5722;\n}\n.hexagon[data-value="262144"] .hexagon_inner {\n  background-color: #f4511e;\n}\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.field__column {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n#url-server,\n#status,\n#countSelector {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 16px;\n  padding: 0.5em 1em;\n}\n#url-server {\n  top: 10%;\n}\n#countSelector {\n  top: calc(10% + 50px);\n  padding: 0;\n}\n#countSelector input {\n  display: block;\n}\n#status {\n  top: 90%;\n}\n',"",{version:3,sources:["webpack://./src/styles.less"],names:[],mappings:"AAEA;EACE,SAAA;EACA,UAAA;EACA,yBAAA;EACA,aAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AADF;AAIA;EACE,kBAAA;AAFF;AAIE;;EAEE,WAAA;EACA,kBAAA;EACA,WAAA;EACA,QAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,mBAAA;EACA,yBAAA;AAFJ;AAKE;EACE,WAAA;EACA,+DAAA;AAHJ;AAME;EACE,UAAA;EACA,gEAAA;AAJJ;AAOE;EACE,mBAAA;AALJ;AAOI;EACE,yBAAA;AALN;AASE;EACE,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,4CAAA;EACA,yBAAA;EACA,UAAA;EACA,oBAAA;EACA,wCAAA;EACA,eAAA;AAPJ;AAUE;EACE,yBAAA;AARJ;AAWE;EACE,yBAAA;AATJ;AAYE;EACE,yBAAA;AAVJ;AAaE;EACE,yBAAA;AAXJ;AAcE;EACE,yBAAA;AAZJ;AAeE;EACE,yBAAA;AAbJ;AAgBE;EACE,yBAAA;AAdJ;AAiBE;EACE,yBAAA;AAfJ;AAkBE;EACE,yBAAA;AAhBJ;AAmBE;EACE,yBAAA;AAjBJ;AAoBE;EACE,yBAAA;AAlBJ;AAqBE;EACE,yBAAA;AAnBJ;AAsBE;EACE,yBAAA;AApBJ;AAuBE;EACE,yBAAA;AArBJ;AAwBE;EACE,yBAAA;AAtBJ;AAyBE;EACE,yBAAA;AAvBJ;AA0BE;EACE,yBAAA;AAxBJ;AA2BE;EACE,yBAAA;AAzBJ;AA6BA;EACE,kBAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AA3BF;AA6BE;EACE,YAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;AA3BJ;AA+BA;;;EAGE,kBAAA;EACA,QAAA;EACA,SAAA;EACA,wCAAA;EACA,eAAA;EACA,kBAAA;AA7BF;AAgCA;EACE,QAAA;AA9BF;AAiCA;EACE,qBAAA;EACA,UAAA;AA/BF;AA6BA;EAKI,cAAA;AA/BJ;AAmCA;EACE,QAAA;AAjCF",sourcesContent:['@bgColor: #80cbc4;\n\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: @bgColor;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.hexagon {\n  position: relative;\n\n  &::before,\n  &::after {\n    content: \'\';\n    position: absolute;\n    right: 100%;\n    top: 50%;\n    width: 50%;\n    height: 0;\n    z-index: -1;\n    padding-bottom: 50%;\n    background-color: inherit;\n  }\n\n  &::before {\n    right: 100%;\n    transform: translate(50%,-50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &::after {\n    left: 100%;\n    transform: translate(-50%,-50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &_outer {\n    background: #00675b;\n\n    &:hover {\n      background-color: #64d8cb;\n    }\n  }\n\n  &_inner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transform: translate(-50%, -50%) scale(.95);\n    background-color: #009688;\n    z-index: 2;\n    pointer-events: none;\n    font-family: \'Roboto\', Arial, sans-serif;\n    font-size: 26px;\n  }\n  \n  &[data-value="2"] &_inner {\n    background-color: #43a047;\n  }\n\n  &[data-value="4"] &_inner {\n    background-color: #4caf50;\n  }\n\n  &[data-value="8"] &_inner {\n    background-color: #66bb6a;\n  }\n\n  &[data-value="16"] &_inner {\n    background-color: #7cb342;\n  }\n\n  &[data-value="32"] &_inner {\n    background-color: #8bc34a;\n  }\n\n  &[data-value="64"] &_inner {\n    background-color: #9ccc65;\n  }\n\n  &[data-value="128"] &_inner {\n    background-color: #c0ca33;\n  }\n\n  &[data-value="256"] &_inner {\n    background-color: #cddc39;\n  }\n\n  &[data-value="512"] &_inner {\n    background-color: #d4e157;\n  }\n\n  &[data-value="1024"] &_inner {\n    background-color: #fdd835;\n  }\n\n  &[data-value="2048"] &_inner {\n    background-color: #ffeb3b;\n  }\n\n  &[data-value="4096"] &_inner {\n    background-color: #ffee58;\n  }\n\n  &[data-value="8192"] &_inner {\n    background-color: #ffb300;\n  }\n\n  &[data-value="16384"] &_inner {\n    background-color: #ffc107;\n  }\n\n  &[data-value="32768"] &_inner {\n    background-color: #ffca28;\n  }\n\n  &[data-value="56536"] &_inner {\n    background-color: #fb8c00;\n  }\n\n  &[data-value="131072"] &_inner {\n    background-color: #ff5722;\n  }\n\n  &[data-value="262144"] &_inner {\n    background-color: #f4511e;\n  }\n}\n\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &__column {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n}\n\n#url-server,\n#status,\n#countSelector {\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  font-family: \'Roboto\', Arial, sans-serif;\n  font-size: 16px;\n  padding: .5em 1em;\n}\n\n#url-server {\n  top: 10%;\n}\n\n#countSelector {\n  top: calc(10% + 50px);\n  padding: 0;\n\n  input {\n    display: block;\n  }\n}\n\n#status {\n  top: 90%;\n}\n'],sourceRoot:""}]);const s=i},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(o)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var s=0;s<e.length;s++){var A=[].concat(e[s]);o&&a[A[0]]||(t&&(A[2]?A[2]="".concat(t," and ").concat(A[2]):A[2]=t),n.push(A))}},n}},15:e=>{function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}e.exports=function(e){var t,o,a=(o=4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);o=!0);}catch(e){a=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw r}}return t}}(t,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=a[1],i=a[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),l="/*# ".concat(A," */"),c=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[r].concat(c).concat([l]).join("\n")}return[r].join("\n")}},379:(e,n,t)=>{var o,a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),r=[];function i(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},o=[],a=0;a<e.length;a++){var s=e[a],A=n.base?s[0]+n.base:s[0],l=t[A]||0,c="".concat(A," ").concat(l);t[A]=l+1;var u=i(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:c,updater:f(d,n),references:1}),o.push(c)}return o}function A(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}return n}var l,c=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function u(e,n,t,o){var a=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=c(n,a);else{var r=document.createTextNode(a),i=e.childNodes;i[n]&&e.removeChild(i[n]),i.length?e.insertBefore(r,i[n]):e.appendChild(r)}}function d(e,n,t){var o=t.css,a=t.media,r=t.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,g=0;function f(e,n){var t,o,a;if(n.singleton){var r=g++;t=h||(h=A(n)),o=u.bind(null,t,r,!1),a=u.bind(null,t,r,!0)}else t=A(n),o=d.bind(null,t,n),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else a()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var t=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var a=i(t[o]);r[a].references--}for(var A=s(e,n),l=0;l<t.length;l++){var c=i(t[l]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}t=A}}}}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var r=n[o]={id:o,exports:{}};return e[o](r,r.exports,t),r.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=t(379),n=t.n(e),o=t(348);n()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;class a{constructor({radius:e,coordinates:n}){this.radius=e,this.coordinates=n,this._neighbours={},this._value=0,this.oldValue=0,this.numbersToUse=[]}get neighbours(){return this._neighbours}set neighbours(e){this._neighbours=e}get value(){return this._value}set value(e){this._value=e,this.drawText(e||"")}drawCoordinates(){this.$innerEl.innerText=`[${this.coordinates.x}:${this.coordinates.y}:${this.coordinates.z}]`}drawText(e){this.$innerEl.innerText=e}render(){return this.$el=document.createElement("div"),this.$el.classList.add("hexagon"),this.$el.classList.add("hexagon_outer"),this.$el.hexagon=this,this.$el.innerHTML='<div class="hexagon hexagon_inner"></div>',this.$el.dataset.x=this.coordinates.x,this.$el.dataset.y=this.coordinates.y,this.$el.dataset.z=this.coordinates.z,this.$el.dataset.value=0,this.$innerEl=this.$el.children[0],this.$el}}const r="north",i="north-east",s="north-west",A="south",l="south-east",c="south-west";function u(e,n){return!!e[n]}const d=document.getElementById("field");let h=document.getElementById("url-server").value,g={};const f=new class{constructor(){this.events={},document.addEventListener("keydown",this.onKeyDownTaskManager.bind(this))}onKeyDownTaskManager(e){this.events[e.code]&&this.events[e.code]()}onKeyDown(e,n){this.events[e]=n}offKeyDown(e){this.events[e]=""}};let b=0;const v=document.getElementById("count-range"),E=document.querySelectorAll("[data-count-button]"),p=document.querySelector("[data-status]");if(window.location.hash)switch(window.location.hash){case"#test2":b=2;break;case"#test3":b=3;break;case"#test4":b=4}else b=2;v.value=b,g=new class{constructor(e,n,t){this.$el=e,this.reinit(n,t)}reinit(e,n){this.size=e,this.tableSize=2*e-1,this.radius=n,this.table={},this.allHexagons=[],this._bindEvents(),this._addStyles(),this.render()}_bindEvents(){this._onServerResponse=this._onServerResponse.bind(this),document.removeEventListener("serverResponse",this._onServerResponse),document.addEventListener("serverResponse",this._onServerResponse)}_onServerResponse(e){if(e.detail.forEach((e=>{const{x:n,y:t,z:o}=(a=e,{x:String(a.x),y:String(a.y),z:String(a.z)});var a;this.table[n][t][o].value=e.value,this.table[n][t][o].$el.dataset.value=e.value})),this.isGameOver()){const e=new CustomEvent("game:end",{});document.dispatchEvent(e)}}_cellExist({x:e,y:n,z:t}){return u(this.table,e)&&u(this.table[e],n)&&u(this.table[e][n],t)}_addCell({x:e,y:n,z:t}){u(this.table,e)||(this.table[e]={}),u(this.table[e],n)||(this.table[e][n]={}),u(this.table[e][n],t)||(this.table[e][n][t]="")}_saveCell(e,n){let{x:t,y:o,z:a}=n;this._cellExist(n)||this._addCell(n),this.table[t][o][a]=e}_getCell({x:e,y:n,z:t}){return this.table[e][n][t]}_findNeighbours(e){const{x:n,y:t,z:o}=function(e){return{x:Number(e.x),y:Number(e.y),z:Number(e.z)}}(e);return[{x:n+1,y:t-1,z:o,direction:l},{x:n-1,y:t+1,z:o,direction:s},{x:n,y:t+1,z:o-1,direction:r},{x:n,y:t-1,z:o+1,direction:A},{x:n+1,y:t,z:o-1,direction:i},{x:n-1,y:t,z:o+1,direction:c}].filter(this._cellExist.bind(this)).reduce(((e,n)=>(e[n.direction]=this._getCell(n),e)),{})}_updateNeighbours(e){this._getCell(e).neighbours=this._findNeighbours(e)}_calcHexSizes(){return this.innerRadius=Math.sqrt(3)/2*this.radius,{tallerSize:this.radius,widerSize:2*this.innerRadius}}_createColumnTemplate(e,n){const t=e=>n>0?e-this.size+1:e-n-this.size+1,o=this.radius,r=document.createElement("div");r.classList.add("field__column");for(let s=0;s<e;s++){const e={x:n,y:(i=s,-n-t(i)),z:t(s)},A=new a({radius:o,coordinates:e});r.append(A.render()),this._saveCell(A,e),this.allHexagons.push(A)}var i;return r}_addStyles(){const e=document.getElementById("field-styles"),n=this._calcHexSizes(),t=`.field__column {margin-left: ${this.radius/2}px;}.hexagon_outer {width: ${n.tallerSize}px;height: ${n.widerSize}px;}`;if(e)e.innerText=t;else{const e=document.createElement("style");e.id="field-styles",e.innerText=t,document.head.append(e)}}render(){this.$el.innerHTML="";for(let e=0;e<this.tableSize;e++){const n=this.tableSize-Math.abs(this.size-1-e);this.$el.append(this._createColumnTemplate(n,e-this.size+1))}}updateAllNeighbours(){for(let e in this.table){const n=this.table[e];for(let t in n){const o=n[t];for(let n in o)this._updateNeighbours({x:e,y:t,z:n})}}}_getMovementSource(e){const n=this.size-1,t={"north-west":{x:n,y:-n},north:{z:n,y:-n},"north-east":{x:-n,z:n},"south-west":{x:n,z:-n},south:{y:n,z:-n},"south-east":{x:-n,y:n}}[e];return this.allHexagons.filter((e=>{const n=e.coordinates,{x:o,y:a,z:r}=t;return!(!o||n.x!==o)||!(!a||n.y!==a)||r&&n.z===r}))}_getMovementDestination(e){const n=this.size-1,t={"north-west":{x:-n,y:n},north:{z:-n,y:n},"north-east":{x:n,z:-n},"south-west":{x:-n,z:n},south:{y:-n,z:n},"south-east":{x:n,y:-n}}[e];return this.allHexagons.filter((e=>{const n=e.coordinates,{x:o,y:a,z:r}=t;return!(!o||n.x!==o)||!(!a||n.y!==a)||r&&n.z===r}))}_getOpposizeDirection(e){return{"north-west":l,north:A,"north-east":c,"south-west":i,south:r,"south-east":s}[e]}makeStep(e){if(this.isMoving)return;this.isMoving=!0;const n=this._getMovementSource(e);let t=!1;return this.allHexagons.forEach((e=>{e.oldValue=e.value})),n.forEach((n=>{let t=n,o=t.neighbours[e];for(;t;){o=t.neighbours[e];const n=t.value,a=t.numbersToUse;if(n||a.length)o?(o.numbersToUse.push(...a),n&&o.numbersToUse.push(n),t.numbersToUse=[],t.value=0,t.$el.dataset.value=0):n&&t.numbersToUse.push(n),t=o;else if(t=o,!t)break}})),this._getMovementDestination(e).forEach((n=>{if(!n.numbersToUse.length)return;const t=n.numbersToUse.reverse().reduce(((e,n)=>(e[e.length-1]&&!e[e.length-1].summed&&e[e.length-1].number===n?(e[e.length-1].number=2*n,e[e.length-1].summed=!0):e.push({number:n,summed:!1}),e)),[]).map((e=>e.number));n.numbersToUse=[],n.calcuatedRow=t;const o=this._getOpposizeDirection(e);n.calcuatedRow.forEach(((e,t)=>{let a=n;for(let e=0;e<t;e++)a=a.neighbours[o];a&&(a.value=e,a.$el.dataset.value=e)})),n.calcuatedRow=[]})),this.allHexagons.forEach((e=>{e.oldValue!==e.value&&(t=!0)})),this.isMoving=!1,t}isGameOver(){let e=!0;return[s,r,i].forEach((n=>{const t=this._getMovementSource(n);let o="";t.forEach((t=>{let a=0,r=t,i=!1;do{a===r.value&&(e=!1),0===r.value&&(e=!1),a=r.value,r.neighbours[n]||(i=!0),o=r,r=r.neighbours[n]}while(!i)}))})),e}get dataToSend(){return JSON.stringify(this.allHexagons.filter((e=>e.value)).map((e=>({x:e.coordinates.x,y:e.coordinates.y,z:e.coordinates.z,value:e.value}))))}}(d,b,x(b));const m=new class{constructor(e,n){this.url=e,this.fieldSize=n}_onResponce(e){const n=new CustomEvent("serverResponse",{detail:e});document.dispatchEvent(n)}getData(e="[]"){fetch(`${this.url}/${this.fieldSize}`,{method:"post",body:e}).then((e=>e.json())).then(this._onResponce.bind(this))}setUrl(e){this.url=e}setFieldSize(e){this.fieldSize=e}}(h,b);function y(e){g.reinit(e,x(e)),g.updateAllNeighbours(),m.setFieldSize(e),m.getData(),p.dataset.status="playing",p.innerText="playing"}function x(e){const n=window.innerHeight,t=2*e-1;return Math.min(100,n/t/2)}f.onKeyDown("KeyQ",(()=>{g.makeStep("north-west")&&m.getData(g.dataToSend)})),f.onKeyDown("KeyW",(()=>{g.makeStep("north")&&m.getData(g.dataToSend)})),f.onKeyDown("KeyE",(()=>{g.makeStep("north-east")&&m.getData(g.dataToSend)})),f.onKeyDown("KeyA",(()=>{g.makeStep("south-west")&&m.getData(g.dataToSend)})),f.onKeyDown("KeyS",(()=>{g.makeStep("south")&&m.getData(g.dataToSend)})),f.onKeyDown("KeyD",(()=>{g.makeStep("south-east")&&m.getData(g.dataToSend)})),setTimeout((()=>{m.getData()}),200),g.updateAllNeighbours(),document.addEventListener("game:end",(()=>{document.querySelector("[data-status]").dataset.status="game-over",document.querySelector("[data-status]").innerText="game-over"})),document.getElementById("url-server").addEventListener("change",(e=>{m.setUrl(e.target.value)})),v.addEventListener("input",(e=>{y(e.target.value)})),E.forEach((e=>{e.addEventListener("click",(e=>{const n=e.target.dataset.countButton;y(n),v.value=n}))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL3N0eWxlcy5sZXNzIiwid2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2hleDIwNDgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaGV4MjA0OC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaGV4MjA0OC8uL3NyYy9zdHlsZXMubGVzcz9kYzg1Iiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9IZXhhZ29uLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9GaWVsZC5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9LZXlib2FyZC5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL2NvbXBvbmVudHMvU2VydmVyLmpzIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJIZXhhZ29uIiwicmFkaXVzIiwiY29vcmRpbmF0ZXMiLCJfbmVpZ2hib3VycyIsIl92YWx1ZSIsIm9sZFZhbHVlIiwibnVtYmVyc1RvVXNlIiwibmV3TmVpZ2hib3VycyIsIm5ld1ZhbCIsImRyYXdUZXh0IiwiJGlubmVyRWwiLCJpbm5lclRleHQiLCJ4IiwieSIsInoiLCJ0ZXh0IiwiJGVsIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGV4YWdvbiIsImlubmVySFRNTCIsImRhdGFzZXQiLCJjaGlsZHJlbiIsIkRJUkVDVElPTlMiLCJmaWVsZEV4aXN0SW5PYmplY3QiLCJmaWVsZCIsImZpZWxkRWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwic2VydmVyVXJsIiwia2V5Ym9hcmQiLCJldmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwib25LZXlEb3duVGFza01hbmFnZXIiLCJldmVudCIsImNvZGUiLCJjYWxsYmFjayIsImNlbGxDb3VudCIsIiRyYW5nZSIsIiRidXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsIiRzdGF0dXMiLCJsb2NhdGlvbiIsImhhc2giLCJzaXplIiwicmVpbml0IiwidGFibGVTaXplIiwidGFibGUiLCJhbGxIZXhhZ29ucyIsIl9iaW5kRXZlbnRzIiwiX2FkZFN0eWxlcyIsInJlbmRlciIsIl9vblNlcnZlclJlc3BvbnNlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2IiwiZGV0YWlsIiwiY2VsbCIsIlN0cmluZyIsImlzR2FtZU92ZXIiLCJDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJfY2VsbEV4aXN0IiwiX2FkZENlbGwiLCJOdW1iZXIiLCJjb252ZXJ0Q29vcmRpbmF0ZXNUb051bWJlcnMiLCJkaXJlY3Rpb24iLCJyZWR1Y2UiLCJhY2MiLCJjb29yZHMiLCJfZ2V0Q2VsbCIsIm5laWdoYm91cnMiLCJfZmluZE5laWdoYm91cnMiLCJpbm5lclJhZGl1cyIsIk1hdGgiLCJzcXJ0IiwidGFsbGVyU2l6ZSIsIndpZGVyU2l6ZSIsImNvbHVtbkluZGV4IiwiZ2V0WkNvb3JkaW5hdGUiLCJpbmRleEluQ29sdW1uIiwiJGNvbHVtbiIsImhleENlbGwiLCJhcHBlbmQiLCJfc2F2ZUNlbGwiLCJleGlzdFN0eWxlIiwiaGV4U2l6ZXMiLCJfY2FsY0hleFNpemVzIiwibmV3U3R5bGUiLCJjYWxjdWxhdGVkQ291bnQiLCJhYnMiLCJfY3JlYXRlQ29sdW1uVGVtcGxhdGUiLCJsaXN0WCIsImxpc3RZIiwiX3VwZGF0ZU5laWdoYm91cnMiLCJjb3JuZXIiLCJjb3JuZXJEYXRhIiwiaXNNb3ZpbmciLCJfZ2V0TW92ZW1lbnRTb3VyY2UiLCJpc01vdmVkIiwiY3VycmVudENlbGwiLCJuZXh0Q2VsbCIsIl9nZXRNb3ZlbWVudERlc3RpbmF0aW9uIiwiY2FsY3VsYXRlZCIsInJldmVyc2UiLCJudW1iZXIiLCJzdW1tZWQiLCJlbGVtIiwiY2FsY3VhdGVkUm93Iiwib3BwRGlyZWN0aW9uIiwiX2dldE9wcG9zaXplRGlyZWN0aW9uIiwiY2VsbFRvVXBkYXRlIiwiaiIsImlzT3ZlciIsIm9sZENlbGwiLCJjdXJyZW50VmFsdWUiLCJuZWVkVG9TdG9wR29pbmdOZWlnaGJvdXJzIiwiY2FsY0NlbGxTaXplIiwic2VydmVyIiwidXJsIiwiZmllbGRTaXplIiwicmVzcG9uc2UiLCJib2R5IiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwicmVzIiwianNvbiIsIl9vblJlc3BvbmNlIiwibmV3VXJsIiwibmV3RmllbGRTaXplIiwiZ2xvYmFsUmVpbml0IiwidXBkYXRlQWxsTmVpZ2hib3VycyIsInNldEZpZWxkU2l6ZSIsImdldERhdGEiLCJtYXhGaWVsZEhlaWdodCIsImlubmVySGVpZ2h0IiwicmVhbENvdW50IiwibWluIiwib25LZXlEb3duIiwibWFrZVN0ZXAiLCJkYXRhVG9TZW5kIiwic2V0VGltZW91dCIsInNldFVybCIsImJ1dHRvbiIsImNvdW50QnV0dG9uIl0sIm1hcHBpbmdzIjoidUZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksK2dHQUE4aUcsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsK0JBQStCLE1BQVEsR0FBRyxTQUFXLCtvQ0FBK29DLGVBQWlCLENBQUMsdy9GQUFzaEcsV0FBYSxNQUUzMk8sVyxRQ0NBRCxFQUFPRSxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0F1RFgsT0FyREFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBQVVOLEVBQXVCSyxHQUVyQyxPQUFJQSxFQUFLLEdBQ0EsVUFBVUUsT0FBT0YsRUFBSyxHQUFJLE1BQU1FLE9BQU9ELEVBQVMsS0FHbERBLEtBQ05FLEtBQUssS0FLVlAsRUFBS1EsRUFBSSxTQUFVQyxFQUFTQyxFQUFZQyxHQUNmLGlCQUFaRixJQUVUQSxFQUFVLENBQUMsQ0FBQyxLQUFNQSxFQUFTLE1BRzdCLElBQUlHLEVBQXlCLEdBRTdCLEdBQUlELEVBQ0YsSUFBSyxJQUFJSCxFQUFJLEVBQUdBLEVBQUlOLEtBQUtXLE9BQVFMLElBQUssQ0FFcEMsSUFBSVgsRUFBS0ssS0FBS00sR0FBRyxHQUVQLE1BQU5YLElBQ0ZlLEVBQXVCZixJQUFNLEdBS25DLElBQUssSUFBSWlCLEVBQUssRUFBR0EsRUFBS0wsRUFBUUksT0FBUUMsSUFBTSxDQUMxQyxJQUFJVixFQUFPLEdBQUdFLE9BQU9HLEVBQVFLLElBRXpCSCxHQUFVQyxFQUF1QlIsRUFBSyxNQUt0Q00sSUFDR04sRUFBSyxHQUdSQSxFQUFLLEdBQUssR0FBR0UsT0FBT0ksRUFBWSxTQUFTSixPQUFPRixFQUFLLElBRnJEQSxFQUFLLEdBQUtNLEdBTWRWLEVBQUtMLEtBQUtTLE1BSVBKLEksT0N4RFQsU0FBU2UsRUFBa0JDLEVBQUtDLElBQWtCLE1BQVBBLEdBQWVBLEVBQU1ELEVBQUlILFVBQVFJLEVBQU1ELEVBQUlILFFBQVEsSUFBSyxJQUFJTCxFQUFJLEVBQUdVLEVBQU8sSUFBSUMsTUFBTUYsR0FBTVQsRUFBSVMsRUFBS1QsSUFBT1UsRUFBS1YsR0FBS1EsRUFBSVIsR0FBTSxPQUFPVSxFQU1oTHRCLEVBQU9FLFFBQVUsU0FBZ0NNLEdBQy9DLElBYnNCWSxFQUFLUixFQWF2QlksR0FidUJaLEVBYU0sRUFIbkMsU0FBeUJRLEdBQU8sR0FBSUcsTUFBTUUsUUFBUUwsR0FBTSxPQUFPQSxFQVZ0Qk0sQ0FBakJOLEVBYUtaLElBTDdCLFNBQStCWSxFQUFLUixHQUFLLEdBQXNCLG9CQUFYZSxRQUE0QkEsT0FBT0MsWUFBWUMsT0FBT1QsR0FBakUsQ0FBZ0YsSUFBSVUsRUFBTyxHQUFRQyxHQUFLLEVBQVVDLEdBQUssRUFBV0MsT0FBS0MsRUFBVyxJQUFNLElBQUssSUFBaUNDLEVBQTdCakIsRUFBS0UsRUFBSU8sT0FBT0MsY0FBbUJHLEdBQU1JLEVBQUtqQixFQUFHa0IsUUFBUUMsUUFBb0JQLEVBQUsvQixLQUFLb0MsRUFBR0csUUFBWTFCLEdBQUtrQixFQUFLYixTQUFXTCxHQUEzRG1CLEdBQUssSUFBb0UsTUFBT1EsR0FBT1AsR0FBSyxFQUFNQyxFQUFLTSxFQUFPLFFBQVUsSUFBV1IsR0FBc0IsTUFBaEJiLEVBQVcsUUFBV0EsRUFBVyxTQUFPLFFBQVUsR0FBSWMsRUFBSSxNQUFNQyxHQUFRLE9BQU9ILEdBUmphVSxDQUFzQnBCLEVBQUtSLElBSTVGLFNBQXFDNkIsRUFBR0MsR0FBVSxHQUFLRCxFQUFMLENBQWdCLEdBQWlCLGlCQUFOQSxFQUFnQixPQUFPdEIsRUFBa0JzQixFQUFHQyxHQUFTLElBQUlDLEVBQUlkLE9BQU9lLFVBQVV2QyxTQUFTd0MsS0FBS0osR0FBR0ssTUFBTSxHQUFJLEdBQWlFLE1BQW5ELFdBQU5ILEdBQWtCRixFQUFFTSxjQUFhSixFQUFJRixFQUFFTSxZQUFZQyxNQUFnQixRQUFOTCxHQUFxQixRQUFOQSxFQUFvQnBCLE1BQU0wQixLQUFLUixHQUFjLGNBQU5FLEdBQXFCLDJDQUEyQ08sS0FBS1AsR0FBV3hCLEVBQWtCc0IsRUFBR0MsUUFBekcsR0FKM01TLENBQTRCL0IsRUFBS1IsSUFFbkksV0FBOEIsTUFBTSxJQUFJd0MsVUFBVSw2SUFGdUZDLElBY25JNUMsRUFBVWUsRUFBTSxHQUNoQjhCLEVBQWE5QixFQUFNLEdBRXZCLEdBQW9CLG1CQUFUK0IsS0FBcUIsQ0FFOUIsSUFBSUMsRUFBU0QsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVTixNQUN6RE8sRUFBTywrREFBK0RuRCxPQUFPOEMsR0FDN0VNLEVBQWdCLE9BQU9wRCxPQUFPbUQsRUFBTSxPQUNwQ0UsRUFBYVQsRUFBV1UsUUFBUXpELEtBQUksU0FBVTBELEdBQ2hELE1BQU8saUJBQWlCdkQsT0FBTzRDLEVBQVdZLFlBQWMsSUFBSXhELE9BQU91RCxFQUFRLFVBRTdFLE1BQU8sQ0FBQ3hELEdBQVNDLE9BQU9xRCxHQUFZckQsT0FBTyxDQUFDb0QsSUFBZ0JuRCxLQUFLLE1BR25FLE1BQU8sQ0FBQ0YsR0FBU0UsS0FBSyxRLGNDNUJ4QixJQUNNd0QsRUFlRkMsRUFBWSxXQUNkLElBQUlELEVBQU8sR0FDWCxPQUFPLFNBQWtCRSxHQUN2QixRQUE0QixJQUFqQkYsRUFBS0UsR0FBeUIsQ0FDdkMsSUFBSUMsRUFBY0MsU0FBU0MsY0FBY0gsR0FFekMsR0FBSUksT0FBT0MsbUJBQXFCSixhQUF1QkcsT0FBT0Msa0JBQzVELElBR0VKLEVBQWNBLEVBQVlLLGdCQUFnQkMsS0FDMUMsTUFBT0MsR0FFUFAsRUFBYyxLQUlsQkgsRUFBS0UsR0FBVUMsRUFHakIsT0FBT0gsRUFBS0UsSUFwQkEsR0F3QlpTLEVBQWMsR0FFbEIsU0FBU0MsRUFBcUJDLEdBRzVCLElBRkEsSUFBSUMsR0FBVSxFQUVMckUsRUFBSSxFQUFHQSxFQUFJa0UsRUFBWTdELE9BQVFMLElBQ3RDLEdBQUlrRSxFQUFZbEUsR0FBR29FLGFBQWVBLEVBQVksQ0FDNUNDLEVBQVNyRSxFQUNULE1BSUosT0FBT3FFLEVBR1QsU0FBU0MsRUFBYTlFLEVBQU0rRSxHQUkxQixJQUhBLElBQUlDLEVBQWEsR0FDYkMsRUFBYyxHQUVUekUsRUFBSSxFQUFHQSxFQUFJUixFQUFLYSxPQUFRTCxJQUFLLENBQ3BDLElBQUlKLEVBQU9KLEVBQUtRLEdBQ1pYLEVBQUtrRixFQUFRRyxLQUFPOUUsRUFBSyxHQUFLMkUsRUFBUUcsS0FBTzlFLEVBQUssR0FDbEQrRSxFQUFRSCxFQUFXbkYsSUFBTyxFQUMxQitFLEVBQWEsR0FBR3RFLE9BQU9ULEVBQUksS0FBS1MsT0FBTzZFLEdBQzNDSCxFQUFXbkYsR0FBTXNGLEVBQVEsRUFDekIsSUFBSUMsRUFBUVQsRUFBcUJDLEdBQzdCUyxFQUFNLENBQ1JDLElBQUtsRixFQUFLLEdBQ1ZtRixNQUFPbkYsRUFBSyxHQUNab0YsVUFBV3BGLEVBQUssS0FHSCxJQUFYZ0YsR0FDRlYsRUFBWVUsR0FBT0ssYUFDbkJmLEVBQVlVLEdBQU9NLFFBQVFMLElBRTNCWCxFQUFZL0UsS0FBSyxDQUNmaUYsV0FBWUEsRUFDWmMsUUFBU0MsRUFBU04sRUFBS04sR0FDdkJVLFdBQVksSUFJaEJSLEVBQVl0RixLQUFLaUYsR0FHbkIsT0FBT0ssRUFHVCxTQUFTVyxFQUFtQmIsR0FDMUIsSUFBSWMsRUFBUTFCLFNBQVMyQixjQUFjLFNBQy9CQyxFQUFhaEIsRUFBUWdCLFlBQWMsR0FFdkMsUUFBZ0MsSUFBckJBLEVBQVdDLE1BQXVCLENBQzNDLElBQUlBLEVBQW1ELEtBRW5EQSxJQUNGRCxFQUFXQyxNQUFRQSxHQVF2QixHQUpBdkUsT0FBT3dFLEtBQUtGLEdBQVlHLFNBQVEsU0FBVUMsR0FDeENOLEVBQU1PLGFBQWFELEVBQUtKLEVBQVdJLE9BR1AsbUJBQW5CcEIsRUFBUXNCLE9BQ2pCdEIsRUFBUXNCLE9BQU9SLE9BQ1YsQ0FDTCxJQUFJNUIsRUFBU0QsRUFBVWUsRUFBUXNCLFFBQVUsUUFFekMsSUFBS3BDLEVBQ0gsTUFBTSxJQUFJcUMsTUFBTSwyR0FHbEJyQyxFQUFPc0MsWUFBWVYsR0FHckIsT0FBT0EsRUFjVCxJQUNNVyxFQURGQyxHQUNFRCxFQUFZLEdBQ1QsU0FBaUJwQixFQUFPc0IsR0FFN0IsT0FEQUYsRUFBVXBCLEdBQVNzQixFQUNaRixFQUFVRyxPQUFPQyxTQUFTckcsS0FBSyxRQUkxQyxTQUFTc0csRUFBb0JoQixFQUFPVCxFQUFPMEIsRUFBUXpCLEdBQ2pELElBQUlDLEVBQU13QixFQUFTLEdBQUt6QixFQUFJRSxNQUFRLFVBQVVqRixPQUFPK0UsRUFBSUUsTUFBTyxNQUFNakYsT0FBTytFLEVBQUlDLElBQUssS0FBT0QsRUFBSUMsSUFJakcsR0FBSU8sRUFBTWtCLFdBQ1JsQixFQUFNa0IsV0FBV0MsUUFBVVAsRUFBWXJCLEVBQU9FLE9BQ3pDLENBQ0wsSUFBSTJCLEVBQVU5QyxTQUFTK0MsZUFBZTVCLEdBQ2xDNkIsRUFBYXRCLEVBQU1zQixXQUVuQkEsRUFBVy9CLElBQ2JTLEVBQU11QixZQUFZRCxFQUFXL0IsSUFHM0IrQixFQUFXdEcsT0FDYmdGLEVBQU13QixhQUFhSixFQUFTRSxFQUFXL0IsSUFFdkNTLEVBQU1VLFlBQVlVLElBS3hCLFNBQVNLLEVBQVd6QixFQUFPZCxFQUFTTSxHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNaQyxFQUFZSCxFQUFJRyxVQWVwQixHQWJJRCxFQUNGTSxFQUFNTyxhQUFhLFFBQVNiLEdBRTVCTSxFQUFNMEIsZ0JBQWdCLFNBR3BCL0IsR0FBNkIsb0JBQVRyQyxPQUN0Qm1DLEdBQU8sdURBQXVEaEYsT0FBTzZDLEtBQUtFLFNBQVNDLG1CQUFtQkMsS0FBS0MsVUFBVWdDLE1BQWUsUUFNbElLLEVBQU1rQixXQUNSbEIsRUFBTWtCLFdBQVdDLFFBQVUxQixNQUN0QixDQUNMLEtBQU9PLEVBQU0yQixZQUNYM0IsRUFBTXVCLFlBQVl2QixFQUFNMkIsWUFHMUIzQixFQUFNVSxZQUFZcEMsU0FBUytDLGVBQWU1QixLQUk5QyxJQUFJbUMsRUFBWSxLQUNaQyxFQUFtQixFQUV2QixTQUFTL0IsRUFBU04sRUFBS04sR0FDckIsSUFBSWMsRUFDQThCLEVBQ0FiLEVBRUosR0FBSS9CLEVBQVEwQyxVQUFXLENBQ3JCLElBQUlHLEVBQWFGLElBQ2pCN0IsRUFBUTRCLElBQWNBLEVBQVk3QixFQUFtQmIsSUFDckQ0QyxFQUFTZCxFQUFvQmdCLEtBQUssS0FBTWhDLEVBQU8rQixHQUFZLEdBQzNEZCxFQUFTRCxFQUFvQmdCLEtBQUssS0FBTWhDLEVBQU8rQixHQUFZLFFBRTNEL0IsRUFBUUQsRUFBbUJiLEdBQzNCNEMsRUFBU0wsRUFBV08sS0FBSyxLQUFNaEMsRUFBT2QsR0FFdEMrQixFQUFTLFlBeEZiLFNBQTRCakIsR0FFMUIsR0FBeUIsT0FBckJBLEVBQU1pQyxXQUNSLE9BQU8sRUFHVGpDLEVBQU1pQyxXQUFXVixZQUFZdkIsR0FtRnpCa0MsQ0FBbUJsQyxJQUt2QixPQURBOEIsRUFBT3RDLEdBQ0EsU0FBcUIyQyxHQUMxQixHQUFJQSxFQUFRLENBQ1YsR0FBSUEsRUFBTzFDLE1BQVFELEVBQUlDLEtBQU8wQyxFQUFPekMsUUFBVUYsRUFBSUUsT0FBU3lDLEVBQU94QyxZQUFjSCxFQUFJRyxVQUNuRixPQUdGbUMsRUFBT3RDLEVBQU0yQyxRQUVibEIsS0FLTmxILEVBQU9FLFFBQVUsU0FBVUUsRUFBTStFLElBQy9CQSxFQUFVQSxHQUFXLElBR1IwQyxXQUEwQyxrQkFBdEIxQyxFQUFRMEMsWUFDdkMxQyxFQUFRMEMsZ0JBck9ZLElBQVQxRCxJQU1UQSxFQUFPNkMsUUFBUXZDLFFBQVVGLFVBQVlBLFNBQVM4RCxNQUFRNUQsT0FBTzZELE9BR3hEbkUsSUFnT1QsSUFBSW9FLEVBQWtCckQsRUFEdEI5RSxFQUFPQSxHQUFRLEdBQzBCK0UsR0FDekMsT0FBTyxTQUFnQnFELEdBR3JCLEdBRkFBLEVBQVVBLEdBQVcsR0FFMkIsbUJBQTVDM0csT0FBT2UsVUFBVXZDLFNBQVN3QyxLQUFLMkYsR0FBbkMsQ0FJQSxJQUFLLElBQUk1SCxFQUFJLEVBQUdBLEVBQUkySCxFQUFnQnRILE9BQVFMLElBQUssQ0FDL0MsSUFDSTRFLEVBQVFULEVBREt3RCxFQUFnQjNILElBRWpDa0UsRUFBWVUsR0FBT0ssYUFLckIsSUFGQSxJQUFJNEMsRUFBcUJ2RCxFQUFhc0QsRUFBU3JELEdBRXRDakUsRUFBSyxFQUFHQSxFQUFLcUgsRUFBZ0J0SCxPQUFRQyxJQUFNLENBQ2xELElBRUl3SCxFQUFTM0QsRUFGS3dELEVBQWdCckgsSUFJSyxJQUFuQzRELEVBQVk0RCxHQUFRN0MsYUFDdEJmLEVBQVk0RCxHQUFRNUMsVUFFcEJoQixFQUFZNkQsT0FBT0QsRUFBUSxJQUkvQkgsRUFBa0JFLE9DelFsQkcsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjVHLElBQWpCNkcsRUFDSCxPQUFPQSxFQUFhN0ksUUFHckIsSUFBSUYsRUFBUzRJLEVBQXlCRSxHQUFZLENBQ2pEN0ksR0FBSTZJLEVBRUo1SSxRQUFTLElBT1YsT0FIQThJLEVBQW9CRixHQUFVOUksRUFBUUEsRUFBT0UsUUFBUzJJLEdBRy9DN0ksRUFBT0UsUUNwQmYySSxFQUFvQmxHLEVBQUszQyxJQUN4QixJQUFJaUosRUFBU2pKLEdBQVVBLEVBQU9rSixXQUM3QixJQUFPbEosRUFBaUIsUUFDeEIsSUFBTSxFQUVQLE9BREE2SSxFQUFvQk0sRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkosRUFBb0JNLEVBQUksQ0FBQ2pKLEVBQVNtSixLQUNqQyxJQUFJLElBQUk5QyxLQUFPOEMsRUFDWFIsRUFBb0JwRyxFQUFFNEcsRUFBWTlDLEtBQVNzQyxFQUFvQnBHLEVBQUV2QyxFQUFTcUcsSUFDNUUxRSxPQUFPeUgsZUFBZXBKLEVBQVNxRyxFQUFLLENBQUVnRCxZQUFZLEVBQU1DLElBQUtILEVBQVc5QyxNQ0ozRXNDLEVBQW9CcEcsRUFBSSxDQUFDZ0QsRUFBS2dFLElBQVU1SCxPQUFPZSxVQUFVOEcsZUFBZTdHLEtBQUs0QyxFQUFLZ0UsRyxxQ0NRckUsSUFBSSxJQUxILENBRWQsT0FBaUIsT0FDakIsV0FBb0IsSUFNTCxXQ1pSLE1BQU1FLEVBQ1gsYUFBWSxPQUFDQyxFQUFNLFlBQUVDLElBQ25CdkosS0FBS3NKLE9BQVNBLEVBQ2R0SixLQUFLdUosWUFBY0EsRUFDbkJ2SixLQUFLd0osWUFBYyxHQUNuQnhKLEtBQUt5SixPQUFTLEVBQ2R6SixLQUFLMEosU0FBVyxFQUNoQjFKLEtBQUsySixhQUFlLEdBR3RCLGlCQUNFLE9BQU8zSixLQUFLd0osWUFHZCxlQUFlSSxHQUNiNUosS0FBS3dKLFlBQWNJLEVBR3JCLFlBQ0UsT0FBTzVKLEtBQUt5SixPQUdkLFVBQVVJLEdBQ1I3SixLQUFLeUosT0FBU0ksRUFDZDdKLEtBQUs4SixTQUFTRCxHQUFrQixJQUdsQyxrQkFDRTdKLEtBQUsrSixTQUFTQyxVQUFZLElBQUloSyxLQUFLdUosWUFBWVUsS0FBS2pLLEtBQUt1SixZQUFZVyxLQUFLbEssS0FBS3VKLFlBQVlZLEtBRzdGLFNBQVNDLEdBQ1BwSyxLQUFLK0osU0FBU0MsVUFBWUksRUFHNUIsU0FXRSxPQVZBcEssS0FBS3FLLElBQU1wRyxTQUFTMkIsY0FBYyxPQUNsQzVGLEtBQUtxSyxJQUFJQyxVQUFVQyxJQUFJLFdBQ3ZCdkssS0FBS3FLLElBQUlDLFVBQVVDLElBQUksaUJBQ3ZCdkssS0FBS3FLLElBQUlHLFFBQVV4SyxLQUNuQkEsS0FBS3FLLElBQUlJLFVBQVksNENBQ3JCekssS0FBS3FLLElBQUlLLFFBQVFULEVBQUlqSyxLQUFLdUosWUFBWVUsRUFDdENqSyxLQUFLcUssSUFBSUssUUFBUVIsRUFBSWxLLEtBQUt1SixZQUFZVyxFQUN0Q2xLLEtBQUtxSyxJQUFJSyxRQUFRUCxFQUFJbkssS0FBS3VKLFlBQVlZLEVBQ3RDbkssS0FBS3FLLElBQUlLLFFBQVExSSxNQUFRLEVBQ3pCaEMsS0FBSytKLFNBQVcvSixLQUFLcUssSUFBSU0sU0FBUyxHQUMzQjNLLEtBQUtxSyxLQzVDaEIsTUFBTU8sRUFDRyxRQURIQSxFQUVPLGFBRlBBLEVBR08sYUFIUEEsRUFJRyxRQUpIQSxFQUtPLGFBTFBBLEVBTU8sYUFtYWIsU0FBU0MsRUFBbUIxRixFQUFLMkYsR0FDL0IsUUFBUzNGLEVBQUkyRixHQ3ZhZixNQUFNQyxFQUFlOUcsU0FBUytHLGVBQWUsU0FDN0MsSUFBSUMsRUFBWWhILFNBQVMrRyxlQUFlLGNBQWNoSixNQUNsRDhJLEVBQVEsR0FDWixNQUFNSSxFQUFXLElDUlYsTUFDTCxjQUNFbEwsS0FBS21MLE9BQVMsR0FDZGxILFNBQVNtSCxpQkFBaUIsVUFBV3BMLEtBQUtxTCxxQkFBcUIxRCxLQUFLM0gsT0FHdEUscUJBQXFCc0wsR0FDZHRMLEtBQUttTCxPQUFPRyxFQUFNQyxPQUl2QnZMLEtBQUttTCxPQUFPRyxFQUFNQyxRQUdwQixVQUFVQSxFQUFNQyxHQUNkeEwsS0FBS21MLE9BQU9JLEdBQVFDLEVBR3RCLFdBQVdELEdBQ1R2TCxLQUFLbUwsT0FBT0ksR0FBUSxLRFZ4QixJQUFJRSxFQUFZLEVBQ2hCLE1BQU1DLEVBQVN6SCxTQUFTK0csZUFBZSxlQUNqQ1csRUFBVzFILFNBQVMySCxpQkFBaUIsdUJBQ3JDQyxFQUFVNUgsU0FBU0MsY0FBYyxpQkFFdkMsR0FBR0MsT0FBTzJILFNBQVNDLEtBQ2pCLE9BQU81SCxPQUFPMkgsU0FBU0MsTUFDckIsSUFBSyxTQUNITixFQUFZLEVBQ1osTUFFRixJQUFLLFNBQ0hBLEVBQVksRUFDWixNQUVGLElBQUssU0FDSEEsRUFBWSxPQUtoQkEsRUFBWSxFQUdkQyxFQUFPMUosTUFBUXlKLEVBQ2ZYLEVBQVEsSUR2QkQsTUFDTCxZQUFZVCxFQUFLMkIsRUFBTTFDLEdBQ3JCdEosS0FBS3FLLElBQU1BLEVBQ1hySyxLQUFLaU0sT0FBT0QsRUFBTTFDLEdBR3BCLE9BQU8wQyxFQUFNMUMsR0FDWHRKLEtBQUtnTSxLQUFPQSxFQUNaaE0sS0FBS2tNLFVBQW1CLEVBQVBGLEVBQVcsRUFDNUJoTSxLQUFLc0osT0FBU0EsRUFDZHRKLEtBQUttTSxNQUFRLEdBQ2JuTSxLQUFLb00sWUFBYyxHQUNuQnBNLEtBQUtxTSxjQUNMck0sS0FBS3NNLGFBQ0x0TSxLQUFLdU0sU0FHUCxjQUNFdk0sS0FBS3dNLGtCQUFvQnhNLEtBQUt3TSxrQkFBa0I3RSxLQUFLM0gsTUFDckRpRSxTQUFTd0ksb0JBQW9CLGlCQUFrQnpNLEtBQUt3TSxtQkFDcER2SSxTQUFTbUgsaUJBQWlCLGlCQUFrQnBMLEtBQUt3TSxtQkFHbkQsa0JBQWtCRSxHQVNoQixHQVJpQkEsRUFBR0MsT0FFWDNHLFNBQVE0RyxJQUNmLE1BQU0sRUFBQzNDLEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxJQWlaa0JaLEVBalplcUQsRUFrWjNDLENBQ0wzQyxFQUFHNEMsT0FBT3RELEVBQVlVLEdBQ3RCQyxFQUFHMkMsT0FBT3RELEVBQVlXLEdBQ3RCQyxFQUFHMEMsT0FBT3RELEVBQVlZLEtBSjFCLElBQXFDWixFQWhaL0J2SixLQUFLbU0sTUFBTWxDLEdBQUdDLEdBQUdDLEdBQUduSSxNQUFRNEssRUFBSzVLLE1BQ2pDaEMsS0FBS21NLE1BQU1sQyxHQUFHQyxHQUFHQyxHQUFHRSxJQUFJSyxRQUFRMUksTUFBUTRLLEVBQUs1SyxTQUc1Q2hDLEtBQUs4TSxhQUFjLENBQ3BCLE1BQU14QixFQUFRLElBQUl5QixZQUFZLFdBQVcsSUFDekM5SSxTQUFTK0ksY0FBYzFCLElBSTNCLFlBQVcsRUFBQ3JCLEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxJQUNoQixPQUFPVSxFQUFtQjdLLEtBQUttTSxNQUFPbEMsSUFDakNZLEVBQW1CN0ssS0FBS21NLE1BQU1sQyxHQUFJQyxJQUNsQ1csRUFBbUI3SyxLQUFLbU0sTUFBTWxDLEdBQUdDLEdBQUlDLEdBRzVDLFVBQVMsRUFBQ0YsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLElBQ1RVLEVBQW1CN0ssS0FBS21NLE1BQU9sQyxLQUNsQ2pLLEtBQUttTSxNQUFNbEMsR0FBSyxJQUViWSxFQUFtQjdLLEtBQUttTSxNQUFNbEMsR0FBSUMsS0FDckNsSyxLQUFLbU0sTUFBTWxDLEdBQUdDLEdBQUssSUFFaEJXLEVBQW1CN0ssS0FBS21NLE1BQU1sQyxHQUFHQyxHQUFJQyxLQUN4Q25LLEtBQUttTSxNQUFNbEMsR0FBR0MsR0FBR0MsR0FBSyxJQUkxQixVQUFVNUcsRUFBTWdHLEdBQ2QsSUFBSSxFQUFDVSxFQUFDLEVBQUVDLEVBQUMsRUFBRUMsR0FBS1osRUFFWHZKLEtBQUtpTixXQUFXMUQsSUFDbkJ2SixLQUFLa04sU0FBUzNELEdBRWhCdkosS0FBS21NLE1BQU1sQyxHQUFHQyxHQUFHQyxHQUFLNUcsRUFHeEIsVUFBUyxFQUFDMEcsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLElBQ2QsT0FBT25LLEtBQUttTSxNQUFNbEMsR0FBR0MsR0FBR0MsR0FHMUIsZ0JBQWdCWixHQUNkLE1BQU0sRUFBQ1UsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLEdBOFZqQixTQUFxQ1osR0FDbkMsTUFBTyxDQUNMVSxFQUFHa0QsT0FBTzVELEVBQVlVLEdBQ3RCQyxFQUFHaUQsT0FBTzVELEVBQVlXLEdBQ3RCQyxFQUFHZ0QsT0FBTzVELEVBQVlZLElBbFdKaUQsQ0FBNEI3RCxHQVU5QyxNQVQ0QixDQUMxQixDQUFDVSxFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLEVBQUksRUFBR0MsSUFBR2tELFVBQVd6QyxHQUNuQyxDQUFDWCxFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLEVBQUksRUFBR0MsSUFBR2tELFVBQVd6QyxHQUNuQyxDQUFDWCxJQUFHQyxFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLEVBQUksRUFBR2tELFVBQVd6QyxHQUNuQyxDQUFDWCxJQUFHQyxFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLEVBQUksRUFBR2tELFVBQVd6QyxHQUNuQyxDQUFDWCxFQUFHQSxFQUFJLEVBQUdDLElBQUdDLEVBQUdBLEVBQUksRUFBR2tELFVBQVd6QyxHQUNuQyxDQUFDWCxFQUFHQSxFQUFJLEVBQUdDLElBQUdDLEVBQUdBLEVBQUksRUFBR2tELFVBQVd6QyxJQUlsQ25FLE9BQU96RyxLQUFLaU4sV0FBV3RGLEtBQUszSCxPQUM1QnNOLFFBQU8sQ0FBQ0MsRUFBS0MsS0FDWkQsRUFBSUMsRUFBT0gsV0FBYXJOLEtBQUt5TixTQUFTRCxHQUMvQkQsSUFDTixJQUdQLGtCQUFrQmhFLEdBQ2hCdkosS0FBS3lOLFNBQVNsRSxHQUFhbUUsV0FBYTFOLEtBQUsyTixnQkFBZ0JwRSxHQUcvRCxnQkFFRSxPQURBdkosS0FBSzROLFlBQWNDLEtBQUtDLEtBQUssR0FBSyxFQUFJOU4sS0FBS3NKLE9BQ3BDLENBQ0x5RSxXQUFZL04sS0FBS3NKLE9BQ2pCMEUsVUFBVyxFQUFJaE8sS0FBSzROLGFBSXhCLHNCQUFzQjNJLEVBQU9nSixHQUMzQixNQUFNQyxFQUFrQkMsR0FDZkYsRUFBYyxFQUNqQkUsRUFBZ0JuTyxLQUFLZ00sS0FBTyxFQUM1Qm1DLEVBQWdCRixFQUFjak8sS0FBS2dNLEtBQU8sRUFNMUMxQyxFQUFTdEosS0FBS3NKLE9BQ2Q4RSxFQUFVbkssU0FBUzJCLGNBQWMsT0FFdkN3SSxFQUFROUQsVUFBVUMsSUFBSSxpQkFDdEIsSUFBSyxJQUFJakssRUFBSSxFQUFHQSxFQUFJMkUsRUFBTzNFLElBQUssQ0FDOUIsTUFBTWlKLEVBQWMsQ0FBQ1UsRUFBR2dFLEVBQWEvRCxHQVRmaUUsRUFTaUM3TixHQVIvQzJOLEVBQWNDLEVBQWVDLElBUXNCaEUsRUFBRytELEVBQWU1TixJQUN2RStOLEVBQVUsSUFBSWhGLEVBQVEsQ0FBQ0MsU0FBUUMsZ0JBRXJDNkUsRUFBUUUsT0FBT0QsRUFBUTlCLFVBQ3ZCdk0sS0FBS3VPLFVBQVVGLEVBQVM5RSxHQUN4QnZKLEtBQUtvTSxZQUFZM00sS0FBSzRPLEdBZEQsSUFBQ0YsRUFpQnhCLE9BQU9DLEVBR1QsYUFDRSxNQUFNSSxFQUFhdkssU0FBUytHLGVBQWUsZ0JBQ3JDeUQsRUFBV3pPLEtBQUswTyxnQkFDaEIvSSxFQUFRLGdDQUFnQzNGLEtBQUtzSixPQUFTLCtCQUErQm1GLEVBQVNWLHdCQUF3QlUsRUFBU1QsZ0JBRXJJLEdBQUlRLEVBQ0ZBLEVBQVd4RSxVQUFZckUsTUFDbEIsQ0FDTCxNQUFNZ0osRUFBVzFLLFNBQVMyQixjQUFjLFNBQ3hDK0ksRUFBU2hQLEdBQUssZUFDZGdQLEVBQVMzRSxVQUFZckUsRUFDckIxQixTQUFTSyxLQUFLZ0ssT0FBT0ssSUFJekIsU0FDRTNPLEtBQUtxSyxJQUFJSSxVQUFZLEdBQ3JCLElBQUssSUFBSW5LLEVBQUksRUFBR0EsRUFBSU4sS0FBS2tNLFVBQVc1TCxJQUFLLENBQ3ZDLE1BQU1zTyxFQUFrQjVPLEtBQUtrTSxVQUFZMkIsS0FBS2dCLElBQUk3TyxLQUFLZ00sS0FBTyxFQUFJMUwsR0FDbEVOLEtBQUtxSyxJQUFJaUUsT0FBT3RPLEtBQUs4TyxzQkFBc0JGLEVBQWlCdE8sRUFBSU4sS0FBS2dNLEtBQU8sS0FJaEYsc0JBQ0UsSUFBSyxJQUFJL0IsS0FBS2pLLEtBQUttTSxNQUFPLENBQ3hCLE1BQU00QyxFQUFRL08sS0FBS21NLE1BQU1sQyxHQUN6QixJQUFLLElBQUlDLEtBQUs2RSxFQUFPLENBQ25CLE1BQU1DLEVBQVFELEVBQU03RSxHQUNwQixJQUFLLElBQUlDLEtBQUs2RSxFQUNaaFAsS0FBS2lQLGtCQUFrQixDQUFDaEYsSUFBR0MsSUFBR0MsUUFNdEMsbUJBQW1Ca0QsR0FDakIsTUFBTTZCLEVBQVNsUCxLQUFLZ00sS0FBTyxFQTJCckJtRCxFQTFCVSxDQUNkLGFBQWMsQ0FDWmxGLEVBQUdpRixFQUNIaEYsR0FBSWdGLEdBRU4sTUFBUyxDQUNQL0UsRUFBRytFLEVBQ0hoRixHQUFJZ0YsR0FFTixhQUFjLENBQ1pqRixHQUFJaUYsRUFDSi9FLEVBQUcrRSxHQUVMLGFBQWMsQ0FDWmpGLEVBQUdpRixFQUNIL0UsR0FBSStFLEdBRU4sTUFBUyxDQUNQaEYsRUFBR2dGLEVBQ0gvRSxHQUFJK0UsR0FFTixhQUFjLENBQ1pqRixHQUFJaUYsRUFDSmhGLEVBQUdnRixJQUdvQjdCLEdBRTNCLE9BQU9yTixLQUFLb00sWUFBWTNGLFFBQU9tRyxJQUM3QixNQUFNWSxFQUFTWixFQUFLckQsYUFDZCxFQUFDVSxFQUFDLEVBQUVDLEVBQUMsRUFBRUMsR0FBS2dGLEVBRWxCLFNBQUlsRixHQUFLdUQsRUFBT3ZELElBQU1BLE9BR2xCQyxHQUFLc0QsRUFBT3RELElBQU1BLElBR2ZDLEdBQUtxRCxFQUFPckQsSUFBTUEsS0FJN0Isd0JBQXdCa0QsR0FDdEIsTUFBTTZCLEVBQVNsUCxLQUFLZ00sS0FBTyxFQTJCckJtRCxFQTFCZSxDQUNuQixhQUFjLENBQ1psRixHQUFJaUYsRUFDSmhGLEVBQUdnRixHQUVMLE1BQVMsQ0FDUC9FLEdBQUkrRSxFQUNKaEYsRUFBR2dGLEdBRUwsYUFBYyxDQUNaakYsRUFBR2lGLEVBQ0gvRSxHQUFJK0UsR0FFTixhQUFjLENBQ1pqRixHQUFJaUYsRUFDSi9FLEVBQUcrRSxHQUVMLE1BQVMsQ0FDUGhGLEdBQUlnRixFQUNKL0UsRUFBRytFLEdBRUwsYUFBYyxDQUNaakYsRUFBR2lGLEVBQ0hoRixHQUFJZ0YsSUFHd0I3QixHQUVoQyxPQUFPck4sS0FBS29NLFlBQVkzRixRQUFPbUcsSUFDN0IsTUFBTVksRUFBU1osRUFBS3JELGFBQ2QsRUFBQ1UsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLEdBQUtnRixFQUVsQixTQUFJbEYsR0FBS3VELEVBQU92RCxJQUFNQSxPQUdsQkMsR0FBS3NELEVBQU90RCxJQUFNQSxJQUdmQyxHQUFLcUQsRUFBT3JELElBQU1BLEtBSTdCLHNCQUFzQmtELEdBVXBCLE1BVDZCLENBQzNCLGFBQWN6QyxFQUNkLE1BQVNBLEVBQ1QsYUFBY0EsRUFDZCxhQUFjQSxFQUNkLE1BQVNBLEVBQ1QsYUFBY0EsR0FHWXlDLEdBRzlCLFNBQVNBLEdBQ1AsR0FBR3JOLEtBQUtvUCxTQUNOLE9BR0ZwUCxLQUFLb1AsVUFBVyxFQUNoQixNQUFNMUwsRUFBVTFELEtBQUtxUCxtQkFBbUJoQyxHQUN4QyxJQUFJaUMsR0FBVSxFQTBGZCxPQXhGQXRQLEtBQUtvTSxZQUFZcEcsU0FBUTRHLElBQ3ZCQSxFQUFLbEQsU0FBV2tELEVBQUs1SyxTQUd2QjBCLEVBQVFzQyxTQUFRNEcsSUFDZCxJQUFJMkMsRUFBYzNDLEVBQ2Q0QyxFQUFXRCxFQUFZN0IsV0FBV0wsR0FFdEMsS0FBT2tDLEdBQWEsQ0FDbEJDLEVBQVdELEVBQVk3QixXQUFXTCxHQUNsQyxNQUFNckwsRUFBUXVOLEVBQVl2TixNQUNwQjJILEVBQWU0RixFQUFZNUYsYUFFakMsR0FBSzNILEdBQVUySCxFQUFhaEosT0FReEI2TyxHQUNGQSxFQUFTN0YsYUFBYWxLLFFBQVFrSyxHQUMxQjNILEdBQ0Z3TixFQUFTN0YsYUFBYWxLLEtBQUt1QyxHQUU3QnVOLEVBQVk1RixhQUFlLEdBQzNCNEYsRUFBWXZOLE1BQVEsRUFDcEJ1TixFQUFZbEYsSUFBSUssUUFBUTFJLE1BQVEsR0FFNUJBLEdBQ0Z1TixFQUFZNUYsYUFBYWxLLEtBQUt1QyxHQUdsQ3VOLEVBQWNDLE9BbkJaLEdBREFELEVBQWNDLEdBQ1RELEVBQ0gsVUFzQmF2UCxLQUFLeVAsd0JBQXdCcEMsR0FDckNySCxTQUFRNEcsSUFDbkIsSUFBS0EsRUFBS2pELGFBQWFoSixPQUNyQixPQUdGLE1BQ00rTyxFQURjOUMsRUFBS2pELGFBQWFnRyxVQUNQckMsUUFBTyxDQUFDQyxFQUFLcUMsS0FDdENyQyxFQUFJQSxFQUFJNU0sT0FBUyxLQUFPNE0sRUFBSUEsRUFBSTVNLE9BQVMsR0FBR2tQLFFBQVV0QyxFQUFJQSxFQUFJNU0sT0FBUyxHQUFHaVAsU0FBV0EsR0FDdkZyQyxFQUFJQSxFQUFJNU0sT0FBUyxHQUFHaVAsT0FBa0IsRUFBVEEsRUFDN0JyQyxFQUFJQSxFQUFJNU0sT0FBUyxHQUFHa1AsUUFBUyxHQUU3QnRDLEVBQUk5TixLQUFLLENBQ1BtUSxTQUNBQyxRQUFRLElBR0x0QyxJQUNOLElBQ0F0TixLQUFJNlAsR0FBUUEsRUFBS0YsU0FFcEJoRCxFQUFLakQsYUFBZSxHQUNwQmlELEVBQUttRCxhQUFlTCxFQUVwQixNQUFNTSxFQUFlaFEsS0FBS2lRLHNCQUFzQjVDLEdBQ2hEVCxFQUFLbUQsYUFBYS9KLFNBQVEsQ0FBQzRKLEVBQVF0UCxLQUNqQyxJQUFJNFAsRUFBZXRELEVBRW5CLElBQUssSUFBSXVELEVBQUksRUFBR0EsRUFBSTdQLEVBQUc2UCxJQUNyQkQsRUFBZUEsRUFBYXhDLFdBQVdzQyxHQUlyQ0UsSUFJSkEsRUFBYWxPLE1BQVE0TixFQUNyQk0sRUFBYTdGLElBQUlLLFFBQVExSSxNQUFRNE4sTUFFbkNoRCxFQUFLbUQsYUFBZSxNQUd0Qi9QLEtBQUtvTSxZQUFZcEcsU0FBUTRHLElBQ3BCQSxFQUFLbEQsV0FBYWtELEVBQUs1SyxRQUN4QnNOLEdBQVUsTUFJZHRQLEtBQUtvUCxVQUFXLEVBQ1RFLEVBR1QsYUFPRSxJQUFJYyxHQUFTLEVBNEJiLE1BbEMwQixDQUN4QnhGLEVBQ0FBLEVBQ0FBLEdBS2dCNUUsU0FBUXFILElBQ3hCLE1BQU0zSixFQUFVMUQsS0FBS3FQLG1CQUFtQmhDLEdBQ3hDLElBQUlnRCxFQUFVLEdBQ2QzTSxFQUFRc0MsU0FBUTRHLElBQ2QsSUFBSTBELEVBQWUsRUFDZmYsRUFBYzNDLEVBQ2QyRCxHQUE0QixFQUNoQyxHQUNLRCxJQUFpQmYsRUFBWXZOLFFBQzlCb08sR0FBUyxHQUVjLElBQXRCYixFQUFZdk4sUUFDYm9PLEdBQVMsR0FFWEUsRUFBZWYsRUFBWXZOLE1BRXZCdU4sRUFBWTdCLFdBQVdMLEtBQ3pCa0QsR0FBNEIsR0FHOUJGLEVBQVVkLEVBQ1ZBLEVBQWNBLEVBQVk3QixXQUFXTCxVQUM3QmtELFNBSVBILEVBR1QsaUJBQ0UsT0FBTy9NLEtBQUtDLFVBQVV0RCxLQUFLb00sWUFDeEIzRixRQUFPbUcsR0FBUUEsRUFBSzVLLFFBQ3BCL0IsS0FBSTJNLElBQ0ksQ0FDTDNDLEVBQUcyQyxFQUFLckQsWUFBWVUsRUFDcEJDLEVBQUcwQyxFQUFLckQsWUFBWVcsRUFDcEJDLEVBQUd5QyxFQUFLckQsWUFBWVksRUFDcEJuSSxNQUFPNEssRUFBSzVLLGFDallKK0ksRUFBY1UsRUFBVytFLEVBQWEvRSxJQUV4RCxNQUFNZ0YsRUFBUyxJRXBDUixNQUNMLFlBQVlDLEVBQUtDLEdBQ2YzUSxLQUFLMFEsSUFBTUEsRUFDWDFRLEtBQUsyUSxVQUFZQSxFQUduQixZQUFZQyxHQUNWLE1BQU10RixFQUFRLElBQUl5QixZQUFZLGlCQUFrQixDQUM5Q0osT0FBUWlFLElBRVYzTSxTQUFTK0ksY0FBYzFCLEdBR3pCLFFBQVF1RixFQUFLLE1BQ1hDLE1BQU0sR0FBRzlRLEtBQUswUSxPQUFPMVEsS0FBSzJRLFlBQWEsQ0FDckNJLE9BQVEsT0FDUkYsU0FFQ0csTUFBS0MsR0FBT0EsRUFBSUMsU0FDaEJGLEtBQUtoUixLQUFLbVIsWUFBWXhKLEtBQUszSCxPQUdoQyxPQUFPb1IsR0FDTHBSLEtBQUswUSxJQUFNVSxFQUdiLGFBQWFDLEdBQ1hyUixLQUFLMlEsVUFBWVUsSUZTS3BHLEVBQVdRLEdBMEJyQyxTQUFTNkYsRUFBYXJNLEdBQ3BCNkYsRUFBTW1CLE9BQU9oSCxFQUFPdUwsRUFBYXZMLElBQ2pDNkYsRUFBTXlHLHNCQUNOZCxFQUFPZSxhQUFhdk0sR0FDcEJ3TCxFQUFPZ0IsVUFDUDVGLEVBQVFuQixRQUFnQixPQUFJLFVBQzVCbUIsRUFBUTdCLFVBQVksVUFHdEIsU0FBU3dHLEVBQWF2TCxHQUNwQixNQUFNeU0sRUFBaUJ2TixPQUFPd04sWUFFeEJDLEVBQW9CLEVBQVIzTSxFQUFZLEVBRTlCLE9BQU80SSxLQUFLZ0UsSUFIVSxJQUdTSCxFQUFlRSxFQUFVLEdBckMxRDFHLEVBQVM0RyxVQUFVLFFBQVEsS0FBT2hILEVBQU1pSCxTQUFTLGVBQWlCdEIsRUFBT2dCLFFBQVEzRyxFQUFNa0gsZUFDdkY5RyxFQUFTNEcsVUFBVSxRQUFRLEtBQU9oSCxFQUFNaUgsU0FBUyxVQUFXdEIsRUFBT2dCLFFBQVEzRyxFQUFNa0gsZUFDakY5RyxFQUFTNEcsVUFBVSxRQUFRLEtBQU9oSCxFQUFNaUgsU0FBUyxlQUFpQnRCLEVBQU9nQixRQUFRM0csRUFBTWtILGVBQ3ZGOUcsRUFBUzRHLFVBQVUsUUFBUSxLQUFPaEgsRUFBTWlILFNBQVMsZUFBaUJ0QixFQUFPZ0IsUUFBUTNHLEVBQU1rSCxlQUN2RjlHLEVBQVM0RyxVQUFVLFFBQVEsS0FBT2hILEVBQU1pSCxTQUFTLFVBQVl0QixFQUFPZ0IsUUFBUTNHLEVBQU1rSCxlQUNsRjlHLEVBQVM0RyxVQUFVLFFBQVEsS0FBT2hILEVBQU1pSCxTQUFTLGVBQWlCdEIsRUFBT2dCLFFBQVEzRyxFQUFNa0gsZUFHdkZDLFlBQVcsS0FBT3hCLEVBQU9nQixZQUFZLEtBQ3JDM0csRUFBTXlHLHNCQUVOdE4sU0FBU21ILGlCQUFpQixZQUFZLEtBQ3BDbkgsU0FBU0MsY0FBYyxpQkFBaUJ3RyxRQUFnQixPQUFJLFlBQzVEekcsU0FBU0MsY0FBYyxpQkFBaUI4RixVQUFZLGVBR3REL0YsU0FDRytHLGVBQWUsY0FDZkksaUJBQWlCLFVBQVdzQixJQUMzQitELEVBQU95QixPQUFPeEYsRUFBRzNJLE9BQU8vQixVQXFCNUIwSixFQUFPTixpQkFBaUIsU0FBVXNCLElBRWhDNEUsRUFEWTVFLEVBQUczSSxPQUFPL0IsVUFJeEIySixFQUFTM0YsU0FBUW1NLElBQ2ZBLEVBQU8vRyxpQkFBaUIsU0FBVXNCLElBQ2hDLE1BQU16SCxFQUFReUgsRUFBRzNJLE9BQU8yRyxRQUFRMEgsWUFDaENkLEVBQWFyTSxHQUNieUcsRUFBTzFKLE1BQVFpRCxTIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJib2R5IHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODBjYmM0O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5oZXhhZ29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLmhleGFnb246OmJlZm9yZSxcXG4uaGV4YWdvbjo6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMTAwJTtcXG4gIHRvcDogNTAlO1xcbiAgd2lkdGg6IDUwJTtcXG4gIGhlaWdodDogMDtcXG4gIHotaW5kZXg6IC0xO1xcbiAgcGFkZGluZy1ib3R0b206IDUwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxufVxcbi5oZXhhZ29uOjpiZWZvcmUge1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSg1MCUsIC01MCUpIHNjYWxlKDEuNDIsIDIuNDUpIHJvdGF0ZSg0NWRlZyk7XFxufVxcbi5oZXhhZ29uOjphZnRlciB7XFxuICBsZWZ0OiAxMDAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMS40MiwgMi40NSkgcm90YXRlKDQ1ZGVnKTtcXG59XFxuLmhleGFnb25fb3V0ZXIge1xcbiAgYmFja2dyb3VuZDogIzAwNjc1YjtcXG59XFxuLmhleGFnb25fb3V0ZXI6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY0ZDhjYjtcXG59XFxuLmhleGFnb25faW5uZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogNTAlO1xcbiAgdG9wOiA1MCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgwLjk1KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDk2ODg7XFxuICB6LWluZGV4OiAyO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBmb250LWZhbWlseTogJ1JvYm90bycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAyNnB4O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIyXFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQzYTA0NztcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiNFxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjhcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjZiYjZhO1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIxNlxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM3Y2IzNDI7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjMyXFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzhiYzM0YTtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiNjRcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWNjYzY1O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIxMjhcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjYTMzO1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIyNTZcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2RkYzM5O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCI1MTJcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDRlMTU3O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIxMDI0XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZDgzNTtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMjA0OFxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmViM2I7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjQwOTZcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlZTU4O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCI4MTkyXFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYjMwMDtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMTYzODRcXFwiXSAuaGV4YWdvbl9pbm5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZjMTA3O1xcbn1cXG4uaGV4YWdvbltkYXRhLXZhbHVlPVxcXCIzMjc2OFxcXCJdIC5oZXhhZ29uX2lubmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmNhMjg7XFxufVxcbi5oZXhhZ29uW2RhdGEtdmFsdWU9XFxcIjU2NTM2XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZiOGMwMDtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMTMxMDcyXFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNTcyMjtcXG59XFxuLmhleGFnb25bZGF0YS12YWx1ZT1cXFwiMjYyMTQ0XFxcIl0gLmhleGFnb25faW5uZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NTExZTtcXG59XFxuLmZpZWxkIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5maWVsZF9fY29sdW1uIHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4jdXJsLXNlcnZlcixcXG4jc3RhdHVzLFxcbiNjb3VudFNlbGVjdG9yIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMTAlO1xcbiAgbGVmdDogMTAlO1xcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIHBhZGRpbmc6IDAuNWVtIDFlbTtcXG59XFxuI3VybC1zZXJ2ZXIge1xcbiAgdG9wOiAxMCU7XFxufVxcbiNjb3VudFNlbGVjdG9yIHtcXG4gIHRvcDogY2FsYygxMCUgKyA1MHB4KTtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbiNjb3VudFNlbGVjdG9yIGlucHV0IHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4jc3RhdHVzIHtcXG4gIHRvcDogOTAlO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzLmxlc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFDRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBREY7QUFJQTtFQUNFLGtCQUFBO0FBRkY7QUFJRTs7RUFFRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUFGSjtBQUtFO0VBQ0UsV0FBQTtFQUNBLCtEQUFBO0FBSEo7QUFNRTtFQUNFLFVBQUE7RUFDQSxnRUFBQTtBQUpKO0FBT0U7RUFDRSxtQkFBQTtBQUxKO0FBT0k7RUFDRSx5QkFBQTtBQUxOO0FBU0U7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLDRDQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0VBQ0Esb0JBQUE7RUFDQSx3Q0FBQTtFQUNBLGVBQUE7QUFQSjtBQVVFO0VBQ0UseUJBQUE7QUFSSjtBQVdFO0VBQ0UseUJBQUE7QUFUSjtBQVlFO0VBQ0UseUJBQUE7QUFWSjtBQWFFO0VBQ0UseUJBQUE7QUFYSjtBQWNFO0VBQ0UseUJBQUE7QUFaSjtBQWVFO0VBQ0UseUJBQUE7QUFiSjtBQWdCRTtFQUNFLHlCQUFBO0FBZEo7QUFpQkU7RUFDRSx5QkFBQTtBQWZKO0FBa0JFO0VBQ0UseUJBQUE7QUFoQko7QUFtQkU7RUFDRSx5QkFBQTtBQWpCSjtBQW9CRTtFQUNFLHlCQUFBO0FBbEJKO0FBcUJFO0VBQ0UseUJBQUE7QUFuQko7QUFzQkU7RUFDRSx5QkFBQTtBQXBCSjtBQXVCRTtFQUNFLHlCQUFBO0FBckJKO0FBd0JFO0VBQ0UseUJBQUE7QUF0Qko7QUF5QkU7RUFDRSx5QkFBQTtBQXZCSjtBQTBCRTtFQUNFLHlCQUFBO0FBeEJKO0FBMkJFO0VBQ0UseUJBQUE7QUF6Qko7QUE2QkE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBM0JGO0FBNkJFO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUEzQko7QUErQkE7OztFQUdFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSx3Q0FBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQTdCRjtBQWdDQTtFQUNFLFFBQUE7QUE5QkY7QUFpQ0E7RUFDRSxxQkFBQTtFQUNBLFVBQUE7QUEvQkY7QUE2QkE7RUFLSSxjQUFBO0FBL0JKO0FBbUNBO0VBQ0UsUUFBQTtBQWpDRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAYmdDb2xvcjogIzgwY2JjNDtcXG5cXG5ib2R5IHtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBAYmdDb2xvcjtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4uaGV4YWdvbiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuXFxuICAmOjpiZWZvcmUsXFxuICAmOjphZnRlciB7XFxuICAgIGNvbnRlbnQ6ICcnO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAxMDAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgd2lkdGg6IDUwJTtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICB6LWluZGV4OiAtMTtcXG4gICAgcGFkZGluZy1ib3R0b206IDUwJTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcXG4gIH1cXG5cXG4gICY6OmJlZm9yZSB7XFxuICAgIHJpZ2h0OiAxMDAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSg1MCUsLTUwJSkgc2NhbGUoMS40MiwgMi40NSkgcm90YXRlKDQ1ZGVnKTtcXG4gIH1cXG5cXG4gICY6OmFmdGVyIHtcXG4gICAgbGVmdDogMTAwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKSBzY2FsZSgxLjQyLCAyLjQ1KSByb3RhdGUoNDVkZWcpO1xcbiAgfVxcblxcbiAgJl9vdXRlciB7XFxuICAgIGJhY2tncm91bmQ6ICMwMDY3NWI7XFxuXFxuICAgICY6aG92ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM2NGQ4Y2I7XFxuICAgIH1cXG4gIH1cXG5cXG4gICZfaW5uZXIge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSguOTUpO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5Njg4O1xcbiAgICB6LWluZGV4OiAyO1xcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gICAgZm9udC1zaXplOiAyNnB4O1xcbiAgfVxcbiAgXFxuICAmW2RhdGEtdmFsdWU9XFxcIjJcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQzYTA0NztcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiNFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwO1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCI4XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM2NmJiNmE7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjE2XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM3Y2IzNDI7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjMyXFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM4YmMzNGE7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjY0XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM5Y2NjNjU7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjEyOFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzBjYTMzO1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCIyNTZcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2NkZGMzOTtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiNTEyXFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkNGUxNTc7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjEwMjRcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZDgzNTtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMjA0OFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlYjNiO1xcbiAgfVxcblxcbiAgJltkYXRhLXZhbHVlPVxcXCI0MDk2XFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmVlNTg7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjgxOTJcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYjMwMDtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMTYzODRcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYzEwNztcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMzI3NjhcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmY2EyODtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiNTY1MzZcXFwiXSAmX2lubmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZiOGMwMDtcXG4gIH1cXG5cXG4gICZbZGF0YS12YWx1ZT1cXFwiMTMxMDcyXFxcIl0gJl9pbm5lciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjU3MjI7XFxuICB9XFxuXFxuICAmW2RhdGEtdmFsdWU9XFxcIjI2MjE0NFxcXCJdICZfaW5uZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjQ1MTFlO1xcbiAgfVxcbn1cXG5cXG4uZmllbGQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG5cXG4gICZfX2NvbHVtbiB7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB9XFxufVxcblxcbiN1cmwtc2VydmVyLFxcbiNzdGF0dXMsXFxuI2NvdW50U2VsZWN0b3Ige1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAxMCU7XFxuICBsZWZ0OiAxMCU7XFxuICBmb250LWZhbWlseTogJ1JvYm90bycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgcGFkZGluZzogLjVlbSAxZW07XFxufVxcblxcbiN1cmwtc2VydmVyIHtcXG4gIHRvcDogMTAlO1xcbn1cXG5cXG4jY291bnRTZWxlY3RvciB7XFxuICB0b3A6IGNhbGMoMTAlICsgNTBweCk7XFxuICBwYWRkaW5nOiAwO1xcblxcbiAgaW5wdXQge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gIH1cXG59XFxuXFxuI3N0YXR1cyB7XFxuICB0b3A6IDkwJTtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5sZXNzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiZXhwb3J0IGNsYXNzIEhleGFnb24ge1xuICBjb25zdHJ1Y3Rvcih7cmFkaXVzLCBjb29yZGluYXRlc30pIHtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgdGhpcy5fbmVpZ2hib3VycyA9IHt9O1xuICAgIHRoaXMuX3ZhbHVlID0gMDtcbiAgICB0aGlzLm9sZFZhbHVlID0gMDtcbiAgICB0aGlzLm51bWJlcnNUb1VzZSA9IFtdO1xuICB9XG5cbiAgZ2V0IG5laWdoYm91cnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25laWdoYm91cnM7XG4gIH1cblxuICBzZXQgbmVpZ2hib3VycyhuZXdOZWlnaGJvdXJzKSB7XG4gICAgdGhpcy5fbmVpZ2hib3VycyA9IG5ld05laWdoYm91cnM7XG4gIH1cblxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsO1xuICAgIHRoaXMuZHJhd1RleHQobmV3VmFsID8gbmV3VmFsIDogJycpO1xuICB9XG5cbiAgZHJhd0Nvb3JkaW5hdGVzKCkge1xuICAgIHRoaXMuJGlubmVyRWwuaW5uZXJUZXh0ID0gYFske3RoaXMuY29vcmRpbmF0ZXMueH06JHt0aGlzLmNvb3JkaW5hdGVzLnl9OiR7dGhpcy5jb29yZGluYXRlcy56fV1gXG4gIH1cblxuICBkcmF3VGV4dCh0ZXh0KSB7XG4gICAgdGhpcy4kaW5uZXJFbC5pbm5lclRleHQgPSB0ZXh0O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuJGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKCdoZXhhZ29uJylcbiAgICB0aGlzLiRlbC5jbGFzc0xpc3QuYWRkKCdoZXhhZ29uX291dGVyJylcbiAgICB0aGlzLiRlbC5oZXhhZ29uID0gdGhpcztcbiAgICB0aGlzLiRlbC5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cImhleGFnb24gaGV4YWdvbl9pbm5lclwiPjwvZGl2PmBcbiAgICB0aGlzLiRlbC5kYXRhc2V0LnggPSB0aGlzLmNvb3JkaW5hdGVzLng7XG4gICAgdGhpcy4kZWwuZGF0YXNldC55ID0gdGhpcy5jb29yZGluYXRlcy55O1xuICAgIHRoaXMuJGVsLmRhdGFzZXQueiA9IHRoaXMuY29vcmRpbmF0ZXMuejtcbiAgICB0aGlzLiRlbC5kYXRhc2V0LnZhbHVlID0gMDtcbiAgICB0aGlzLiRpbm5lckVsID0gdGhpcy4kZWwuY2hpbGRyZW5bMF07XG4gICAgcmV0dXJuIHRoaXMuJGVsXG4gIH1cbn1cbiIsImltcG9ydCB7SGV4YWdvbn0gZnJvbSBcIkAvSGV4YWdvblwiXG5cbmNvbnN0IERJUkVDVElPTlMgPSB7XG4gIG5vcnRoOiAnbm9ydGgnLFxuICBub3J0aEVhc3Q6ICdub3J0aC1lYXN0JyxcbiAgbm9ydGhXZXN0OiAnbm9ydGgtd2VzdCcsXG4gIHNvdXRoOiAnc291dGgnLFxuICBzb3V0aEVhc3Q6ICdzb3V0aC1lYXN0JyxcbiAgc291dGhXZXN0OiAnc291dGgtd2VzdCdcbn1cblxuZXhwb3J0IGNsYXNzIEZpZWxkIHtcbiAgY29uc3RydWN0b3IoJGVsLCBzaXplLCByYWRpdXMpIHtcbiAgICB0aGlzLiRlbCA9ICRlbDtcbiAgICB0aGlzLnJlaW5pdChzaXplLCByYWRpdXMpO1xuICB9XG5cbiAgcmVpbml0KHNpemUsIHJhZGl1cykge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy50YWJsZVNpemUgPSBzaXplICogMiAtIDE7XG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgdGhpcy50YWJsZSA9IHt9XG4gICAgdGhpcy5hbGxIZXhhZ29ucyA9IFtdO1xuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICB0aGlzLl9hZGRTdHlsZXMoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgX2JpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5fb25TZXJ2ZXJSZXNwb25zZSA9IHRoaXMuX29uU2VydmVyUmVzcG9uc2UuYmluZCh0aGlzKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlcnZlclJlc3BvbnNlJywgdGhpcy5fb25TZXJ2ZXJSZXNwb25zZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VydmVyUmVzcG9uc2UnLCB0aGlzLl9vblNlcnZlclJlc3BvbnNlKVxuICB9XG5cbiAgX29uU2VydmVyUmVzcG9uc2UoZXYpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGV2LmRldGFpbDtcblxuICAgIHJlc3BvbnNlLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjb25zdCB7eCwgeSwgen0gPSBjb252ZXJ0Q29vcmRpbmF0ZXNUb1N0cmluZ3MoY2VsbCk7XG4gICAgICB0aGlzLnRhYmxlW3hdW3ldW3pdLnZhbHVlID0gY2VsbC52YWx1ZVxuICAgICAgdGhpcy50YWJsZVt4XVt5XVt6XS4kZWwuZGF0YXNldC52YWx1ZSA9IGNlbGwudmFsdWVcbiAgICB9KTtcblxuICAgIGlmKHRoaXMuaXNHYW1lT3ZlcigpKSB7XG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChcImdhbWU6ZW5kXCIse30pO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgX2NlbGxFeGlzdCh7eCwgeSwgen0pIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdEluT2JqZWN0KHRoaXMudGFibGUsIHgpXG4gICAgICAmJiBmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XSwgeSlcbiAgICAgICYmIGZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlW3hdW3ldLCB6KVxuICB9XG5cbiAgX2FkZENlbGwoe3gsIHksIHp9KSB7XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZSwgeCkpIHtcbiAgICAgIHRoaXMudGFibGVbeF0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XSwgeSkpIHtcbiAgICAgIHRoaXMudGFibGVbeF1beV0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZVt4XVt5XSwgeikpIHtcbiAgICAgIHRoaXMudGFibGVbeF1beV1bel0gPSAnJztcbiAgICB9XG4gIH1cblxuICBfc2F2ZUNlbGwoZGF0YSwgY29vcmRpbmF0ZXMpIHtcbiAgICBsZXQge3gsIHksIHp9ID0gY29vcmRpbmF0ZXM7XG5cbiAgICBpZiAoIXRoaXMuX2NlbGxFeGlzdChjb29yZGluYXRlcykpIHtcbiAgICAgIHRoaXMuX2FkZENlbGwoY29vcmRpbmF0ZXMpXG4gICAgfVxuICAgIHRoaXMudGFibGVbeF1beV1bel0gPSBkYXRhO1xuICB9XG5cbiAgX2dldENlbGwoe3gsIHksIHp9KSB7XG4gICAgcmV0dXJuIHRoaXMudGFibGVbeF1beV1bel1cbiAgfVxuXG4gIF9maW5kTmVpZ2hib3Vycyhjb29yZGluYXRlcykge1xuICAgIGNvbnN0IHt4LCB5LCB6fSA9IGNvbnZlcnRDb29yZGluYXRlc1RvTnVtYmVycyhjb29yZGluYXRlcylcbiAgICBjb25zdCBuZWlnYm91cnNDb29yaW5hdGVzID0gW1xuICAgICAge3g6IHggKyAxLCB5OiB5IC0gMSwgeiwgZGlyZWN0aW9uOiBESVJFQ1RJT05TLnNvdXRoRWFzdH0sXG4gICAgICB7eDogeCAtIDEsIHk6IHkgKyAxLCB6LCBkaXJlY3Rpb246IERJUkVDVElPTlMubm9ydGhXZXN0fSxcbiAgICAgIHt4LCB5OiB5ICsgMSwgejogeiAtIDEsIGRpcmVjdGlvbjogRElSRUNUSU9OUy5ub3J0aH0sXG4gICAgICB7eCwgeTogeSAtIDEsIHo6IHogKyAxLCBkaXJlY3Rpb246IERJUkVDVElPTlMuc291dGh9LFxuICAgICAge3g6IHggKyAxLCB5LCB6OiB6IC0gMSwgZGlyZWN0aW9uOiBESVJFQ1RJT05TLm5vcnRoRWFzdH0sXG4gICAgICB7eDogeCAtIDEsIHksIHo6IHogKyAxLCBkaXJlY3Rpb246IERJUkVDVElPTlMuc291dGhXZXN0fVxuICAgIF07XG5cbiAgICByZXR1cm4gbmVpZ2JvdXJzQ29vcmluYXRlc1xuICAgICAgLmZpbHRlcih0aGlzLl9jZWxsRXhpc3QuYmluZCh0aGlzKSlcbiAgICAgIC5yZWR1Y2UoKGFjYywgY29vcmRzKSA9PiB7XG4gICAgICAgIGFjY1tjb29yZHMuZGlyZWN0aW9uXSA9IHRoaXMuX2dldENlbGwoY29vcmRzKTtcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG4gIH1cblxuICBfdXBkYXRlTmVpZ2hib3Vycyhjb29yZGluYXRlcykge1xuICAgIHRoaXMuX2dldENlbGwoY29vcmRpbmF0ZXMpLm5laWdoYm91cnMgPSB0aGlzLl9maW5kTmVpZ2hib3Vycyhjb29yZGluYXRlcylcbiAgfVxuXG4gIF9jYWxjSGV4U2l6ZXMoKSB7XG4gICAgdGhpcy5pbm5lclJhZGl1cyA9IE1hdGguc3FydCgzKSAvIDIgKiB0aGlzLnJhZGl1cztcbiAgICByZXR1cm4ge1xuICAgICAgdGFsbGVyU2l6ZTogdGhpcy5yYWRpdXMsXG4gICAgICB3aWRlclNpemU6IDIgKiB0aGlzLmlubmVyUmFkaXVzLFxuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDb2x1bW5UZW1wbGF0ZShjb3VudCwgY29sdW1uSW5kZXgpIHtcbiAgICBjb25zdCBnZXRaQ29vcmRpbmF0ZSA9IChpbmRleEluQ29sdW1uKSA9PiB7XG4gICAgICByZXR1cm4gY29sdW1uSW5kZXggPiAwXG4gICAgICAgID8gaW5kZXhJbkNvbHVtbiAtIHRoaXMuc2l6ZSArIDFcbiAgICAgICAgOiBpbmRleEluQ29sdW1uIC0gY29sdW1uSW5kZXggLSB0aGlzLnNpemUgKyAxXG4gICAgfVxuICAgIGNvbnN0IGdldFlDb29yZGluYXRlID0gKGluZGV4SW5Db2x1bW4pID0+IHtcbiAgICAgIHJldHVybiAtY29sdW1uSW5kZXggLSBnZXRaQ29vcmRpbmF0ZShpbmRleEluQ29sdW1uKVxuICAgIH1cblxuICAgIGNvbnN0IHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuICAgIGNvbnN0ICRjb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICRjb2x1bW4uY2xhc3NMaXN0LmFkZCgnZmllbGRfX2NvbHVtbicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB7eDogY29sdW1uSW5kZXgsIHk6IGdldFlDb29yZGluYXRlKGkpLCB6OiBnZXRaQ29vcmRpbmF0ZShpKX07XG4gICAgICBjb25zdCBoZXhDZWxsID0gbmV3IEhleGFnb24oe3JhZGl1cywgY29vcmRpbmF0ZXN9KVxuXG4gICAgICAkY29sdW1uLmFwcGVuZChoZXhDZWxsLnJlbmRlcigpKTtcbiAgICAgIHRoaXMuX3NhdmVDZWxsKGhleENlbGwsIGNvb3JkaW5hdGVzKVxuICAgICAgdGhpcy5hbGxIZXhhZ29ucy5wdXNoKGhleENlbGwpO1xuICAgIH1cblxuICAgIHJldHVybiAkY29sdW1uXG4gIH1cblxuICBfYWRkU3R5bGVzKCkge1xuICAgIGNvbnN0IGV4aXN0U3R5bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQtc3R5bGVzJyk7XG4gICAgY29uc3QgaGV4U2l6ZXMgPSB0aGlzLl9jYWxjSGV4U2l6ZXMoKTtcbiAgICBjb25zdCBzdHlsZSA9IGAuZmllbGRfX2NvbHVtbiB7bWFyZ2luLWxlZnQ6ICR7dGhpcy5yYWRpdXMgLyAyfXB4O30uaGV4YWdvbl9vdXRlciB7d2lkdGg6ICR7aGV4U2l6ZXMudGFsbGVyU2l6ZX1weDtoZWlnaHQ6ICR7aGV4U2l6ZXMud2lkZXJTaXplfXB4O31gXG5cbiAgICBpZiAoZXhpc3RTdHlsZSkge1xuICAgICAgZXhpc3RTdHlsZS5pbm5lclRleHQgPSBzdHlsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpXG4gICAgICBuZXdTdHlsZS5pZCA9ICdmaWVsZC1zdHlsZXMnO1xuICAgICAgbmV3U3R5bGUuaW5uZXJUZXh0ID0gc3R5bGU7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChuZXdTdHlsZSk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZVNpemU7IGkrKykge1xuICAgICAgY29uc3QgY2FsY3VsYXRlZENvdW50ID0gdGhpcy50YWJsZVNpemUgLSBNYXRoLmFicyh0aGlzLnNpemUgLSAxIC0gaSk7XG4gICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy5fY3JlYXRlQ29sdW1uVGVtcGxhdGUoY2FsY3VsYXRlZENvdW50LCBpIC0gdGhpcy5zaXplICsgMSkpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUFsbE5laWdoYm91cnMoKSB7XG4gICAgZm9yIChsZXQgeCBpbiB0aGlzLnRhYmxlKSB7XG4gICAgICBjb25zdCBsaXN0WCA9IHRoaXMudGFibGVbeF07XG4gICAgICBmb3IgKGxldCB5IGluIGxpc3RYKSB7XG4gICAgICAgIGNvbnN0IGxpc3RZID0gbGlzdFhbeV07XG4gICAgICAgIGZvciAobGV0IHogaW4gbGlzdFkpIHtcbiAgICAgICAgICB0aGlzLl91cGRhdGVOZWlnaGJvdXJzKHt4LCB5LCB6fSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pIHtcbiAgICBjb25zdCBjb3JuZXIgPSB0aGlzLnNpemUgLSAxO1xuICAgIGNvbnN0IHNvdXJjZXMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IHtcbiAgICAgICAgeDogY29ybmVyLFxuICAgICAgICB5OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ25vcnRoJzoge1xuICAgICAgICB6OiBjb3JuZXIsXG4gICAgICAgIHk6IC1jb3JuZXJcbiAgICAgIH0sXG4gICAgICAnbm9ydGgtZWFzdCc6IHtcbiAgICAgICAgeDogLWNvcm5lcixcbiAgICAgICAgejogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLXdlc3QnOiB7XG4gICAgICAgIHg6IGNvcm5lcixcbiAgICAgICAgejogLWNvcm5lclxuICAgICAgfSxcbiAgICAgICdzb3V0aCc6IHtcbiAgICAgICAgeTogY29ybmVyLFxuICAgICAgICB6OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLWVhc3QnOiB7XG4gICAgICAgIHg6IC1jb3JuZXIsXG4gICAgICAgIHk6IGNvcm5lclxuICAgICAgfSxcbiAgICB9XG4gICAgY29uc3QgY29ybmVyRGF0YSA9IHNvdXJjZXNbZGlyZWN0aW9uXVxuXG4gICAgcmV0dXJuIHRoaXMuYWxsSGV4YWdvbnMuZmlsdGVyKGNlbGwgPT4ge1xuICAgICAgY29uc3QgY29vcmRzID0gY2VsbC5jb29yZGluYXRlcztcbiAgICAgIGNvbnN0IHt4LCB5LCB6fSA9IGNvcm5lckRhdGE7XG5cbiAgICAgIGlmICh4ICYmIGNvb3Jkcy54ID09PSB4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHkgJiYgY29vcmRzLnkgPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4geiAmJiBjb29yZHMueiA9PT0gejtcbiAgICB9KVxuICB9XG5cbiAgX2dldE1vdmVtZW50RGVzdGluYXRpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3QgY29ybmVyID0gdGhpcy5zaXplIC0gMTtcbiAgICBjb25zdCBkZXN0aW5hdGlvbnMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IHtcbiAgICAgICAgeDogLWNvcm5lcixcbiAgICAgICAgeTogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ25vcnRoJzoge1xuICAgICAgICB6OiAtY29ybmVyLFxuICAgICAgICB5OiBjb3JuZXJcbiAgICAgIH0sXG4gICAgICAnbm9ydGgtZWFzdCc6IHtcbiAgICAgICAgeDogY29ybmVyLFxuICAgICAgICB6OiAtY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLXdlc3QnOiB7XG4gICAgICAgIHg6IC1jb3JuZXIsXG4gICAgICAgIHo6IGNvcm5lclxuICAgICAgfSxcbiAgICAgICdzb3V0aCc6IHtcbiAgICAgICAgeTogLWNvcm5lcixcbiAgICAgICAgejogY29ybmVyXG4gICAgICB9LFxuICAgICAgJ3NvdXRoLWVhc3QnOiB7XG4gICAgICAgIHg6IGNvcm5lcixcbiAgICAgICAgeTogLWNvcm5lclxuICAgICAgfSxcbiAgICB9XG4gICAgY29uc3QgY29ybmVyRGF0YSA9IGRlc3RpbmF0aW9uc1tkaXJlY3Rpb25dXG5cbiAgICByZXR1cm4gdGhpcy5hbGxIZXhhZ29ucy5maWx0ZXIoY2VsbCA9PiB7XG4gICAgICBjb25zdCBjb29yZHMgPSBjZWxsLmNvb3JkaW5hdGVzO1xuICAgICAgY29uc3Qge3gsIHksIHp9ID0gY29ybmVyRGF0YTtcblxuICAgICAgaWYgKHggJiYgY29vcmRzLnggPT09IHgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoeSAmJiBjb29yZHMueSA9PT0geSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB6ICYmIGNvb3Jkcy56ID09PSB6O1xuICAgIH0pXG4gIH1cblxuICBfZ2V0T3Bwb3NpemVEaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgb3Bwb3Npeml0ZURpcmVjdGlvbnMgPSB7XG4gICAgICAnbm9ydGgtd2VzdCc6IERJUkVDVElPTlMuc291dGhFYXN0LFxuICAgICAgJ25vcnRoJzogRElSRUNUSU9OUy5zb3V0aCxcbiAgICAgICdub3J0aC1lYXN0JzogRElSRUNUSU9OUy5zb3V0aFdlc3QsXG4gICAgICAnc291dGgtd2VzdCc6IERJUkVDVElPTlMubm9ydGhFYXN0LFxuICAgICAgJ3NvdXRoJzogRElSRUNUSU9OUy5ub3J0aCxcbiAgICAgICdzb3V0aC1lYXN0JzogRElSRUNUSU9OUy5ub3J0aFdlc3QsXG4gICAgfVxuXG4gICAgcmV0dXJuIG9wcG9zaXppdGVEaXJlY3Rpb25zW2RpcmVjdGlvbl1cbiAgfVxuXG4gIG1ha2VTdGVwKGRpcmVjdGlvbikge1xuICAgIGlmKHRoaXMuaXNNb3ZpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pXG4gICAgbGV0IGlzTW92ZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5hbGxIZXhhZ29ucy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY2VsbC5vbGRWYWx1ZSA9IGNlbGwudmFsdWU7XG4gICAgfSlcblxuICAgIHNvdXJjZXMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGxldCBjdXJyZW50Q2VsbCA9IGNlbGw7XG4gICAgICBsZXQgbmV4dENlbGwgPSBjdXJyZW50Q2VsbC5uZWlnaGJvdXJzW2RpcmVjdGlvbl07XG5cbiAgICAgIHdoaWxlIChjdXJyZW50Q2VsbCkge1xuICAgICAgICBuZXh0Q2VsbCA9IGN1cnJlbnRDZWxsLm5laWdoYm91cnNbZGlyZWN0aW9uXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjdXJyZW50Q2VsbC52YWx1ZTtcbiAgICAgICAgY29uc3QgbnVtYmVyc1RvVXNlID0gY3VycmVudENlbGwubnVtYmVyc1RvVXNlO1xuXG4gICAgICAgIGlmICghdmFsdWUgJiYgIW51bWJlcnNUb1VzZS5sZW5ndGgpIHtcbiAgICAgICAgICBjdXJyZW50Q2VsbCA9IG5leHRDZWxsXG4gICAgICAgICAgaWYgKCFjdXJyZW50Q2VsbCkge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0Q2VsbCkge1xuICAgICAgICAgIG5leHRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKC4uLm51bWJlcnNUb1VzZSlcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIG5leHRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudENlbGwubnVtYmVyc1RvVXNlID0gW107XG4gICAgICAgICAgY3VycmVudENlbGwudmFsdWUgPSAwO1xuICAgICAgICAgIGN1cnJlbnRDZWxsLiRlbC5kYXRhc2V0LnZhbHVlID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRDZWxsLm51bWJlcnNUb1VzZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudENlbGwgPSBuZXh0Q2VsbDtcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgZGVzdGluYXRpb25zID0gdGhpcy5fZ2V0TW92ZW1lbnREZXN0aW5hdGlvbihkaXJlY3Rpb24pXG4gICAgZGVzdGluYXRpb25zLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBpZiAoIWNlbGwubnVtYmVyc1RvVXNlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFyckZvckxvZ2ljID0gY2VsbC5udW1iZXJzVG9Vc2UucmV2ZXJzZSgpO1xuICAgICAgY29uc3QgY2FsY3VsYXRlZCA9IGFyckZvckxvZ2ljLnJlZHVjZSgoYWNjLCBudW1iZXIpID0+IHtcbiAgICAgICAgaWYgKGFjY1thY2MubGVuZ3RoIC0gMV0gJiYgIWFjY1thY2MubGVuZ3RoIC0gMV0uc3VtbWVkICYmIGFjY1thY2MubGVuZ3RoIC0gMV0ubnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgICBhY2NbYWNjLmxlbmd0aCAtIDFdLm51bWJlciA9IG51bWJlciAqIDI7XG4gICAgICAgICAgYWNjW2FjYy5sZW5ndGggLSAxXS5zdW1tZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjYy5wdXNoKHtcbiAgICAgICAgICAgIG51bWJlcixcbiAgICAgICAgICAgIHN1bW1lZDogZmFsc2VcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LCBbXSlcbiAgICAgICAgLm1hcChlbGVtID0+IGVsZW0ubnVtYmVyKVxuXG4gICAgICBjZWxsLm51bWJlcnNUb1VzZSA9IFtdO1xuICAgICAgY2VsbC5jYWxjdWF0ZWRSb3cgPSBjYWxjdWxhdGVkO1xuXG4gICAgICBjb25zdCBvcHBEaXJlY3Rpb24gPSB0aGlzLl9nZXRPcHBvc2l6ZURpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgY2VsbC5jYWxjdWF0ZWRSb3cuZm9yRWFjaCgobnVtYmVyLCBpKSA9PiB7XG4gICAgICAgIGxldCBjZWxsVG9VcGRhdGUgPSBjZWxsO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaTsgaisrKSB7XG4gICAgICAgICAgY2VsbFRvVXBkYXRlID0gY2VsbFRvVXBkYXRlLm5laWdoYm91cnNbb3BwRGlyZWN0aW9uXVxuICAgICAgICB9XG5cbiAgICAgICAgLy90b2RvOiBwb3NzaWJsZSBidWchIHNvbWV0aW1lcyBjZWxsVG9VcGRhdGUgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmKCFjZWxsVG9VcGRhdGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNlbGxUb1VwZGF0ZS52YWx1ZSA9IG51bWJlcjtcbiAgICAgICAgY2VsbFRvVXBkYXRlLiRlbC5kYXRhc2V0LnZhbHVlID0gbnVtYmVyO1xuICAgICAgfSlcbiAgICAgIGNlbGwuY2FsY3VhdGVkUm93ID0gW107XG4gICAgfSlcblxuICAgIHRoaXMuYWxsSGV4YWdvbnMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGlmKGNlbGwub2xkVmFsdWUgIT09IGNlbGwudmFsdWUpIHtcbiAgICAgICAgaXNNb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSlcblxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gaXNNb3ZlZFxuICB9XG5cbiAgaXNHYW1lT3ZlcigpIHtcbiAgICBjb25zdCBkaXJlY3Rpb25zVG9DaGVjayA9IFtcbiAgICAgIERJUkVDVElPTlMubm9ydGhXZXN0LFxuICAgICAgRElSRUNUSU9OUy5ub3J0aCxcbiAgICAgIERJUkVDVElPTlMubm9ydGhFYXN0XG4gICAgXVxuXG4gICAgbGV0IGlzT3ZlciA9IHRydWVcblxuICAgIGRpcmVjdGlvbnNUb0NoZWNrLmZvckVhY2goZGlyZWN0aW9uID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZXMgPSB0aGlzLl9nZXRNb3ZlbWVudFNvdXJjZShkaXJlY3Rpb24pO1xuICAgICAgbGV0IG9sZENlbGwgPSAnJztcbiAgICAgIHNvdXJjZXMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRWYWx1ZSA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50Q2VsbCA9IGNlbGw7XG4gICAgICAgIGxldCBuZWVkVG9TdG9wR29pbmdOZWlnaGJvdXJzID0gZmFsc2U7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpZihjdXJyZW50VmFsdWUgPT09IGN1cnJlbnRDZWxsLnZhbHVlKSB7XG4gICAgICAgICAgICBpc092ZXIgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoY3VycmVudENlbGwudmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIGlzT3ZlciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50VmFsdWUgPSBjdXJyZW50Q2VsbC52YWx1ZTtcblxuICAgICAgICAgIGlmKCFjdXJyZW50Q2VsbC5uZWlnaGJvdXJzW2RpcmVjdGlvbl0pIHtcbiAgICAgICAgICAgIG5lZWRUb1N0b3BHb2luZ05laWdoYm91cnMgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG9sZENlbGwgPSBjdXJyZW50Q2VsbDtcbiAgICAgICAgICBjdXJyZW50Q2VsbCA9IGN1cnJlbnRDZWxsLm5laWdoYm91cnNbZGlyZWN0aW9uXVxuICAgICAgICB9IHdoaWxlICghbmVlZFRvU3RvcEdvaW5nTmVpZ2hib3VycylcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBpc092ZXJcbiAgfVxuXG4gIGdldCBkYXRhVG9TZW5kKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmFsbEhleGFnb25zXG4gICAgICAuZmlsdGVyKGNlbGwgPT4gY2VsbC52YWx1ZSlcbiAgICAgIC5tYXAoY2VsbCA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogY2VsbC5jb29yZGluYXRlcy54LFxuICAgICAgICAgIHk6IGNlbGwuY29vcmRpbmF0ZXMueSxcbiAgICAgICAgICB6OiBjZWxsLmNvb3JkaW5hdGVzLnosXG4gICAgICAgICAgdmFsdWU6IGNlbGwudmFsdWVcbiAgICAgICAgfVxuXG4gICAgICB9KVxuICAgIClcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0SW5PYmplY3Qob2JqLCBmaWVsZCkge1xuICByZXR1cm4gISFvYmpbZmllbGRdO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q29vcmRpbmF0ZXNUb051bWJlcnMoY29vcmRpbmF0ZXMpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBOdW1iZXIoY29vcmRpbmF0ZXMueCksXG4gICAgeTogTnVtYmVyKGNvb3JkaW5hdGVzLnkpLFxuICAgIHo6IE51bWJlcihjb29yZGluYXRlcy56KVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRDb29yZGluYXRlc1RvU3RyaW5ncyhjb29yZGluYXRlcykge1xuICByZXR1cm4ge1xuICAgIHg6IFN0cmluZyhjb29yZGluYXRlcy54KSxcbiAgICB5OiBTdHJpbmcoY29vcmRpbmF0ZXMueSksXG4gICAgejogU3RyaW5nKGNvb3JkaW5hdGVzLnopXG4gIH1cbn1cbiIsImltcG9ydCAnLi9zdHlsZXMubGVzcydcbmltcG9ydCB7RmllbGR9IGZyb20gJ0AvRmllbGQnXG5pbXBvcnQge0tleWJvYXJkfSBmcm9tICAnQC9LZXlib2FyZCc7XG5pbXBvcnQge1NlcnZlcn0gZnJvbSBcIkAvU2VydmVyXCJcblxuY29uc3QgZmllbGRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpZWxkJylcbmxldCBzZXJ2ZXJVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXJsLXNlcnZlcicpLnZhbHVlO1xubGV0IGZpZWxkID0ge307XG5jb25zdCBrZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpO1xubGV0IGNlbGxDb3VudCA9IDA7XG5jb25zdCAkcmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnQtcmFuZ2UnKVxuY29uc3QgJGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1jb3VudC1idXR0b25dJylcbmNvbnN0ICRzdGF0dXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zdGF0dXNdJylcblxuaWYod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgc3dpdGNoKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgY2FzZSAnI3Rlc3QyJzoge1xuICAgICAgY2VsbENvdW50ID0gMjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlICcjdGVzdDMnOiB7XG4gICAgICBjZWxsQ291bnQgPSAzO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgJyN0ZXN0NCc6IHtcbiAgICAgIGNlbGxDb3VudCA9IDQ7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn0gZWxzZSB7XG4gIGNlbGxDb3VudCA9IDI7XG59XG5cbiRyYW5nZS52YWx1ZSA9IGNlbGxDb3VudDtcbmZpZWxkID0gbmV3IEZpZWxkKGZpZWxkRWxlbWVudCwgY2VsbENvdW50LCBjYWxjQ2VsbFNpemUoY2VsbENvdW50KSlcblxuY29uc3Qgc2VydmVyID0gbmV3IFNlcnZlcihzZXJ2ZXJVcmwsIGNlbGxDb3VudCk7XG5cblxua2V5Ym9hcmQub25LZXlEb3duKCdLZXlRJywgKCkgPT4ge2ZpZWxkLm1ha2VTdGVwKCdub3J0aC13ZXN0JykgJiYgc2VydmVyLmdldERhdGEoZmllbGQuZGF0YVRvU2VuZCk7fSlcbmtleWJvYXJkLm9uS2V5RG93bignS2V5VycsICgpID0+IHtmaWVsZC5tYWtlU3RlcCgnbm9ydGgnKSYmIHNlcnZlci5nZXREYXRhKGZpZWxkLmRhdGFUb1NlbmQpfSlcbmtleWJvYXJkLm9uS2V5RG93bignS2V5RScsICgpID0+IHtmaWVsZC5tYWtlU3RlcCgnbm9ydGgtZWFzdCcpICYmIHNlcnZlci5nZXREYXRhKGZpZWxkLmRhdGFUb1NlbmQpfSlcbmtleWJvYXJkLm9uS2V5RG93bignS2V5QScsICgpID0+IHtmaWVsZC5tYWtlU3RlcCgnc291dGgtd2VzdCcpICYmIHNlcnZlci5nZXREYXRhKGZpZWxkLmRhdGFUb1NlbmQpfSlcbmtleWJvYXJkLm9uS2V5RG93bignS2V5UycsICgpID0+IHtmaWVsZC5tYWtlU3RlcCgnc291dGgnKSAmJiBzZXJ2ZXIuZ2V0RGF0YShmaWVsZC5kYXRhVG9TZW5kKX0pXG5rZXlib2FyZC5vbktleURvd24oJ0tleUQnLCAoKSA9PiB7ZmllbGQubWFrZVN0ZXAoJ3NvdXRoLWVhc3QnKSAmJiBzZXJ2ZXIuZ2V0RGF0YShmaWVsZC5kYXRhVG9TZW5kKX0pXG5cbi8vZm9yIHRlc3RzIGNvcnJlY3QgbGF1bmNoXG5zZXRUaW1lb3V0KCgpID0+IHtzZXJ2ZXIuZ2V0RGF0YSgpfSwgMjAwKTtcbmZpZWxkLnVwZGF0ZUFsbE5laWdoYm91cnMoKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2FtZTplbmQnLCAoKSA9PiB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXN0YXR1c10nKS5kYXRhc2V0WydzdGF0dXMnXSA9ICdnYW1lLW92ZXInO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zdGF0dXNdJykuaW5uZXJUZXh0ID0gJ2dhbWUtb3Zlcic7XG59KVxuXG5kb2N1bWVudFxuICAuZ2V0RWxlbWVudEJ5SWQoJ3VybC1zZXJ2ZXInKVxuICAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2KSA9PiB7XG4gICAgc2VydmVyLnNldFVybChldi50YXJnZXQudmFsdWUpO1xuICB9KVxuXG5cbmZ1bmN0aW9uIGdsb2JhbFJlaW5pdChjb3VudCkge1xuICBmaWVsZC5yZWluaXQoY291bnQsIGNhbGNDZWxsU2l6ZShjb3VudCkpXG4gIGZpZWxkLnVwZGF0ZUFsbE5laWdoYm91cnMoKTtcbiAgc2VydmVyLnNldEZpZWxkU2l6ZShjb3VudCk7XG4gIHNlcnZlci5nZXREYXRhKCk7XG4gICRzdGF0dXMuZGF0YXNldFsnc3RhdHVzJ10gPSAncGxheWluZyc7XG4gICRzdGF0dXMuaW5uZXJUZXh0ID0gJ3BsYXlpbmcnO1xufVxuXG5mdW5jdGlvbiBjYWxjQ2VsbFNpemUoY291bnQpIHtcbiAgY29uc3QgbWF4RmllbGRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIGNvbnN0IG1heENlbGxoZWlnaHQgPSAxMDA7XG4gIGNvbnN0IHJlYWxDb3VudCA9IGNvdW50ICogMiAtIDFcblxuICByZXR1cm4gTWF0aC5taW4obWF4Q2VsbGhlaWdodCwgbWF4RmllbGRIZWlnaHQvcmVhbENvdW50LzIpXG59XG5cbiRyYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChldikgPT4ge1xuICBsZXQgY291bnQgPSBldi50YXJnZXQudmFsdWU7XG4gIGdsb2JhbFJlaW5pdChjb3VudClcbn0pXG5cbiRidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB7XG4gICAgY29uc3QgY291bnQgPSBldi50YXJnZXQuZGF0YXNldC5jb3VudEJ1dHRvbjtcbiAgICBnbG9iYWxSZWluaXQoY291bnQpO1xuICAgICRyYW5nZS52YWx1ZSA9IGNvdW50O1xuICB9KVxufSlcbiIsImV4cG9ydCBjbGFzcyBLZXlib2FyZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duVGFza01hbmFnZXIuYmluZCh0aGlzKSlcbiAgfVxuXG4gIG9uS2V5RG93blRhc2tNYW5hZ2VyKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudC5jb2RlXSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5ldmVudHNbZXZlbnQuY29kZV0oKVxuICB9XG5cbiAgb25LZXlEb3duKGNvZGUsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5ldmVudHNbY29kZV0gPSBjYWxsYmFja1xuICB9XG5cbiAgb2ZmS2V5RG93bihjb2RlKSB7XG4gICAgdGhpcy5ldmVudHNbY29kZV0gPSAnJztcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKHVybCwgZmllbGRTaXplKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5maWVsZFNpemUgPSBmaWVsZFNpemU7XG4gIH1cblxuICBfb25SZXNwb25jZShyZXNwb25zZSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwic2VydmVyUmVzcG9uc2VcIiwge1xuICAgICAgZGV0YWlsOiByZXNwb25zZVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgZ2V0RGF0YShib2R5PSdbXScpIHtcbiAgICBmZXRjaChgJHt0aGlzLnVybH0vJHt0aGlzLmZpZWxkU2l6ZX1gLCB7XG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGJvZHlcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbih0aGlzLl9vblJlc3BvbmNlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgc2V0VXJsKG5ld1VybCkge1xuICAgIHRoaXMudXJsID0gbmV3VXJsO1xuICB9XG5cbiAgc2V0RmllbGRTaXplKG5ld0ZpZWxkU2l6ZSkge1xuICAgIHRoaXMuZmllbGRTaXplID0gbmV3RmllbGRTaXplO1xuICB9XG59XG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==