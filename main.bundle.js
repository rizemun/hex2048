(()=>{"use strict";var e={348:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(15),o=t.n(r),i=t(645),s=t.n(i)()(o());s.push([e.id,"body {\n  margin: 0;\n  padding: 0;\n  background-color: #80cbc4;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.hexagon {\n  position: relative;\n}\n.hexagon::before,\n.hexagon::after {\n  content: '';\n  position: absolute;\n  right: 100%;\n  top: 50%;\n  width: 50%;\n  height: 0;\n  z-index: -1;\n  padding-bottom: 50%;\n  background-color: inherit;\n}\n.hexagon::before {\n  right: 100%;\n  transform: translate(50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon::after {\n  left: 100%;\n  transform: translate(-50%, -50%) scale(1.42, 2.45) rotate(45deg);\n}\n.hexagon_outer {\n  background: #00675b;\n}\n.hexagon_outer:hover {\n  background-color: #64d8cb;\n}\n.hexagon_inner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transform: translate(-50%, -50%) scale(0.95);\n  background-color: #009688;\n  z-index: 2;\n  pointer-events: none;\n  font-family: 'Roboto', Arial, sans-serif;\n  font-size: 26px;\n}\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.field__column {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n","",{version:3,sources:["webpack://./src/styles.less"],names:[],mappings:"AAEA;EACE,SAAA;EACA,UAAA;EACA,yBAAA;EACA,aAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AADF;AAIA;EACE,kBAAA;AAFF;AAIE;;EAEE,WAAA;EACA,kBAAA;EACA,WAAA;EACA,QAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,mBAAA;EACA,yBAAA;AAFJ;AAKE;EACE,WAAA;EACA,+DAAA;AAHJ;AAME;EACE,UAAA;EACA,gEAAA;AAJJ;AAOE;EACE,mBAAA;AALJ;AAOI;EACE,yBAAA;AALN;AASE;EACE,kBAAA;EACA,SAAA;EACA,QAAA;EACA,WAAA;EACA,YAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,4CAAA;EACA,yBAAA;EACA,UAAA;EACA,oBAAA;EACA,wCAAA;EACA,eAAA;AAPJ;AAWA;EACE,kBAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;AATF;AAWE;EACE,YAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;AATJ",sourcesContent:["@bgColor: #80cbc4;\n\nbody {\n  margin: 0;\n  padding: 0;\n  background-color: @bgColor;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.hexagon {\n  position: relative;\n\n  &::before,\n  &::after {\n    content: '';\n    position: absolute;\n    right: 100%;\n    top: 50%;\n    width: 50%;\n    height: 0;\n    z-index: -1;\n    padding-bottom: 50%;\n    background-color: inherit;\n  }\n\n  &::before {\n    right: 100%;\n    transform: translate(50%,-50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &::after {\n    left: 100%;\n    transform: translate(-50%,-50%) scale(1.42, 2.45) rotate(45deg);\n  }\n\n  &_outer {\n    background: #00675b;\n\n    &:hover {\n      background-color: #64d8cb;\n    }\n  }\n\n  &_inner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transform: translate(-50%, -50%) scale(.95);\n    background-color: #009688;\n    z-index: 2;\n    pointer-events: none;\n    font-family: 'Roboto', Arial, sans-serif;\n    font-size: 26px;\n  }\n}\n\n.field {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &__column {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n}\n"],sourceRoot:""}]);const a=s},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);r&&o[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},15:e=>{function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}e.exports=function(e){var t,r,o=(r=4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}}(t,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],s=o[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),l="/*# ".concat(c," */"),A=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(A).concat([l]).join("\n")}return[i].join("\n")}},379:(e,n,t)=>{var r,o=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function s(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function a(e,n){for(var t={},r=[],o=0;o<e.length;o++){var a=e[o],c=n.base?a[0]+n.base:a[0],l=t[c]||0,A="".concat(c," ").concat(l);t[c]=l+1;var d=s(A),u={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(i[d].references++,i[d].updater(u)):i.push({identifier:A,updater:p(u,n),references:1}),r.push(A)}return r}function c(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=t.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var l,A=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function d(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=A(n,o);else{var i=document.createTextNode(o),s=e.childNodes;s[n]&&e.removeChild(s[n]),s.length?e.insertBefore(i,s[n]):e.appendChild(i)}}function u(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,f=0;function p(e,n){var t,r,o;if(n.singleton){var i=f++;t=h||(h=c(n)),r=d.bind(null,t,i,!1),o=d.bind(null,t,i,!0)}else t=c(n),r=u.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=a(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=s(t[r]);i[o].references--}for(var c=a(e,n),l=0;l<t.length;l++){var A=s(t[l]);0===i[A].references&&(i[A].updater(),i.splice(A,1))}t=c}}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=t(379),n=t.n(e),r=t(348);n()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;class o{constructor({radius:e,coordinates:n}){this.radius=e,this.coordinates=n,this._neighbours={}}get neighbours(){return this._neighbours}set neighbours(e){this._neighbours=e}drawCoordinates(){this.$innerEl.innerText=`[${this.coordinates.x}:${this.coordinates.y}:${this.coordinates.z}]`}drawText(e){this.$innerEl.innerText=e}render(){return this.$el=document.createElement("div"),this.$el.classList.add("hexagon"),this.$el.classList.add("hexagon_outer"),this.$el.innerHTML='<div class="hexagon hexagon_inner"></div>',this.$innerEl=this.$el.children[0],this.$el}}function i(e,n){return!!e[n]}const s=document.getElementById("field"),a=new class{constructor(e,n,t){this.$el=e,this.size=n,this.tableSize=2*n-1,this.radius=t,this.table={},this._bindEvents(),this._addStyles()}_bindEvents(){this._onServerResponse=this._onServerResponse.bind(this),document.removeEventListener("serverResponse",this._onServerResponse),document.addEventListener("serverResponse",this._onServerResponse)}_onServerResponse(e){e.detail.forEach((e=>{const{x:n,y:t,z:r}=(o=e,{x:String(o.x),y:String(o.y),z:String(o.z)});var o;this.table[n][t][r].drawText(e.value)}))}_cellExist({x:e,y:n,z:t}){return i(this.table,e)&&i(this.table[e],n)&&i(this.table[e][n],t)}_addCell({x:e,y:n,z:t}){i(this.table,e)||(this.table[e]={}),i(this.table[e],n)||(this.table[e][n]={}),i(this.table[e][n],t)||(this.table[e][n][t]="")}_saveCell(e,n){let{x:t,y:r,z:o}=n;this._cellExist(n)||this._addCell(n),this.table[t][r][o]=e}_getCell({x:e,y:n,z:t}){return this.table[e][n][t]}_findNeighbours(e){const{x:n,y:t,z:r}=function(e){return{x:Number(e.x),y:Number(e.y),z:Number(e.z)}}(e);return[{x:n+1,y:t-1,z:r,direction:"south-east"},{x:n-1,y:t+1,z:r,direction:"north-west"},{x:n,y:t+1,z:r-1,direction:"north"},{x:n,y:t-1,z:r+1,direction:"south"},{x:n+1,y:t,z:r-1,direction:"north-east"},{x:n-1,y:t,z:r+1,direction:"south-west"}].filter(this._cellExist.bind(this)).map((e=>({cell:this._getCell(e),direction:e.direction})))}_updateNeighbours(e){this._getCell(e).neighbours=this._findNeighbours(e)}_calcHexSizes(){return this.innerRadius=Math.sqrt(3)/2*this.radius,{tallerSize:this.radius,widerSize:2*this.innerRadius}}_createColumnTemplate(e,n){const t=e=>n>0?e-this.size+1:e-n-this.size+1,r=this.radius,i=document.createElement("div");i.classList.add("field__column");for(let a=0;a<e;a++){const e={x:n,y:(s=a,-n-t(s)),z:t(a)},c=new o({radius:r,coordinates:e});i.append(c.render()),this._saveCell(c,e)}var s;return i}_addStyles(){const e=document.getElementById("field-styles"),n=this._calcHexSizes(),t=`.field__column {margin-left: ${this.radius/2}px;}.hexagon_outer {width: ${n.tallerSize}px;height: ${n.widerSize}px;}`;if(e)e.innerText=t;else{const e=document.createElement("style");e.id="field-styles",e.innerText=t,document.head.append(e)}}render(){for(let e=0;e<this.tableSize;e++){const n=this.tableSize-Math.abs(this.size-1-e);this.$el.append(this._createColumnTemplate(n,e-this.size+1))}}updateAllNeighbours(){for(let e in this.table){const n=this.table[e];for(let t in n){const r=n[t];for(let n in r)this._updateNeighbours({x:e,y:t,z:n})}}}}(s,4,50),c=new class{constructor(){this.events={},document.addEventListener("keydown",this.onKeyDownTaskManager.bind(this))}onKeyDownTaskManager(e){this.events[e.code]&&this.events[e.code]()}onKeyDown(e,n){this.events[e]=n}offKeyDown(e){this.events[e]=""}},l=new class{constructor(e){this.url=e}_onResponce(e){const n=new CustomEvent("serverResponse",{detail:e});document.dispatchEvent(n)}getData(e="[]"){fetch(this.url,{method:"post",body:e}).then((e=>e.json())).then(this._onResponce.bind(this))}}("https://68f02c80-3bed-4e10-a747-4ff774ae905a.pub.instances.scw.cloud/2");c.onKeyDown("KeyQ",(()=>console.log("key Q pressed"))),c.onKeyDown("KeyW",(()=>console.log("key W pressed"))),c.onKeyDown("KeyE",(()=>console.log("key E pressed"))),l.getData(),a.render(),a.updateAllNeighbours(),console.log(a.table)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL3N0eWxlcy5sZXNzIiwid2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2hleDIwNDgvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vaGV4MjA0OC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9oZXgyMDQ4L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaGV4MjA0OC8uL3NyYy9zdHlsZXMubGVzcz9kYzg1Iiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9IZXhhZ29uLmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9GaWVsZC5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2hleDIwNDgvLi9zcmMvY29tcG9uZW50cy9LZXlib2FyZC5qcyIsIndlYnBhY2s6Ly9oZXgyMDQ4Ly4vc3JjL2NvbXBvbmVudHMvU2VydmVyLmpzIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJIZXhhZ29uIiwicmFkaXVzIiwiY29vcmRpbmF0ZXMiLCJfbmVpZ2hib3VycyIsIm5ld05laWdoYm91cnMiLCIkaW5uZXJFbCIsImlubmVyVGV4dCIsIngiLCJ5IiwieiIsInRleHQiLCIkZWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJjaGlsZHJlbiIsImZpZWxkRXhpc3RJbk9iamVjdCIsImZpZWxkIiwiZmllbGRFbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzaXplIiwidGFibGVTaXplIiwidGFibGUiLCJfYmluZEV2ZW50cyIsIl9hZGRTdHlsZXMiLCJfb25TZXJ2ZXJSZXNwb25zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJkZXRhaWwiLCJjZWxsIiwiU3RyaW5nIiwiZHJhd1RleHQiLCJfY2VsbEV4aXN0IiwiX2FkZENlbGwiLCJOdW1iZXIiLCJjb252ZXJ0Q29vcmRpbmF0ZXNUb051bWJlcnMiLCJkaXJlY3Rpb24iLCJjb29yZHMiLCJfZ2V0Q2VsbCIsIm5laWdoYm91cnMiLCJfZmluZE5laWdoYm91cnMiLCJpbm5lclJhZGl1cyIsIk1hdGgiLCJzcXJ0IiwidGFsbGVyU2l6ZSIsIndpZGVyU2l6ZSIsImNvbHVtbkluZGV4IiwiZ2V0WkNvb3JkaW5hdGUiLCJpbmRleEluQ29sdW1uIiwiJGNvbHVtbiIsImhleENlbGwiLCJhcHBlbmQiLCJyZW5kZXIiLCJfc2F2ZUNlbGwiLCJleGlzdFN0eWxlIiwiaGV4U2l6ZXMiLCJfY2FsY0hleFNpemVzIiwibmV3U3R5bGUiLCJjYWxjdWxhdGVkQ291bnQiLCJhYnMiLCJfY3JlYXRlQ29sdW1uVGVtcGxhdGUiLCJsaXN0WCIsImxpc3RZIiwiX3VwZGF0ZU5laWdoYm91cnMiLCJrZXlib2FyZCIsImV2ZW50cyIsIm9uS2V5RG93blRhc2tNYW5hZ2VyIiwiZXZlbnQiLCJjb2RlIiwiY2FsbGJhY2siLCJzZXJ2ZXIiLCJ1cmwiLCJyZXNwb25zZSIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsImJvZHkiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJqc29uIiwiX29uUmVzcG9uY2UiLCJvbktleURvd24iLCJjb25zb2xlIiwibG9nIiwiZ2V0RGF0YSIsInVwZGF0ZUFsbE5laWdoYm91cnMiXSwibWFwcGluZ3MiOiJ1RkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSx5eUNBQTB5QyxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQywrQkFBK0IsTUFBUSxHQUFHLFNBQVcsMmtCQUEya0IsZUFBaUIsQ0FBQyw0M0NBQTQzQyxXQUFhLE1BRXo0RyxXLFFDQ0FELEVBQU9FLFFBQVUsU0FBVUMsR0FDekIsSUFBSUMsRUFBTyxHQXVEWCxPQXJEQUEsRUFBS0MsU0FBVyxXQUNkLE9BQU9DLEtBQUtDLEtBQUksU0FBVUMsR0FDeEIsSUFBSUMsRUFBVU4sRUFBdUJLLEdBRXJDLE9BQUlBLEVBQUssR0FDQSxVQUFVRSxPQUFPRixFQUFLLEdBQUksTUFBTUUsT0FBT0QsRUFBUyxLQUdsREEsS0FDTkUsS0FBSyxLQUtWUCxFQUFLUSxFQUFJLFNBQVVDLEVBQVNDLEVBQVlDLEdBQ2YsaUJBQVpGLElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSUcsRUFBeUIsR0FFN0IsR0FBSUQsRUFDRixJQUFLLElBQUlILEVBQUksRUFBR0EsRUFBSU4sS0FBS1csT0FBUUwsSUFBSyxDQUVwQyxJQUFJWCxFQUFLSyxLQUFLTSxHQUFHLEdBRVAsTUFBTlgsSUFDRmUsRUFBdUJmLElBQU0sR0FLbkMsSUFBSyxJQUFJaUIsRUFBSyxFQUFHQSxFQUFLTCxFQUFRSSxPQUFRQyxJQUFNLENBQzFDLElBQUlWLEVBQU8sR0FBR0UsT0FBT0csRUFBUUssSUFFekJILEdBQVVDLEVBQXVCUixFQUFLLE1BS3RDTSxJQUNHTixFQUFLLEdBR1JBLEVBQUssR0FBSyxHQUFHRSxPQUFPSSxFQUFZLFNBQVNKLE9BQU9GLEVBQUssSUFGckRBLEVBQUssR0FBS00sR0FNZFYsRUFBS0wsS0FBS1MsTUFJUEosSSxPQ3hEVCxTQUFTZSxFQUFrQkMsRUFBS0MsSUFBa0IsTUFBUEEsR0FBZUEsRUFBTUQsRUFBSUgsVUFBUUksRUFBTUQsRUFBSUgsUUFBUSxJQUFLLElBQUlMLEVBQUksRUFBR1UsRUFBTyxJQUFJQyxNQUFNRixHQUFNVCxFQUFJUyxFQUFLVCxJQUFPVSxFQUFLVixHQUFLUSxFQUFJUixHQUFNLE9BQU9VLEVBTWhMdEIsRUFBT0UsUUFBVSxTQUFnQ00sR0FDL0MsSUFic0JZLEVBQUtSLEVBYXZCWSxHQWJ1QlosRUFhTSxFQUhuQyxTQUF5QlEsR0FBTyxHQUFJRyxNQUFNRSxRQUFRTCxHQUFNLE9BQU9BLEVBVnRCTSxDQUFqQk4sRUFhS1osSUFMN0IsU0FBK0JZLEVBQUtSLEdBQUssR0FBc0Isb0JBQVhlLFFBQTRCQSxPQUFPQyxZQUFZQyxPQUFPVCxHQUFqRSxDQUFnRixJQUFJVSxFQUFPLEdBQVFDLEdBQUssRUFBVUMsR0FBSyxFQUFXQyxPQUFLQyxFQUFXLElBQU0sSUFBSyxJQUFpQ0MsRUFBN0JqQixFQUFLRSxFQUFJTyxPQUFPQyxjQUFtQkcsR0FBTUksRUFBS2pCLEVBQUdrQixRQUFRQyxRQUFvQlAsRUFBSy9CLEtBQUtvQyxFQUFHRyxRQUFZMUIsR0FBS2tCLEVBQUtiLFNBQVdMLEdBQTNEbUIsR0FBSyxJQUFvRSxNQUFPUSxHQUFPUCxHQUFLLEVBQU1DLEVBQUtNLEVBQU8sUUFBVSxJQUFXUixHQUFzQixNQUFoQmIsRUFBVyxRQUFXQSxFQUFXLFNBQU8sUUFBVSxHQUFJYyxFQUFJLE1BQU1DLEdBQVEsT0FBT0gsR0FSamFVLENBQXNCcEIsRUFBS1IsSUFJNUYsU0FBcUM2QixFQUFHQyxHQUFVLEdBQUtELEVBQUwsQ0FBZ0IsR0FBaUIsaUJBQU5BLEVBQWdCLE9BQU90QixFQUFrQnNCLEVBQUdDLEdBQVMsSUFBSUMsRUFBSWQsT0FBT2UsVUFBVXZDLFNBQVN3QyxLQUFLSixHQUFHSyxNQUFNLEdBQUksR0FBaUUsTUFBbkQsV0FBTkgsR0FBa0JGLEVBQUVNLGNBQWFKLEVBQUlGLEVBQUVNLFlBQVlDLE1BQWdCLFFBQU5MLEdBQXFCLFFBQU5BLEVBQW9CcEIsTUFBTTBCLEtBQUtSLEdBQWMsY0FBTkUsR0FBcUIsMkNBQTJDTyxLQUFLUCxHQUFXeEIsRUFBa0JzQixFQUFHQyxRQUF6RyxHQUozTVMsQ0FBNEIvQixFQUFLUixJQUVuSSxXQUE4QixNQUFNLElBQUl3QyxVQUFVLDZJQUZ1RkMsSUFjbkk1QyxFQUFVZSxFQUFNLEdBQ2hCOEIsRUFBYTlCLEVBQU0sR0FFdkIsR0FBb0IsbUJBQVQrQixLQUFxQixDQUU5QixJQUFJQyxFQUFTRCxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVOLE1BQ3pETyxFQUFPLCtEQUErRG5ELE9BQU84QyxHQUM3RU0sRUFBZ0IsT0FBT3BELE9BQU9tRCxFQUFNLE9BQ3BDRSxFQUFhVCxFQUFXVSxRQUFRekQsS0FBSSxTQUFVMEQsR0FDaEQsTUFBTyxpQkFBaUJ2RCxPQUFPNEMsRUFBV1ksWUFBYyxJQUFJeEQsT0FBT3VELEVBQVEsVUFFN0UsTUFBTyxDQUFDeEQsR0FBU0MsT0FBT3FELEdBQVlyRCxPQUFPLENBQUNvRCxJQUFnQm5ELEtBQUssTUFHbkUsTUFBTyxDQUFDRixHQUFTRSxLQUFLLFEsY0M1QnhCLElBQ013RCxFQWVGQyxFQUFZLFdBQ2QsSUFBSUQsRUFBTyxHQUNYLE9BQU8sU0FBa0JFLEdBQ3ZCLFFBQTRCLElBQWpCRixFQUFLRSxHQUF5QixDQUN2QyxJQUFJQyxFQUFjQyxTQUFTQyxjQUFjSCxHQUV6QyxHQUFJSSxPQUFPQyxtQkFBcUJKLGFBQXVCRyxPQUFPQyxrQkFDNUQsSUFHRUosRUFBY0EsRUFBWUssZ0JBQWdCQyxLQUMxQyxNQUFPQyxHQUVQUCxFQUFjLEtBSWxCSCxFQUFLRSxHQUFVQyxFQUdqQixPQUFPSCxFQUFLRSxJQXBCQSxHQXdCWlMsRUFBYyxHQUVsQixTQUFTQyxFQUFxQkMsR0FHNUIsSUFGQSxJQUFJQyxHQUFVLEVBRUxyRSxFQUFJLEVBQUdBLEVBQUlrRSxFQUFZN0QsT0FBUUwsSUFDdEMsR0FBSWtFLEVBQVlsRSxHQUFHb0UsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3JFLEVBQ1QsTUFJSixPQUFPcUUsRUFHVCxTQUFTQyxFQUFhOUUsRUFBTStFLEdBSTFCLElBSEEsSUFBSUMsRUFBYSxHQUNiQyxFQUFjLEdBRVR6RSxFQUFJLEVBQUdBLEVBQUlSLEVBQUthLE9BQVFMLElBQUssQ0FDcEMsSUFBSUosRUFBT0osRUFBS1EsR0FDWlgsRUFBS2tGLEVBQVFHLEtBQU85RSxFQUFLLEdBQUsyRSxFQUFRRyxLQUFPOUUsRUFBSyxHQUNsRCtFLEVBQVFILEVBQVduRixJQUFPLEVBQzFCK0UsRUFBYSxHQUFHdEUsT0FBT1QsRUFBSSxLQUFLUyxPQUFPNkUsR0FDM0NILEVBQVduRixHQUFNc0YsRUFBUSxFQUN6QixJQUFJQyxFQUFRVCxFQUFxQkMsR0FDN0JTLEVBQU0sQ0FDUkMsSUFBS2xGLEVBQUssR0FDVm1GLE1BQU9uRixFQUFLLEdBQ1pvRixVQUFXcEYsRUFBSyxLQUdILElBQVhnRixHQUNGVixFQUFZVSxHQUFPSyxhQUNuQmYsRUFBWVUsR0FBT00sUUFBUUwsSUFFM0JYLEVBQVkvRSxLQUFLLENBQ2ZpRixXQUFZQSxFQUNaYyxRQUFTQyxFQUFTTixFQUFLTixHQUN2QlUsV0FBWSxJQUloQlIsRUFBWXRGLEtBQUtpRixHQUduQixPQUFPSyxFQUdULFNBQVNXLEVBQW1CYixHQUMxQixJQUFJYyxFQUFRMUIsU0FBUzJCLGNBQWMsU0FDL0JDLEVBQWFoQixFQUFRZ0IsWUFBYyxHQUV2QyxRQUFnQyxJQUFyQkEsRUFBV0MsTUFBdUIsQ0FDM0MsSUFBSUEsRUFBbUQsS0FFbkRBLElBQ0ZELEVBQVdDLE1BQVFBLEdBUXZCLEdBSkF2RSxPQUFPd0UsS0FBS0YsR0FBWUcsU0FBUSxTQUFVQyxHQUN4Q04sRUFBTU8sYUFBYUQsRUFBS0osRUFBV0ksT0FHUCxtQkFBbkJwQixFQUFRc0IsT0FDakJ0QixFQUFRc0IsT0FBT1IsT0FDVixDQUNMLElBQUk1QixFQUFTRCxFQUFVZSxFQUFRc0IsUUFBVSxRQUV6QyxJQUFLcEMsRUFDSCxNQUFNLElBQUlxQyxNQUFNLDJHQUdsQnJDLEVBQU9zQyxZQUFZVixHQUdyQixPQUFPQSxFQWNULElBQ01XLEVBREZDLEdBQ0VELEVBQVksR0FDVCxTQUFpQnBCLEVBQU9zQixHQUU3QixPQURBRixFQUFVcEIsR0FBU3NCLEVBQ1pGLEVBQVVHLE9BQU9DLFNBQVNyRyxLQUFLLFFBSTFDLFNBQVNzRyxFQUFvQmhCLEVBQU9ULEVBQU8wQixFQUFRekIsR0FDakQsSUFBSUMsRUFBTXdCLEVBQVMsR0FBS3pCLEVBQUlFLE1BQVEsVUFBVWpGLE9BQU8rRSxFQUFJRSxNQUFPLE1BQU1qRixPQUFPK0UsRUFBSUMsSUFBSyxLQUFPRCxFQUFJQyxJQUlqRyxHQUFJTyxFQUFNa0IsV0FDUmxCLEVBQU1rQixXQUFXQyxRQUFVUCxFQUFZckIsRUFBT0UsT0FDekMsQ0FDTCxJQUFJMkIsRUFBVTlDLFNBQVMrQyxlQUFlNUIsR0FDbEM2QixFQUFhdEIsRUFBTXNCLFdBRW5CQSxFQUFXL0IsSUFDYlMsRUFBTXVCLFlBQVlELEVBQVcvQixJQUczQitCLEVBQVd0RyxPQUNiZ0YsRUFBTXdCLGFBQWFKLEVBQVNFLEVBQVcvQixJQUV2Q1MsRUFBTVUsWUFBWVUsSUFLeEIsU0FBU0ssRUFBV3pCLEVBQU9kLEVBQVNNLEdBQ2xDLElBQUlDLEVBQU1ELEVBQUlDLElBQ1ZDLEVBQVFGLEVBQUlFLE1BQ1pDLEVBQVlILEVBQUlHLFVBZXBCLEdBYklELEVBQ0ZNLEVBQU1PLGFBQWEsUUFBU2IsR0FFNUJNLEVBQU0wQixnQkFBZ0IsU0FHcEIvQixHQUE2QixvQkFBVHJDLE9BQ3RCbUMsR0FBTyx1REFBdURoRixPQUFPNkMsS0FBS0UsU0FBU0MsbUJBQW1CQyxLQUFLQyxVQUFVZ0MsTUFBZSxRQU1sSUssRUFBTWtCLFdBQ1JsQixFQUFNa0IsV0FBV0MsUUFBVTFCLE1BQ3RCLENBQ0wsS0FBT08sRUFBTTJCLFlBQ1gzQixFQUFNdUIsWUFBWXZCLEVBQU0yQixZQUcxQjNCLEVBQU1VLFlBQVlwQyxTQUFTK0MsZUFBZTVCLEtBSTlDLElBQUltQyxFQUFZLEtBQ1pDLEVBQW1CLEVBRXZCLFNBQVMvQixFQUFTTixFQUFLTixHQUNyQixJQUFJYyxFQUNBOEIsRUFDQWIsRUFFSixHQUFJL0IsRUFBUTBDLFVBQVcsQ0FDckIsSUFBSUcsRUFBYUYsSUFDakI3QixFQUFRNEIsSUFBY0EsRUFBWTdCLEVBQW1CYixJQUNyRDRDLEVBQVNkLEVBQW9CZ0IsS0FBSyxLQUFNaEMsRUFBTytCLEdBQVksR0FDM0RkLEVBQVNELEVBQW9CZ0IsS0FBSyxLQUFNaEMsRUFBTytCLEdBQVksUUFFM0QvQixFQUFRRCxFQUFtQmIsR0FDM0I0QyxFQUFTTCxFQUFXTyxLQUFLLEtBQU1oQyxFQUFPZCxHQUV0QytCLEVBQVMsWUF4RmIsU0FBNEJqQixHQUUxQixHQUF5QixPQUFyQkEsRUFBTWlDLFdBQ1IsT0FBTyxFQUdUakMsRUFBTWlDLFdBQVdWLFlBQVl2QixHQW1GekJrQyxDQUFtQmxDLElBS3ZCLE9BREE4QixFQUFPdEMsR0FDQSxTQUFxQjJDLEdBQzFCLEdBQUlBLEVBQVEsQ0FDVixHQUFJQSxFQUFPMUMsTUFBUUQsRUFBSUMsS0FBTzBDLEVBQU96QyxRQUFVRixFQUFJRSxPQUFTeUMsRUFBT3hDLFlBQWNILEVBQUlHLFVBQ25GLE9BR0ZtQyxFQUFPdEMsRUFBTTJDLFFBRWJsQixLQUtObEgsRUFBT0UsUUFBVSxTQUFVRSxFQUFNK0UsSUFDL0JBLEVBQVVBLEdBQVcsSUFHUjBDLFdBQTBDLGtCQUF0QjFDLEVBQVEwQyxZQUN2QzFDLEVBQVEwQyxnQkFyT1ksSUFBVDFELElBTVRBLEVBQU82QyxRQUFRdkMsUUFBVUYsVUFBWUEsU0FBUzhELE1BQVE1RCxPQUFPNkQsT0FHeERuRSxJQWdPVCxJQUFJb0UsRUFBa0JyRCxFQUR0QjlFLEVBQU9BLEdBQVEsR0FDMEIrRSxHQUN6QyxPQUFPLFNBQWdCcUQsR0FHckIsR0FGQUEsRUFBVUEsR0FBVyxHQUUyQixtQkFBNUMzRyxPQUFPZSxVQUFVdkMsU0FBU3dDLEtBQUsyRixHQUFuQyxDQUlBLElBQUssSUFBSTVILEVBQUksRUFBR0EsRUFBSTJILEVBQWdCdEgsT0FBUUwsSUFBSyxDQUMvQyxJQUNJNEUsRUFBUVQsRUFES3dELEVBQWdCM0gsSUFFakNrRSxFQUFZVSxHQUFPSyxhQUtyQixJQUZBLElBQUk0QyxFQUFxQnZELEVBQWFzRCxFQUFTckQsR0FFdENqRSxFQUFLLEVBQUdBLEVBQUtxSCxFQUFnQnRILE9BQVFDLElBQU0sQ0FDbEQsSUFFSXdILEVBQVMzRCxFQUZLd0QsRUFBZ0JySCxJQUlLLElBQW5DNEQsRUFBWTRELEdBQVE3QyxhQUN0QmYsRUFBWTRELEdBQVE1QyxVQUVwQmhCLEVBQVk2RCxPQUFPRCxFQUFRLElBSS9CSCxFQUFrQkUsT0N6UWxCRyxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCNUcsSUFBakI2RyxFQUNILE9BQU9BLEVBQWE3SSxRQUdyQixJQUFJRixFQUFTNEksRUFBeUJFLEdBQVksQ0FDakQ3SSxHQUFJNkksRUFFSjVJLFFBQVMsSUFPVixPQUhBOEksRUFBb0JGLEdBQVU5SSxFQUFRQSxFQUFPRSxRQUFTMkksR0FHL0M3SSxFQUFPRSxRQ3BCZjJJLEVBQW9CbEcsRUFBSzNDLElBQ3hCLElBQUlpSixFQUFTakosR0FBVUEsRUFBT2tKLFdBQzdCLElBQU9sSixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQTZJLEVBQW9CTSxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxHQ0xSSixFQUFvQk0sRUFBSSxDQUFDakosRUFBU21KLEtBQ2pDLElBQUksSUFBSTlDLEtBQU84QyxFQUNYUixFQUFvQnBHLEVBQUU0RyxFQUFZOUMsS0FBU3NDLEVBQW9CcEcsRUFBRXZDLEVBQVNxRyxJQUM1RTFFLE9BQU95SCxlQUFlcEosRUFBU3FHLEVBQUssQ0FBRWdELFlBQVksRUFBTUMsSUFBS0gsRUFBVzlDLE1DSjNFc0MsRUFBb0JwRyxFQUFJLENBQUNnRCxFQUFLZ0UsSUFBVTVILE9BQU9lLFVBQVU4RyxlQUFlN0csS0FBSzRDLEVBQUtnRSxHLHFDQ1FyRSxJQUFJLElBTEgsQ0FFZCxPQUFpQixPQUNqQixXQUFvQixJQU1MLFdDWlIsTUFBTUUsRUFDWCxhQUFZLE9BQUNDLEVBQU0sWUFBRUMsSUFDbkJ2SixLQUFLc0osT0FBU0EsRUFDZHRKLEtBQUt1SixZQUFjQSxFQUNuQnZKLEtBQUt3SixZQUFjLEdBR3JCLGlCQUNFLE9BQU94SixLQUFLd0osWUFHZCxlQUFlQyxHQUNiekosS0FBS3dKLFlBQWNDLEVBR3JCLGtCQUNFekosS0FBSzBKLFNBQVNDLFVBQVksSUFBSTNKLEtBQUt1SixZQUFZSyxLQUFLNUosS0FBS3VKLFlBQVlNLEtBQUs3SixLQUFLdUosWUFBWU8sS0FHN0YsU0FBU0MsR0FDUC9KLEtBQUswSixTQUFTQyxVQUFZSSxFQUc1QixTQU1FLE9BTEEvSixLQUFLZ0ssSUFBTS9GLFNBQVMyQixjQUFjLE9BQ2xDNUYsS0FBS2dLLElBQUlDLFVBQVVDLElBQUksV0FDdkJsSyxLQUFLZ0ssSUFBSUMsVUFBVUMsSUFBSSxpQkFDdkJsSyxLQUFLZ0ssSUFBSUcsVUFBWSw0Q0FDckJuSyxLQUFLMEosU0FBVzFKLEtBQUtnSyxJQUFJSSxTQUFTLEdBQzNCcEssS0FBS2dLLEtDMkhoQixTQUFTSyxFQUFtQmxGLEVBQUttRixHQUMvQixRQUFTbkYsRUFBSW1GLEdDcEpmLE1BQU1DLEVBQWV0RyxTQUFTdUcsZUFBZSxTQUV2Q0YsRUFBUSxJRExQLE1BQ0wsWUFBWU4sRUFBS1MsRUFBTW5CLEdBQ3JCdEosS0FBS2dLLElBQU1BLEVBQ1hoSyxLQUFLeUssS0FBT0EsRUFDWnpLLEtBQUswSyxVQUFtQixFQUFQRCxFQUFXLEVBQzVCekssS0FBS3NKLE9BQVNBLEVBQ2R0SixLQUFLMkssTUFBUSxHQUNiM0ssS0FBSzRLLGNBQ0w1SyxLQUFLNkssYUFHUCxjQUNFN0ssS0FBSzhLLGtCQUFvQjlLLEtBQUs4SyxrQkFBa0JuRCxLQUFLM0gsTUFDckRpRSxTQUFTOEcsb0JBQW9CLGlCQUFrQi9LLEtBQUs4SyxtQkFDcEQ3RyxTQUFTK0csaUJBQWlCLGlCQUFrQmhMLEtBQUs4SyxtQkFHbkQsa0JBQWtCRyxHQUNDQSxFQUFHQyxPQUVYbEYsU0FBUW1GLElBQ2YsTUFBTSxFQUFDdkIsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLElBNklrQlAsRUE3SWU0QixFQThJM0MsQ0FDTHZCLEVBQUd3QixPQUFPN0IsRUFBWUssR0FDdEJDLEVBQUd1QixPQUFPN0IsRUFBWU0sR0FDdEJDLEVBQUdzQixPQUFPN0IsRUFBWU8sS0FKMUIsSUFBcUNQLEVBNUkvQnZKLEtBQUsySyxNQUFNZixHQUFHQyxHQUFHQyxHQUFHdUIsU0FBU0YsRUFBS25KLFVBSXRDLFlBQVcsRUFBQzRILEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxJQUNoQixPQUFPTyxFQUFtQnJLLEtBQUsySyxNQUFPZixJQUNqQ1MsRUFBbUJySyxLQUFLMkssTUFBTWYsR0FBSUMsSUFDbENRLEVBQW1CckssS0FBSzJLLE1BQU1mLEdBQUdDLEdBQUlDLEdBRzVDLFVBQVMsRUFBQ0YsRUFBQyxFQUFFQyxFQUFDLEVBQUVDLElBQ1RPLEVBQW1CckssS0FBSzJLLE1BQU9mLEtBQ2xDNUosS0FBSzJLLE1BQU1mLEdBQUssSUFFYlMsRUFBbUJySyxLQUFLMkssTUFBTWYsR0FBSUMsS0FDckM3SixLQUFLMkssTUFBTWYsR0FBR0MsR0FBSyxJQUVoQlEsRUFBbUJySyxLQUFLMkssTUFBTWYsR0FBR0MsR0FBSUMsS0FDeEM5SixLQUFLMkssTUFBTWYsR0FBR0MsR0FBR0MsR0FBSyxJQUkxQixVQUFVdkcsRUFBTWdHLEdBQ2QsSUFBSSxFQUFDSyxFQUFDLEVBQUVDLEVBQUMsRUFBRUMsR0FBS1AsRUFFWHZKLEtBQUtzTCxXQUFXL0IsSUFDbkJ2SixLQUFLdUwsU0FBU2hDLEdBRWhCdkosS0FBSzJLLE1BQU1mLEdBQUdDLEdBQUdDLEdBQUt2RyxFQUd4QixVQUFTLEVBQUNxRyxFQUFDLEVBQUVDLEVBQUMsRUFBRUMsSUFDZCxPQUFPOUosS0FBSzJLLE1BQU1mLEdBQUdDLEdBQUdDLEdBRzFCLGdCQUFnQlAsR0FDZCxNQUFNLEVBQUNLLEVBQUMsRUFBRUMsRUFBQyxFQUFFQyxHQWdHakIsU0FBcUNQLEdBQ25DLE1BQU8sQ0FDTEssRUFBRzRCLE9BQU9qQyxFQUFZSyxHQUN0QkMsRUFBRzJCLE9BQU9qQyxFQUFZTSxHQUN0QkMsRUFBRzBCLE9BQU9qQyxFQUFZTyxJQXBHSjJCLENBQTRCbEMsR0FVOUMsTUFUNEIsQ0FDMUIsQ0FBQ0ssRUFBR0EsRUFBSSxFQUFHQyxFQUFHQSxFQUFJLEVBQUdDLElBQUc0QixVQUFXLGNBQ25DLENBQUM5QixFQUFHQSxFQUFJLEVBQUdDLEVBQUdBLEVBQUksRUFBR0MsSUFBRzRCLFVBQVcsY0FDbkMsQ0FBQzlCLElBQUdDLEVBQUdBLEVBQUksRUFBR0MsRUFBR0EsRUFBSSxFQUFHNEIsVUFBVyxTQUNuQyxDQUFDOUIsSUFBR0MsRUFBR0EsRUFBSSxFQUFHQyxFQUFHQSxFQUFJLEVBQUc0QixVQUFXLFNBQ25DLENBQUM5QixFQUFHQSxFQUFJLEVBQUdDLElBQUdDLEVBQUdBLEVBQUksRUFBRzRCLFVBQVcsY0FDbkMsQ0FBQzlCLEVBQUdBLEVBQUksRUFBR0MsSUFBR0MsRUFBR0EsRUFBSSxFQUFHNEIsVUFBVyxlQUlsQ2pGLE9BQU96RyxLQUFLc0wsV0FBVzNELEtBQUszSCxPQUM1QkMsS0FBSzBMLElBQ0csQ0FDTFIsS0FBTW5MLEtBQUs0TCxTQUFTRCxHQUNwQkQsVUFBV0MsRUFBT0QsY0FLMUIsa0JBQWtCbkMsR0FDaEJ2SixLQUFLNEwsU0FBU3JDLEdBQWFzQyxXQUFhN0wsS0FBSzhMLGdCQUFnQnZDLEdBRy9ELGdCQUVFLE9BREF2SixLQUFLK0wsWUFBY0MsS0FBS0MsS0FBSyxHQUFLLEVBQUlqTSxLQUFLc0osT0FDcEMsQ0FDTDRDLFdBQVlsTSxLQUFLc0osT0FDakI2QyxVQUFXLEVBQUluTSxLQUFLK0wsYUFJeEIsc0JBQXNCOUcsRUFBT21ILEdBQzNCLE1BQU1DLEVBQWtCQyxHQUNmRixFQUFjLEVBQ2pCRSxFQUFnQnRNLEtBQUt5SyxLQUFPLEVBQzVCNkIsRUFBZ0JGLEVBQWNwTSxLQUFLeUssS0FBTyxFQU0xQ25CLEVBQVN0SixLQUFLc0osT0FDZGlELEVBQVV0SSxTQUFTMkIsY0FBYyxPQUV2QzJHLEVBQVF0QyxVQUFVQyxJQUFJLGlCQUN0QixJQUFLLElBQUk1SixFQUFJLEVBQUdBLEVBQUkyRSxFQUFPM0UsSUFBSyxDQUM5QixNQUFNaUosRUFBYyxDQUFDSyxFQUFHd0MsRUFBYXZDLEdBVGZ5QyxFQVNpQ2hNLEdBUi9DOEwsRUFBY0MsRUFBZUMsSUFRc0J4QyxFQUFHdUMsRUFBZS9MLElBQ3ZFa00sRUFBVSxJQUFJbkQsRUFBUSxDQUFDQyxTQUFRQyxnQkFFckNnRCxFQUFRRSxPQUFPRCxFQUFRRSxVQUN2QjFNLEtBQUsyTSxVQUFVSCxFQUFTakQsR0FiSCxJQUFDK0MsRUFnQnhCLE9BQU9DLEVBR1QsYUFDRSxNQUFNSyxFQUFhM0ksU0FBU3VHLGVBQWUsZ0JBQ3JDcUMsRUFBVzdNLEtBQUs4TSxnQkFDaEJuSCxFQUFRLGdDQUFnQzNGLEtBQUtzSixPQUFTLCtCQUErQnVELEVBQVNYLHdCQUF3QlcsRUFBU1YsZ0JBRXJJLEdBQUlTLEVBQ0ZBLEVBQVdqRCxVQUFZaEUsTUFDbEIsQ0FDTCxNQUFNb0gsRUFBVzlJLFNBQVMyQixjQUFjLFNBQ3hDbUgsRUFBU3BOLEdBQUssZUFDZG9OLEVBQVNwRCxVQUFZaEUsRUFDckIxQixTQUFTSyxLQUFLbUksT0FBT00sSUFJekIsU0FDRSxJQUFLLElBQUl6TSxFQUFJLEVBQUdBLEVBQUlOLEtBQUswSyxVQUFXcEssSUFBSyxDQUN2QyxNQUFNME0sRUFBa0JoTixLQUFLMEssVUFBWXNCLEtBQUtpQixJQUFJak4sS0FBS3lLLEtBQU8sRUFBSW5LLEdBQ2xFTixLQUFLZ0ssSUFBSXlDLE9BQU96TSxLQUFLa04sc0JBQXNCRixFQUFpQjFNLEVBQUlOLEtBQUt5SyxLQUFPLEtBSWhGLHNCQUNFLElBQUssSUFBSWIsS0FBSzVKLEtBQUsySyxNQUFPLENBQ3hCLE1BQU13QyxFQUFRbk4sS0FBSzJLLE1BQU1mLEdBQ3pCLElBQUssSUFBSUMsS0FBS3NELEVBQU8sQ0FDbkIsTUFBTUMsRUFBUUQsRUFBTXRELEdBQ3BCLElBQUssSUFBSUMsS0FBS3NELEVBQ1pwTixLQUFLcU4sa0JBQWtCLENBQUN6RCxJQUFHQyxJQUFHQyxVQzFJaEJTLEVBQWMsRUFBRyxJQUNuQytDLEVBQVcsSUNSVixNQUNMLGNBQ0V0TixLQUFLdU4sT0FBUyxHQUNkdEosU0FBUytHLGlCQUFpQixVQUFXaEwsS0FBS3dOLHFCQUFxQjdGLEtBQUszSCxPQUd0RSxxQkFBcUJ5TixHQUNkek4sS0FBS3VOLE9BQU9FLEVBQU1DLE9BSXZCMU4sS0FBS3VOLE9BQU9FLEVBQU1DLFFBR3BCLFVBQVVBLEVBQU1DLEdBQ2QzTixLQUFLdU4sT0FBT0csR0FBUUMsRUFHdEIsV0FBV0QsR0FDVDFOLEtBQUt1TixPQUFPRyxHQUFRLEtEVmxCRSxFQUFTLElFVFIsTUFDTCxZQUFZQyxHQUNWN04sS0FBSzZOLElBQU1BLEVBR2IsWUFBWUMsR0FDVixNQUFNTCxFQUFRLElBQUlNLFlBQVksaUJBQWtCLENBQzlDN0MsT0FBUTRDLElBRVY3SixTQUFTK0osY0FBY1AsR0FHekIsUUFBUVEsRUFBSyxNQUNYQyxNQUFNbE8sS0FBSzZOLElBQUssQ0FDZE0sT0FBUSxPQUNSRixTQUVDRyxNQUFLQyxHQUFPQSxFQUFJQyxTQUNoQkYsS0FBS3BPLEtBQUt1TyxZQUFZNUcsS0FBSzNILFNGWmhCLDBFQU1sQnNOLEVBQVNrQixVQUFVLFFBQVEsSUFBTUMsUUFBUUMsSUFBSSxtQkFDN0NwQixFQUFTa0IsVUFBVSxRQUFRLElBQU1DLFFBQVFDLElBQUksbUJBQzdDcEIsRUFBU2tCLFVBQVUsUUFBUSxJQUFNQyxRQUFRQyxJQUFJLG1CQUU3Q2QsRUFBT2UsVUFDUHJFLEVBQU1vQyxTQUNOcEMsRUFBTXNFLHNCQUVOSCxRQUFRQyxJQUFJcEUsRUFBTUssUSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiYm9keSB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzgwY2JjNDtcXG4gIGhlaWdodDogMTAwdmg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG4uaGV4YWdvbiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5oZXhhZ29uOjpiZWZvcmUsXFxuLmhleGFnb246OmFmdGVyIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIHdpZHRoOiA1MCU7XFxuICBoZWlnaHQ6IDA7XFxuICB6LWluZGV4OiAtMTtcXG4gIHBhZGRpbmctYm90dG9tOiA1MCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbn1cXG4uaGV4YWdvbjo6YmVmb3JlIHtcXG4gIHJpZ2h0OiAxMDAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoNTAlLCAtNTAlKSBzY2FsZSgxLjQyLCAyLjQ1KSByb3RhdGUoNDVkZWcpO1xcbn1cXG4uaGV4YWdvbjo6YWZ0ZXIge1xcbiAgbGVmdDogMTAwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEuNDIsIDIuNDUpIHJvdGF0ZSg0NWRlZyk7XFxufVxcbi5oZXhhZ29uX291dGVyIHtcXG4gIGJhY2tncm91bmQ6ICMwMDY3NWI7XFxufVxcbi5oZXhhZ29uX291dGVyOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2NGQ4Y2I7XFxufVxcbi5oZXhhZ29uX2lubmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRvcDogNTAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC45NSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5Njg4O1xcbiAgei1pbmRleDogMjtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMjZweDtcXG59XFxuLmZpZWxkIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5maWVsZF9fY29sdW1uIHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzLmxlc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBRUE7RUFDRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBREY7QUFJQTtFQUNFLGtCQUFBO0FBRkY7QUFJRTs7RUFFRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFVBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7QUFGSjtBQUtFO0VBQ0UsV0FBQTtFQUNBLCtEQUFBO0FBSEo7QUFNRTtFQUNFLFVBQUE7RUFDQSxnRUFBQTtBQUpKO0FBT0U7RUFDRSxtQkFBQTtBQUxKO0FBT0k7RUFDRSx5QkFBQTtBQUxOO0FBU0U7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLDRDQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0VBQ0Esb0JBQUE7RUFDQSx3Q0FBQTtFQUNBLGVBQUE7QUFQSjtBQVdBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQVRGO0FBV0U7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQVRKXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBiZ0NvbG9yOiAjODBjYmM0O1xcblxcbmJvZHkge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IEBiZ0NvbG9yO1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5oZXhhZ29uIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG5cXG4gICY6OmJlZm9yZSxcXG4gICY6OmFmdGVyIHtcXG4gICAgY29udGVudDogJyc7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDEwMCU7XFxuICAgIHRvcDogNTAlO1xcbiAgICB3aWR0aDogNTAlO1xcbiAgICBoZWlnaHQ6IDA7XFxuICAgIHotaW5kZXg6IC0xO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNTAlO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbiAgfVxcblxcbiAgJjo6YmVmb3JlIHtcXG4gICAgcmlnaHQ6IDEwMCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDUwJSwtNTAlKSBzY2FsZSgxLjQyLCAyLjQ1KSByb3RhdGUoNDVkZWcpO1xcbiAgfVxcblxcbiAgJjo6YWZ0ZXIge1xcbiAgICBsZWZ0OiAxMDAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlKDEuNDIsIDIuNDUpIHJvdGF0ZSg0NWRlZyk7XFxuICB9XFxuXFxuICAmX291dGVyIHtcXG4gICAgYmFja2dyb3VuZDogIzAwNjc1YjtcXG5cXG4gICAgJjpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY0ZDhjYjtcXG4gICAgfVxcbiAgfVxcblxcbiAgJl9pbm5lciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKC45NSk7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDk2ODg7XFxuICAgIHotaW5kZXg6IDI7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgICBmb250LXNpemU6IDI2cHg7XFxuICB9XFxufVxcblxcbi5maWVsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcblxcbiAgJl9fY29sdW1uIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9sZXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5sZXNzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiZXhwb3J0IGNsYXNzIEhleGFnb24ge1xuICBjb25zdHJ1Y3Rvcih7cmFkaXVzLCBjb29yZGluYXRlc30pIHtcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcbiAgICB0aGlzLmNvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XG4gICAgdGhpcy5fbmVpZ2hib3VycyA9IHt9O1xuICB9XG5cbiAgZ2V0IG5laWdoYm91cnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25laWdoYm91cnM7XG4gIH1cblxuICBzZXQgbmVpZ2hib3VycyhuZXdOZWlnaGJvdXJzKSB7XG4gICAgdGhpcy5fbmVpZ2hib3VycyA9IG5ld05laWdoYm91cnM7XG4gIH1cblxuICBkcmF3Q29vcmRpbmF0ZXMoKSB7XG4gICAgdGhpcy4kaW5uZXJFbC5pbm5lclRleHQgPSBgWyR7dGhpcy5jb29yZGluYXRlcy54fToke3RoaXMuY29vcmRpbmF0ZXMueX06JHt0aGlzLmNvb3JkaW5hdGVzLnp9XWBcbiAgfVxuXG4gIGRyYXdUZXh0KHRleHQpIHtcbiAgICB0aGlzLiRpbm5lckVsLmlubmVyVGV4dCA9IHRleHQ7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgdGhpcy4kZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2hleGFnb24nKVxuICAgIHRoaXMuJGVsLmNsYXNzTGlzdC5hZGQoJ2hleGFnb25fb3V0ZXInKVxuICAgIHRoaXMuJGVsLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiaGV4YWdvbiBoZXhhZ29uX2lubmVyXCI+PC9kaXY+YFxuICAgIHRoaXMuJGlubmVyRWwgPSB0aGlzLiRlbC5jaGlsZHJlblswXTtcbiAgICByZXR1cm4gdGhpcy4kZWxcbiAgfVxufVxuIiwiaW1wb3J0IHtIZXhhZ29ufSBmcm9tIFwiQC9IZXhhZ29uXCJcblxuZXhwb3J0IGNsYXNzIEZpZWxkIHtcbiAgY29uc3RydWN0b3IoJGVsLCBzaXplLCByYWRpdXMpIHtcbiAgICB0aGlzLiRlbCA9ICRlbDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMudGFibGVTaXplID0gc2l6ZSAqIDIgLSAxO1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIHRoaXMudGFibGUgPSB7fVxuICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICB0aGlzLl9hZGRTdHlsZXMoKTtcbiAgfVxuXG4gIF9iaW5kRXZlbnRzKCkge1xuICAgIHRoaXMuX29uU2VydmVyUmVzcG9uc2UgPSB0aGlzLl9vblNlcnZlclJlc3BvbnNlLmJpbmQodGhpcylcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZXJ2ZXJSZXNwb25zZScsIHRoaXMuX29uU2VydmVyUmVzcG9uc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlcnZlclJlc3BvbnNlJywgdGhpcy5fb25TZXJ2ZXJSZXNwb25zZSlcbiAgfVxuXG4gIF9vblNlcnZlclJlc3BvbnNlKGV2KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBldi5kZXRhaWw7XG5cbiAgICByZXNwb25zZS5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY29uc3Qge3gsIHksIHp9ID0gY29udmVydENvb3JkaW5hdGVzVG9TdHJpbmdzKGNlbGwpO1xuICAgICAgdGhpcy50YWJsZVt4XVt5XVt6XS5kcmF3VGV4dChjZWxsLnZhbHVlKVxuICAgIH0pXG4gIH1cblxuICBfY2VsbEV4aXN0KHt4LCB5LCB6fSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0SW5PYmplY3QodGhpcy50YWJsZSwgeClcbiAgICAgICYmIGZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlW3hdLCB5KVxuICAgICAgJiYgZmllbGRFeGlzdEluT2JqZWN0KHRoaXMudGFibGVbeF1beV0sIHopXG4gIH1cblxuICBfYWRkQ2VsbCh7eCwgeSwgen0pIHtcbiAgICBpZiAoIWZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlLCB4KSkge1xuICAgICAgdGhpcy50YWJsZVt4XSA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlW3hdLCB5KSkge1xuICAgICAgdGhpcy50YWJsZVt4XVt5XSA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWZpZWxkRXhpc3RJbk9iamVjdCh0aGlzLnRhYmxlW3hdW3ldLCB6KSkge1xuICAgICAgdGhpcy50YWJsZVt4XVt5XVt6XSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIF9zYXZlQ2VsbChkYXRhLCBjb29yZGluYXRlcykge1xuICAgIGxldCB7eCwgeSwgen0gPSBjb29yZGluYXRlcztcblxuICAgIGlmICghdGhpcy5fY2VsbEV4aXN0KGNvb3JkaW5hdGVzKSkge1xuICAgICAgdGhpcy5fYWRkQ2VsbChjb29yZGluYXRlcylcbiAgICB9XG4gICAgdGhpcy50YWJsZVt4XVt5XVt6XSA9IGRhdGE7XG4gIH1cblxuICBfZ2V0Q2VsbCh7eCwgeSwgen0pIHtcbiAgICByZXR1cm4gdGhpcy50YWJsZVt4XVt5XVt6XVxuICB9XG5cbiAgX2ZpbmROZWlnaGJvdXJzKGNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3Qge3gsIHksIHp9ID0gY29udmVydENvb3JkaW5hdGVzVG9OdW1iZXJzKGNvb3JkaW5hdGVzKVxuICAgIGNvbnN0IG5laWdib3Vyc0Nvb3JpbmF0ZXMgPSBbXG4gICAgICB7eDogeCArIDEsIHk6IHkgLSAxLCB6LCBkaXJlY3Rpb246ICdzb3V0aC1lYXN0J30sXG4gICAgICB7eDogeCAtIDEsIHk6IHkgKyAxLCB6LCBkaXJlY3Rpb246ICdub3J0aC13ZXN0J30sXG4gICAgICB7eCwgeTogeSArIDEsIHo6IHogLSAxLCBkaXJlY3Rpb246ICdub3J0aCd9LFxuICAgICAge3gsIHk6IHkgLSAxLCB6OiB6ICsgMSwgZGlyZWN0aW9uOiAnc291dGgnfSxcbiAgICAgIHt4OiB4ICsgMSwgeSwgejogeiAtIDEsIGRpcmVjdGlvbjogJ25vcnRoLWVhc3QnfSxcbiAgICAgIHt4OiB4IC0gMSwgeSwgejogeiArIDEsIGRpcmVjdGlvbjogJ3NvdXRoLXdlc3QnfVxuICAgIF07XG5cbiAgICByZXR1cm4gbmVpZ2JvdXJzQ29vcmluYXRlc1xuICAgICAgLmZpbHRlcih0aGlzLl9jZWxsRXhpc3QuYmluZCh0aGlzKSlcbiAgICAgIC5tYXAoKGNvb3JkcykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNlbGw6IHRoaXMuX2dldENlbGwoY29vcmRzKSxcbiAgICAgICAgICBkaXJlY3Rpb246IGNvb3Jkcy5kaXJlY3Rpb25cbiAgICAgICAgfVxuICAgICAgfSlcbiAgfVxuXG4gIF91cGRhdGVOZWlnaGJvdXJzKGNvb3JkaW5hdGVzKSB7XG4gICAgdGhpcy5fZ2V0Q2VsbChjb29yZGluYXRlcykubmVpZ2hib3VycyA9IHRoaXMuX2ZpbmROZWlnaGJvdXJzKGNvb3JkaW5hdGVzKVxuICB9XG5cbiAgX2NhbGNIZXhTaXplcygpIHtcbiAgICB0aGlzLmlubmVyUmFkaXVzID0gTWF0aC5zcXJ0KDMpIC8gMiAqIHRoaXMucmFkaXVzO1xuICAgIHJldHVybiB7XG4gICAgICB0YWxsZXJTaXplOiB0aGlzLnJhZGl1cyxcbiAgICAgIHdpZGVyU2l6ZTogMiAqIHRoaXMuaW5uZXJSYWRpdXMsXG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNvbHVtblRlbXBsYXRlKGNvdW50LCBjb2x1bW5JbmRleCkge1xuICAgIGNvbnN0IGdldFpDb29yZGluYXRlID0gKGluZGV4SW5Db2x1bW4pID0+IHtcbiAgICAgIHJldHVybiBjb2x1bW5JbmRleCA+IDBcbiAgICAgICAgPyBpbmRleEluQ29sdW1uIC0gdGhpcy5zaXplICsgMVxuICAgICAgICA6IGluZGV4SW5Db2x1bW4gLSBjb2x1bW5JbmRleCAtIHRoaXMuc2l6ZSArIDFcbiAgICB9XG4gICAgY29uc3QgZ2V0WUNvb3JkaW5hdGUgPSAoaW5kZXhJbkNvbHVtbikgPT4ge1xuICAgICAgcmV0dXJuIC1jb2x1bW5JbmRleCAtIGdldFpDb29yZGluYXRlKGluZGV4SW5Db2x1bW4pXG4gICAgfVxuXG4gICAgY29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXM7XG4gICAgY29uc3QgJGNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgJGNvbHVtbi5jbGFzc0xpc3QuYWRkKCdmaWVsZF9fY29sdW1uJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBjb29yZGluYXRlcyA9IHt4OiBjb2x1bW5JbmRleCwgeTogZ2V0WUNvb3JkaW5hdGUoaSksIHo6IGdldFpDb29yZGluYXRlKGkpfTtcbiAgICAgIGNvbnN0IGhleENlbGwgPSBuZXcgSGV4YWdvbih7cmFkaXVzLCBjb29yZGluYXRlc30pXG5cbiAgICAgICRjb2x1bW4uYXBwZW5kKGhleENlbGwucmVuZGVyKCkpO1xuICAgICAgdGhpcy5fc2F2ZUNlbGwoaGV4Q2VsbCwgY29vcmRpbmF0ZXMpXG4gICAgfVxuXG4gICAgcmV0dXJuICRjb2x1bW5cbiAgfVxuXG4gIF9hZGRTdHlsZXMoKSB7XG4gICAgY29uc3QgZXhpc3RTdHlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWVsZC1zdHlsZXMnKTtcbiAgICBjb25zdCBoZXhTaXplcyA9IHRoaXMuX2NhbGNIZXhTaXplcygpO1xuICAgIGNvbnN0IHN0eWxlID0gYC5maWVsZF9fY29sdW1uIHttYXJnaW4tbGVmdDogJHt0aGlzLnJhZGl1cyAvIDJ9cHg7fS5oZXhhZ29uX291dGVyIHt3aWR0aDogJHtoZXhTaXplcy50YWxsZXJTaXplfXB4O2hlaWdodDogJHtoZXhTaXplcy53aWRlclNpemV9cHg7fWBcblxuICAgIGlmIChleGlzdFN0eWxlKSB7XG4gICAgICBleGlzdFN0eWxlLmlubmVyVGV4dCA9IHN0eWxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcbiAgICAgIG5ld1N0eWxlLmlkID0gJ2ZpZWxkLXN0eWxlcyc7XG4gICAgICBuZXdTdHlsZS5pbm5lclRleHQgPSBzdHlsZTtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kKG5ld1N0eWxlKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlU2l6ZTsgaSsrKSB7XG4gICAgICBjb25zdCBjYWxjdWxhdGVkQ291bnQgPSB0aGlzLnRhYmxlU2l6ZSAtIE1hdGguYWJzKHRoaXMuc2l6ZSAtIDEgLSBpKTtcbiAgICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLl9jcmVhdGVDb2x1bW5UZW1wbGF0ZShjYWxjdWxhdGVkQ291bnQsIGkgLSB0aGlzLnNpemUgKyAxKSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQWxsTmVpZ2hib3VycygpIHtcbiAgICBmb3IgKGxldCB4IGluIHRoaXMudGFibGUpIHtcbiAgICAgIGNvbnN0IGxpc3RYID0gdGhpcy50YWJsZVt4XTtcbiAgICAgIGZvciAobGV0IHkgaW4gbGlzdFgpIHtcbiAgICAgICAgY29uc3QgbGlzdFkgPSBsaXN0WFt5XTtcbiAgICAgICAgZm9yIChsZXQgeiBpbiBsaXN0WSkge1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZU5laWdoYm91cnMoe3gsIHksIHp9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpZWxkRXhpc3RJbk9iamVjdChvYmosIGZpZWxkKSB7XG4gIHJldHVybiAhIW9ialtmaWVsZF07XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRDb29yZGluYXRlc1RvTnVtYmVycyhjb29yZGluYXRlcykge1xuICByZXR1cm4ge1xuICAgIHg6IE51bWJlcihjb29yZGluYXRlcy54KSxcbiAgICB5OiBOdW1iZXIoY29vcmRpbmF0ZXMueSksXG4gICAgejogTnVtYmVyKGNvb3JkaW5hdGVzLnopXG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydENvb3JkaW5hdGVzVG9TdHJpbmdzKGNvb3JkaW5hdGVzKSB7XG4gIHJldHVybiB7XG4gICAgeDogU3RyaW5nKGNvb3JkaW5hdGVzLngpLFxuICAgIHk6IFN0cmluZyhjb29yZGluYXRlcy55KSxcbiAgICB6OiBTdHJpbmcoY29vcmRpbmF0ZXMueilcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3N0eWxlcy5sZXNzJ1xuaW1wb3J0IHtGaWVsZH0gZnJvbSAnQC9GaWVsZCdcbmltcG9ydCB7S2V5Ym9hcmR9IGZyb20gICdAL0tleWJvYXJkJztcbmltcG9ydCB7U2VydmVyfSBmcm9tIFwiQC9TZXJ2ZXJcIlxuXG5jb25zdCBmaWVsZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGQnKVxuY29uc3Qgc2VydmVyVXJsID0gJ2h0dHBzOi8vNjhmMDJjODAtM2JlZC00ZTEwLWE3NDctNGZmNzc0YWU5MDVhLnB1Yi5pbnN0YW5jZXMuc2N3LmNsb3VkLzInO1xuY29uc3QgZmllbGQgPSBuZXcgRmllbGQoZmllbGRFbGVtZW50LCA0LCA1MClcbmNvbnN0IGtleWJvYXJkID0gbmV3IEtleWJvYXJkKCk7XG5jb25zdCBzZXJ2ZXIgPSBuZXcgU2VydmVyKHNlcnZlclVybCk7XG5cblxua2V5Ym9hcmQub25LZXlEb3duKCdLZXlRJywgKCkgPT4gY29uc29sZS5sb2coJ2tleSBRIHByZXNzZWQnKSlcbmtleWJvYXJkLm9uS2V5RG93bignS2V5VycsICgpID0+IGNvbnNvbGUubG9nKCdrZXkgVyBwcmVzc2VkJykpXG5rZXlib2FyZC5vbktleURvd24oJ0tleUUnLCAoKSA9PiBjb25zb2xlLmxvZygna2V5IEUgcHJlc3NlZCcpKVxuXG5zZXJ2ZXIuZ2V0RGF0YSgpO1xuZmllbGQucmVuZGVyKCk7XG5maWVsZC51cGRhdGVBbGxOZWlnaGJvdXJzKCk7XG5cbmNvbnNvbGUubG9nKGZpZWxkLnRhYmxlKTtcblxuIiwiZXhwb3J0IGNsYXNzIEtleWJvYXJkIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleURvd25UYXNrTWFuYWdlci5iaW5kKHRoaXMpKVxuICB9XG5cbiAgb25LZXlEb3duVGFza01hbmFnZXIoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50LmNvZGVdKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50c1tldmVudC5jb2RlXSgpXG4gIH1cblxuICBvbktleURvd24oY29kZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmV2ZW50c1tjb2RlXSA9IGNhbGxiYWNrXG4gIH1cblxuICBvZmZLZXlEb3duKGNvZGUpIHtcbiAgICB0aGlzLmV2ZW50c1tjb2RlXSA9ICcnO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgU2VydmVyIHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gIH1cblxuICBfb25SZXNwb25jZShyZXNwb25zZSkge1xuICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwic2VydmVyUmVzcG9uc2VcIiwge1xuICAgICAgZGV0YWlsOiByZXNwb25zZVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgZ2V0RGF0YShib2R5PSdbXScpIHtcbiAgICBmZXRjaCh0aGlzLnVybCwge1xuICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICBib2R5XG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4odGhpcy5fb25SZXNwb25jZS5iaW5kKHRoaXMpKTtcbiAgfVxufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=